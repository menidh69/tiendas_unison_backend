(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1033:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(494),a(2)),s=a.n(o),i=a(7),m=a(4),u=(a(495),a(8)),d=a(28),p=a(21),E=a(15),f=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container bg-color text-center rounded py-2"},r.a.createElement("h4",{className:"text-white"},"\xbfAun no tienes cuenta?"),r.a.createElement(u.b,{to:"/registro"},r.a.createElement("button",{className:"btn btn-lg btn-warning"},"Registrate"))))},b=Object(n.createContext)(null),v=a(451),h=a.n(v),g=a(1076),y=a(1088),j=function(){var e=Object(n.useContext)(b),t=(e.user,e.setUser),a=Object(n.useState)(""),l=Object(m.a)(a,2),c=(l[0],l[1],Object(n.useState)(null)),o=Object(m.a)(c,2),u=(o[0],o[1],Object(n.useState)(null)),p=Object(m.a)(u,2),f=p[0],v=p[1],j=Object(n.useState)({email:null,nombre:null,contra:null,id_universidad:null,tel:null}),x=Object(m.a)(j,2),O=x[0],N=x[1],w=Object(n.useState)(null),k=Object(m.a)(w,2),C=k[0],S=k[1],_=Object(n.useState)([]),T=Object(m.a)(_,2),P=T[0],F=T[1],M=Object(d.g)();Object(n.useEffect)((function(){I()}),[]);var I=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidadesvalidadas");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),F(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:O.email,contra:O.contra},e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuario/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log(r),r.error?(console.log(r),M.push("/home")):(console.log(r),localStorage.setItem("token.tuw",r.user.token),t(r.user),M.push("/"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,null===O.contra||""===O.contra||null===f||""===f||O.contra!==f||null===O.id_universidad||""===O.id_universidad){e.next=14;break}return L(),a=O,e.next=7,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:return n=e.sent,e.next=10,n.json();case 10:(r=e.sent).error?console.log(r.error):z(),e.next=16;break;case 14:O.contra!==f?S("Contrase\xf1as no coinciden"):null===O.id_universidad||""===O.id_universidad?S("Seleccion una universidad porfavor"):null!=f&&""!=f&&null!=O.contra&&""!=O.contra||S("Hay que ingresar la contrase\xf1a en ambos campos"),console.log("passwords dont match");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/auth/fbLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log(r.user),1==r.exists?(localStorage.setItem("token.tuw",r.user.token),t(r.user),M.push("/home")):(q(),{email:a.email,nombre:a.name},N(Object(E.a)(Object(E.a)({},O),{},{email:a.email,nombre:a.name})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(n.useState)(!1),D=Object(m.a)(B,2),H=D[0],A=D[1],L=function(){return A(!1)},q=function(){return A(!0)};return r.a.createElement(n.Fragment,null,r.a.createElement(h.a,{appId:"2718234125104025",autoLoad:!1,fields:"name,email,picture",onClick:L,callback:U,cssClass:"px-4 rounded btn btn-lg btn-primary mx-auto border",icon:"fa-facebook"}),r.a.createElement(g.a,{show:H,onHide:L},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Termina tu registro")),r.a.createElement(g.a.Body,null,r.a.createElement("h4",null,"\xbfPrimera vez?"),r.a.createElement("p",null,"Selecciona tu universidad y establece una contrase\xf1a para tu cuenta antes de continuar"),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"universidad"},"Universidad"),r.a.createElement("select",{id:"universidad",name:"universidad",className:"form-control",onChange:function(e){"0"==e.target.value?N(Object(E.a)(Object(E.a)({},O),{},{id_universidad:null})):N(Object(E.a)(Object(E.a)({},O),{},{id_universidad:e.target.value}))}},r.a.createElement("option",{selected:!0,value:"0"},"Selecciona universidad"),P.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),C?r.a.createElement("p",{className:"text-danger small"},C):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",id:"password",className:"form-control",onChange:function(e){N(Object(E.a)(Object(E.a)({},O),{},{contra:e.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Repetir contrase\xf1a"),r.a.createElement("input",{type:"password",id:"repeat-password",className:"form-control",onChange:function(e){v(e.target.value)}}))),r.a.createElement(g.a.Footer,{className:"mx-auto"},r.a.createElement(y.a,{variant:"primary",onClick:R},"Continuar"))))};function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var N=r.a.createElement("path",{d:"m29.597 44.936c.03.029.061.058.092.085.748.649 1.686.973 2.622.973.938 0 1.875-.324 2.623-.973.039-.034.077-.07.113-.107l19.777-20.085c1.148-1.148 1.488-2.859.867-4.359-.621-1.501-2.072-2.47-3.695-2.47h-39.992c-1.623 0-3.074.969-3.695 2.469s-.281 3.211.878 4.37zm22.399-22.936-19.686 19.993-20.306-19.993z"}),w=function(e){var t=e.svgRef,a=e.title,n=O(e,["svgRef","title"]);return r.a.createElement("svg",x({id:"Layer",enableBackground:"new 0 0 64 64",height:512,viewBox:"0 0 64 64",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,N)},k=r.a.forwardRef((function(e,t){return r.a.createElement(w,x({svgRef:t},e))}));a.p;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8 c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2 c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8 c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1 c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8 c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5 l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6 c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1 l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1 C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9 c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8 c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42 c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8 c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8 c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2 c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42 c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6 c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1 c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8 c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7 c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z"}),r.a.createElement("path",{d:"M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001 z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"}))),T=r.a.createElement("g",null),P=r.a.createElement("g",null),F=r.a.createElement("g",null),M=r.a.createElement("g",null),I=r.a.createElement("g",null),z=r.a.createElement("g",null),R=r.a.createElement("g",null),U=r.a.createElement("g",null),B=r.a.createElement("g",null),D=r.a.createElement("g",null),H=r.a.createElement("g",null),A=r.a.createElement("g",null),L=r.a.createElement("g",null),q=r.a.createElement("g",null),V=r.a.createElement("g",null),J=function(e){var t=e.svgRef,a=e.title,n=S(e,["svgRef","title"]);return r.a.createElement("svg",C({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 478.703 478.703",style:{enableBackground:"new 0 0 478.703 478.703"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,_,T,P,F,M,I,z,R,U,B,D,H,A,L,q,V)},G=r.a.forwardRef((function(e,t){return r.a.createElement(J,C({svgRef:t},e))}));a.p;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var $=r.a.createElement("g",null,r.a.createElement("path",{d:"m51 16.414 7.707-7.707-1.414-1.414-6.293 6.293-2.293-2.293-1.414 1.414z"}),r.a.createElement("path",{d:"m21 13h2v2h-2z"}),r.a.createElement("path",{d:"m17 13h2v2h-2z"}),r.a.createElement("path",{d:"m13 13h2v2h-2z"}),r.a.createElement("path",{d:"m29 13h2v2h-2z"}),r.a.createElement("path",{d:"m37 13h2v2h-2z"}),r.a.createElement("path",{d:"m9 13h2v2h-2z"}),r.a.createElement("path",{d:"m25 13h2v2h-2z"}),r.a.createElement("path",{d:"m33 13h2v2h-2z"}),r.a.createElement("path",{d:"m63 11c0-5.514-4.486-10-10-10-3.262 0-6.154 1.577-7.981 4h-41.019c-1.654 0-3 1.346-3 3v34c0 1.654 1.346 3 3 3h18.402l.039.078c.366.731.559 1.548.559 2.364v4.108c0 1.074.252 2.151.73 3.113l2.27 4.571v3.721l18 .047v-3.669l1.6-2.133c.903-1.204 1.4-2.696 1.4-4.2v-8h9c1.654 0 3-1.346 3-3v-23.019c2.423-1.827 4-4.719 4-7.981zm-10-8c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm-7.981 14h-38.019v-6h36c0 2.253.758 4.326 2.019 6zm-.019 36c0 1.075-.355 2.14-1 3l-2 2.667v2.331l-14-.038v-2.195l-2.479-4.992c-.341-.687-.521-1.455-.521-2.223v-4.108c0-1.125-.266-2.252-.77-3.259l-1.165-2.33c-.042-.085-.065-.182-.065-.277 0-.341.278-.618.714-.618 2.915 0 5.286 2.372 5.286 5.287v1.713 2h2v-2-1.713-15.245c0-.551.449-1 1-1s1 .449 1 1v9 4h2v-4c0-.551.449-1 1-1s1 .449 1 1v4h2v-4c0-.551.449-1 1-1s1 .449 1 1v2 2h2v-2c0-.551.449-1 1-1s1 .449 1 1zm12-11c0 .551-.449 1-1 1h-9v-1c0-1.654-1.346-3-3-3-.395 0-.77.081-1.116.22-.345-1.275-1.501-2.22-2.884-2.22-.771 0-1.468.301-2 .78-.532-.48-1.229-.78-2-.78-.352 0-.686.072-1 .184v-6.184c0-1.654-1.346-3-3-3s-3 1.346-3 3v10.257c-1.341-1.411-3.245-2.299-5.381-2.299-1.443 0-2.618 1.174-2.619 2.618 0 .404.096.809.276 1.172l.127.252h-17.403c-.551 0-1-.449-1-1v-34c0-.551.449-1 1-1h39.841c-.279.636-.497 1.304-.639 2h-38.202v10h42.025c1.669 1.25 3.733 2 5.975 2 1.422 0 2.774-.303 4-.841z"}),r.a.createElement("path",{d:"m11 21c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm0 10c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z"}),r.a.createElement("path",{d:"m21 27h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m21 35h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m29 27h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m37 27h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m37 35h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m45 37h10v-14h-10zm2-12h6v10h-6z"}),r.a.createElement("path",{d:"m5 41h12v-6h-12zm2-4h8v2h-8z"})),Y=function(e){var t=e.svgRef,a=e.title,n=K(e,["svgRef","title"]);return r.a.createElement("svg",W({id:"Layer_5",enableBackground:"new 0 0 64 64",height:512,viewBox:"0 0 64 64",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,$)},Q=r.a.forwardRef((function(e,t){return r.a.createElement(Y,W({svgRef:t},e))}));a.p;function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ee=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M330.667,192c5.888,0,10.667-4.779,10.667-10.667v-128C341.333,23.936,317.419,0,288,0H53.333C23.915,0,0,23.936,0,53.333 v384c0,29.397,23.915,53.333,53.333,53.333H288c29.419,0,53.333-23.936,53.333-53.333v-128c0-5.888-4.779-10.667-10.667-10.667 S320,303.445,320,309.333v128c0,17.643-14.357,32-32,32H53.333c-17.643,0-32-14.357-32-32v-384c0-17.643,14.357-32,32-32H288 c17.643,0,32,14.357,32,32v128C320,187.221,324.779,192,330.667,192z"}))),te=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M480,234.667H138.667c-5.888,0-10.667,4.779-10.667,10.667S132.779,256,138.667,256H480 c5.888,0,10.667-4.779,10.667-10.667S485.888,234.667,480,234.667z"}))),ae=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M487.531,237.824l-64-64c-4.16-4.16-10.923-4.16-15.083,0c-4.16,4.16-4.16,10.923,0,15.083l56.448,56.448l-56.448,56.448 c-4.16,4.16-4.16,10.923,0,15.083c2.091,2.069,4.821,3.115,7.552,3.115c2.731,0,5.461-1.045,7.531-3.093l64-64 C491.691,248.747,491.691,241.984,487.531,237.824z"}))),ne=r.a.createElement("g",null),re=r.a.createElement("g",null),le=r.a.createElement("g",null),ce=r.a.createElement("g",null),oe=r.a.createElement("g",null),se=r.a.createElement("g",null),ie=r.a.createElement("g",null),me=r.a.createElement("g",null),ue=r.a.createElement("g",null),de=r.a.createElement("g",null),pe=r.a.createElement("g",null),Ee=r.a.createElement("g",null),fe=r.a.createElement("g",null),be=r.a.createElement("g",null),ve=r.a.createElement("g",null),he=function(e){var t=e.svgRef,a=e.title,n=Z(e,["svgRef","title"]);return r.a.createElement("svg",X({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 490.667 490.667",style:{enableBackground:"new 0 0 490.667 490.667"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,ee,te,ae,ne,re,le,ce,oe,se,ie,me,ue,de,pe,Ee,fe,be,ve)},ge=r.a.forwardRef((function(e,t){return r.a.createElement(he,X({svgRef:t},e))}));a.p;function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function je(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var xe=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M475.425,200.225L262.092,4.669c-6.951-6.359-17.641-6.204-24.397,0.35L36.213,200.574 c-3.449,3.348-5.399,7.953-5.399,12.758v280.889c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.959,17.778-17.778 v-130.37h82.963v130.37c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.953,17.778-17.778V213.333 C481.185,208.349,479.099,203.597,475.425,200.225z M445.629,476.444H333.037v-130.37c0-9.819-7.959-17.778-17.778-17.778H196.741 c-9.819,0-17.778,7.959-17.778,17.778v130.37H66.37V220.853L250.424,42.216l195.206,178.939V476.444z"}))),Oe=r.a.createElement("g",null),Ne=r.a.createElement("g",null),we=r.a.createElement("g",null),ke=r.a.createElement("g",null),Ce=r.a.createElement("g",null),Se=r.a.createElement("g",null),_e=r.a.createElement("g",null),Te=r.a.createElement("g",null),Pe=r.a.createElement("g",null),Fe=r.a.createElement("g",null),Me=r.a.createElement("g",null),Ie=r.a.createElement("g",null),ze=r.a.createElement("g",null),Re=r.a.createElement("g",null),Ue=r.a.createElement("g",null),Be=function(e){var t=e.svgRef,a=e.title,n=je(e,["svgRef","title"]);return r.a.createElement("svg",ye({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,xe,Oe,Ne,we,ke,Ce,Se,_e,Te,Pe,Fe,Me,Ie,ze,Re,Ue)},De=r.a.forwardRef((function(e,t){return r.a.createElement(Be,ye({svgRef:t},e))}));a.p;function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Le=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M503.142,79.784c-7.303-8.857-18.128-13.933-29.696-13.933H176.37c-6.085,0-11.023,4.938-11.023,11.023 c0,6.085,4.938,11.023,11.023,11.023h297.07c5.032,0,9.541,2.1,12.688,5.914c3.197,3.88,4.475,8.995,3.511,13.972l-44.054,220.282 c-1.709,7.871-8.383,13.366-16.232,13.366H184.323L83.158,36.854C77.69,21.234,62.886,10.74,45.932,10.74 c-0.005,0-0.011,0-0.017,0c-14.38,0.496-28.963,0.491-32.535,0.248c-3.555-0.772-7.397,0.22-10.152,2.976 c-4.305,4.305-4.305,11.282,0,15.587c3.412,3.412,4.564,4.564,43.068,3.23c7.22,0,13.674,4.564,15.995,11.188l103.618,311.962 c1.499,4.503,5.71,7.545,10.461,7.545h252.982c18.31,0,33.841-12.638,37.815-30.909l44.109-220.525 C513.503,100.513,510.544,88.757,503.142,79.784z"}))),qe=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M424.392,424.11H223.77c-6.785,0-13.162-4.674-15.46-11.233l-21.495-63.935c-1.94-5.771-8.207-8.885-13.961-6.934 c-5.771,1.935-8.874,8.19-6.934,13.961l21.539,64.061c5.473,15.625,20.062,26.119,36.31,26.119h200.622 c6.085,0,11.023-4.933,11.023-11.018S430.477,424.11,424.392,424.11z"}))),Ve=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M231.486,424.104c-21.275,0-38.581,17.312-38.581,38.581s17.306,38.581,38.581,38.581s38.581-17.312,38.581-38.581 S252.761,424.104,231.486,424.104z M231.486,479.22c-9.116,0-16.535-7.419-16.535-16.535c0-9.116,7.419-16.535,16.535-16.535 c9.116,0,16.535,7.419,16.535,16.535C248.021,471.802,240.602,479.22,231.486,479.22z"}))),Je=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M424.392,424.104c-21.269,0-38.581,17.312-38.581,38.581s17.312,38.581,38.581,38.581 c21.269,0,38.581-17.312,38.581-38.581S445.661,424.104,424.392,424.104z M424.392,479.22c-9.116,0-16.535-7.419-16.535-16.535 c0-9.116,7.419-16.535,16.535-16.535c9.116,0,16.535,7.419,16.535,16.535C440.927,471.802,433.508,479.22,424.392,479.22z"}))),Ge=r.a.createElement("g",null),We=r.a.createElement("g",null),Ke=r.a.createElement("g",null),$e=r.a.createElement("g",null),Ye=r.a.createElement("g",null),Qe=r.a.createElement("g",null),Xe=r.a.createElement("g",null),Ze=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=r.a.createElement("g",null),at=r.a.createElement("g",null),nt=r.a.createElement("g",null),rt=r.a.createElement("g",null),lt=r.a.createElement("g",null),ct=r.a.createElement("g",null),ot=function(e){var t=e.svgRef,a=e.title,n=Ae(e,["svgRef","title"]);return r.a.createElement("svg",He({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512.001 512.001",style:{enableBackground:"new 0 0 512.001 512.001"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,Le,qe,Ve,Je,Ge,We,Ke,$e,Ye,Qe,Xe,Ze,et,tt,at,nt,rt,lt,ct)},st=r.a.forwardRef((function(e,t){return r.a.createElement(ot,He({svgRef:t},e))}));a.p;function it(e){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"leftNav"},r.a.createElement(u.b,{to:"/home"},r.a.createElement(mt,{icon:r.a.createElement(De,null)}))),r.a.createElement("div",{className:"centerNav"},r.a.createElement("a",null,r.a.createElement("h1",null,"Tiendas Universidad"))),r.a.createElement("ul",{className:"navbar-nav"},e.children))}function mt(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1];return r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"icon-button",onClick:function(){return c(!l)}},e.icon),r.a.createElement("div",{style:{display:"contents"},onClick:function(){return c(!l)}},l&&e.children))}function ut(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){f()}),[]);var c=Object(n.useContext)(b),o=c.user,p=c.setUser,E=Object(d.g)(),f=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/carrito/".concat(o.id));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/carritoItem/".concat(a[0].id));case 8:return n=e.sent,e.next=11,n.json();case 11:r=e.sent,console.log(r[0]),null==r?console.log("hola"):l(r[0]);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function v(e){return r.a.createElement("a",{className:"menu-item",onClick:e.func},r.a.createElement("span",{className:"icon-button"},e.leftIcon),e.children)}return r.a.createElement("div",{className:"dropdown-nav"},r.a.createElement(u.b,{to:"/PerfilCliente"},r.a.createElement(v,{leftIcon:r.a.createElement(Q,null)},"Mi perfil")),r.a.createElement(u.b,{to:"/carrito"},r.a.createElement(v,{href:"#",leftIcon:r.a.createElement(st,null)},"Carrito(",a.length,")")),r.a.createElement(u.b,{to:"/pedidos"},r.a.createElement(v,{href:"#",leftIcon:r.a.createElement(st,null)},"Pedidos recientes")),r.a.createElement(u.b,{to:"/misCompras"},r.a.createElement(v,{leftIcon:r.a.createElement(Q,null)},"Mis compras")),r.a.createElement(v,{href:"#",leftIcon:r.a.createElement(G,null)},"Configuracion"),r.a.createElement(u.b,{to:"/"},r.a.createElement(v,{leftIcon:r.a.createElement(ge,null),func:function(){return localStorage.removeItem("token.tuw"),alert("Hiciste logout"),p(null),void E.push("/")}},"Cerrar Sesion")))}var dt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(it,null,r.a.createElement(mt,{icon:r.a.createElement(k,null)},r.a.createElement(ut,null))))},pt=(a(320),a(1066)),Et=a(456),ft=function(){var e=Object(n.useContext)(b),t=e.user;e.setUser;Object(n.useEffect)((function(){var e=!0;return E().then((function(t){e&&o(t)})),function(){return e=!1}}),[]);var a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],o=l[1],d=Object(n.useState)({}),p=Object(m.a)(d,2),E=(p[0],p[1],function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/".concat(t.id_universidad));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),f={width:"12rem"},v={maxWidth:"100%",height:"175px",objectFit:"cover"};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container my-4"},r.a.createElement("h2",{className:"text-center"}," Listado de Tiendas"),r.a.createElement(pt.a,null,c.map((function(e){return r.a.createElement(Et.a,{key:e.id,lg:3,md:4,sm:6},r.a.createElement("div",{className:"card rounded shadow text-center h-100",style:f},r.a.createElement("img",{src:e["tienda.url_imagen"]||"https://via.placeholder.com/300x300",style:v,className:"card-img-top"}),r.a.createElement("div",{className:"card-body h-75"},r.a.createElement("h4",{className:"card-title"},e["tienda.nombre"]),r.a.createElement("p",{className:"card-text"},e["tienda.horario"],r.a.createElement("br",null),e["tienda.tarjeta"]?"Si aceptan tarjeta":"No aceptan tarjeta"),r.a.createElement(u.b,{to:"/tiendas/".concat(e["tienda.id"])},r.a.createElement("button",{className:"btn btn-block btn-primary my-2"},"Ver Tienda")),r.a.createElement(u.b,{to:"/tiendas/".concat(e["tienda.id"],"/menu")},r.a.createElement("button",{className:"btn btn-block btn-primary my-2"},"Ver Men\xfa")))))})))))},bt=a(23),vt=a(91),ht=[{featureType:"all",elementType:"all",stylers:[{saturation:"32"},{lightness:"-3"},{visibility:"on"},{weight:"1.18"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-70"},{lightness:"14"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{saturation:"100"},{lightness:"-14"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"},{lightness:"12"}]}];var gt=Object(bt.withScriptjs)(Object(bt.withGoogleMap)((function(e){var t=Object(n.useContext)(b),a=t.user,l=(t.setUser,Object(n.useState)([])),c=Object(m.a)(l,2),o=c[0],d=c[1],p=Object(n.useState)(null),E=Object(m.a)(p,2),f=E[0],v=E[1],h=Object(n.useState)(null),g=Object(m.a)(h,2),y=g[0],j=g[1],x=Object(n.useState)(),O=Object(m.a)(x,2),N=O[0],w=O[1];function k(e){j({latitude:e.coords.latitude,longitude:e.coords.longitude}),console.log(e.coords.latitude),console.log(e.coords.longitude)}Object(n.useEffect)((function(){var e=!0;return function(){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(k);else alert("Geolocation not supported by browser")}(),C().then((function(t){e&&d(t)})),S().then((function(t){e&&w(t)})),function(){return e=!1}}),[]);var C=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/".concat(a.id_universidad));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/ubi/".concat(a.id_universidad));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,r={lat:parseFloat(n.lat),lng:parseFloat(n.lng)},console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_={styles:ht,disableDefaultUI:!0};return r.a.createElement(bt.GoogleMap,{defaultZoom:17,center:N,options:_},o.map((function(e){return r.a.createElement(bt.Marker,{key:e["tienda.id"],position:{lat:parseFloat(e["tienda.ubicacion.lat"]),lng:parseFloat(e["tienda.ubicacion.lng"])},icon:{url:"/store-solid.svg",scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)},onClick:function(){v(e)}})})),y?r.a.createElement(bt.Marker,{key:"myPosition",position:{lat:y.latitude,lng:y.longitude}}):null,f?r.a.createElement(bt.InfoWindow,{position:{lat:parseFloat(f["tienda.ubicacion.lat"]),lng:parseFloat(f["tienda.ubicacion.lng"])},onCloseClick:function(){v(null)}},r.a.createElement("div",{class:"card",style:{maxWidth:"150px"}},r.a.createElement("img",{src:f["tienda.url_imagen"],class:"card-img-top",alt:"..."}),r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title"},f["tienda.nombre"]),r.a.createElement(u.b,{to:"/tiendas/".concat(f["tienda.id"],"/menu")},r.a.createElement("button",{class:"btn btn-primary rounded-pill",onClick:function(){return v(null)}},"Ver men\xfa"))))):null)}))),yt=function(e){return r.a.createElement("div",null,r.a.createElement(gt,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))},jt=function(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)({})),l=Object(m.a)(a,2),c=(l[0],l[1]),o=Object(n.useState)(""),u=Object(m.a)(o,2);u[0],u[1];Object(n.useEffect)((function(){var e=!0;return d().then((function(t){e&&c(t)})),function(){return e=!1}}),[]);var d=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/".concat(t.id_universidad));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center my-4 container"},r.a.createElement(yt,null)),r.a.createElement("div",{className:"text-center my-4 container"},r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",null,r.a.createElement(ft,{className:"my-4"}))))},xt=(a(271),a(1083)),Ot=a(1087);function Nt(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)({nombre_titular:"",num_tarjeta:"",exp_date:"",cvv:"",cpp:""}),d=Object(m.a)(u,2);d[0],d[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(t.id));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,o(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null==c||0==c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"menuItem"},r.a.createElement("p",{className:"nomargin"},"Aun no ha agregado ninguna tarjeta."))))):c.length>0?r.a.createElement(r.a.Fragment,null,c.map((function(e){return r.a.createElement("div",null,r.a.createElement(xt.a,null,r.a.createElement(Ot.a,null,r.a.createElement(Ot.a.Header,null,r.a.createElement(xt.a.Toggle,{as:y.a,variant:"link",eventKey:"0"},"Tarjeta")),r.a.createElement(xt.a.Collapse,{eventKey:"0"},r.a.createElement(Ot.a.Body,null,r.a.createElement("p",null,r.a.createElement("b",null,"Titular: "),e.nombre_titular),r.a.createElement("p",null,r.a.createElement("b",null,"Numero Tarjeta:")," ",e.num_tarjeta),r.a.createElement("p",null,r.a.createElement("b",null,"Fecha expiraci\xf3n:")," ",e.exp_date),r.a.createElement("p",null,r.a.createElement("b",null,"CVV:")," ",e.cvv),r.a.createElement("p",null,r.a.createElement("b",null,"CPP:")," ",e.cpp),r.a.createElement(wt,{infobanks:e}))))))}))):void 0}function wt(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#editar"+e.infobanks.id,role:"button",className:"btn btn-primary btn-sm","data-toggle":"modal"},"Editar"),r.a.createElement(kt,{infobanks:e.infobanks}))}function kt(e){Object(d.g)();var t=Object(n.useState)({}),a=Object(m.a)(t,2),l=a[0],c=a[1],o=function(e){c(Object(E.a)(Object(E.a)({},l),{},Object(p.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){u()}),[]);var u=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(e.infobanks.id));case 2:return n=t.sent,t.next=5,n.json();case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function f(e){if(!new RegExp(/\d{5}/).test(e))return alert("Introduce un codigo postal valido de 5 digitos ")}function b(e){if(!new RegExp(/(\d{4} *\d{4} *\d{4} *\d{4})/).test(e))return alert("Introduce un numero de tarjeta valido de 16 digitos ")}function v(e){if(!new RegExp(/(\d{2})\/?(\d{2})/).test(e))return alert("Introduce bien el mes/a\xf1o")}function h(e){if(!new RegExp(/\d{3}/).test(e))return alert("Introduce el c\xf3digo de 3 digitos ")}var g=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("PROPS INFOBANKS ID",e.infobanks.id),""!=l.num_tarjeta&&b(l.num_tarjeta),""!=l.exp_date&&v(l.exp_date),""!=l.cvv&&h(l.cvv),""!=l.cpp&&f(l.cpp),t.prev=5,n=l,t.next=9,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(e.infobanks.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 9:t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"editar"+e.infobanks.id,class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Editar"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("label",{for:"nombre"},"Titular de la tarjeta"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"nombre_titular",type:"text",name:"nombre_titular",value:l.nombre_titular,onChange:o})),r.a.createElement("label",{for:"num_tarjeta"},"N\xfamero de tarjeta"),r.a.createElement("p",null,r.a.createElement("small",null,"Ingresa un n\xfamero de tarjeta de 16 digitos eg. 5555 5555 5555 5555")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"num_tarjeta",type:"text",name:"num_tarjeta",value:l.num_tarjeta,onChange:o})),r.a.createElement("label",{for:"exp_date"},"Fecha Expiraci\xf3n"),r.a.createElement("p",null,r.a.createElement("small",null,"eg. 04/28")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"exp_date",type:"text",name:"exp_date",placeholder:"MM / YY",value:l.exp_date,onChange:o})),r.a.createElement("label",{for:"cvv"},"Cvv"),r.a.createElement("p",null,r.a.createElement("small",null," C\xf3digo de 3 digitos de la parte trasera de tu tarjeta")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"cvv",type:"text",name:"cvv",placeholders:l.cvv,onChange:o})),r.a.createElement("label",{for:"cpp"},"C\xf3digo Postal"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"tel",type:"text",name:"cpp",value:l.cpp,onChange:o}))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-success","data-dismiss":"modal",onClick:function(){return g()}},"Editar")))))}var Ct=function(){var e=Object(d.g)(),t=Object(n.useState)({nombre:"",tel:"",nombre_titular:"",num_tarjeta:"",exp_date:"",cvv:"",cpp:""}),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)({}),u=Object(m.a)(o,2),f=u[0],v=u[1],h=Object(n.useContext)(b),g=h.user,y=h.setUser;Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarioinfoperfil/".concat(g.id));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a[0]),v(a[0]),c(a[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){c(Object(E.a)(Object(E.a)({},l),{},Object(p.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""==l.nombre&&(l.nombre=f.nombre),""==l.tel&&(l.tel=f.tel),a=l,console.log(l),e.prev=4,e.next=7,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/".concat(g.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:e.sent,j(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuariosdelete/".concat(a),{method:"DELETE"});case 3:t.sent,localStorage.removeItem("token.tuw"),alert("Gracias, adios"),y(null),e.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();function w(e){if(!new RegExp(/\d{5}/).test(e))return alert("Introduce un codigo postal valido de 5 digitos ")}function k(e){if(!new RegExp(/(\d{4} *\d{4} *\d{4} *\d{4})/).test(e))return alert("Introduce un numero de tarjeta valido de 16 digitos ")}function C(e){if(!new RegExp(/(\d{2})\/?(\d{2})/).test(e))return alert("Introduce bien el mes/a\xf1o")}function S(e){if(!new RegExp(/\d{3}/).test(e))return alert("Introduce el c\xf3digo de 3 digitos ")}var _=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(l.num_tarjeta),C(l.exp_date),S(l.cvv),w(l.cpp),""===l.num_tarjeta||""==l.exp_date||""==l.nombre_titular||""==l.cvv||""==l.cpp){e.next=16;break}return e.prev=5,a=l,e.next=9,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(g.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:e.sent,j(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-12"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"card-title mb-4"},r.a.createElement("div",{className:""},r.a.createElement("div",{class:"text-center ml-3"},r.a.createElement("h2",{className:""},"Mi Informaci\xf3n"),r.a.createElement("hr",null)))),r.a.createElement("div",{class:"row"},r.a.createElement("hr",null),r.a.createElement("div",{class:"col-12"},r.a.createElement("ul",{class:"nav nav-tabs mb-4",id:"myTab",role:"tablist"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link active",id:"MyInfo-tab","data-toggle":"tab",href:"#MyInfo",role:"tab","aria-controls":"MyInfo","aria-selected":"true"},"Perfil")),r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",id:"InfoBank-tab","data-toggle":"tab",href:"#InfoBank",role:"tab","aria-controls":"InfoBank","aria-selected":"false"},"Informaci\xf3n Bancaria"))),r.a.createElement("div",{class:"tab-content ml-l",id:"myTabContent"},r.a.createElement("div",{class:"tab-pane fade show active",id:"MyInfo",role:"tabpanel","aria-labelledby":"MyInfo-tab"},r.a.createElement("table",{className:"table table-striped "},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("td",null,f.nombre)),r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("td",null,f.email)),r.a.createElement("tr",null,r.a.createElement("th",null,"Telefono"),r.a.createElement("td",null,f.tel))))),r.a.createElement("button",{className:"btn btn-lg btn-danger rounded-pill mx-2","data-toggle":"modal",href:"#Modal"},"Eliminar cuenta"),r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary rounded-pill mx-2","data-toggle":"modal",href:"#Editar"},"Editar")),r.a.createElement("div",{class:"tab-pane fade",id:"InfoBank",role:"tabpanel","aria-labelledby":"InfoBank-tab"},r.a.createElement(Nt,null),r.a.createElement("button",{className:"btn btn-lg btn-danger rounded-pill mx-2","data-toggle":"modal",href:"#Modal"},"Eliminar cuenta"),r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary rounded-pill mx-2","data-toggle":"modal",href:"#GuardarInfoBank"},"Agregar Nueva info Bancaria"))),r.a.createElement("div",{id:"Modal",class:"modal"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"\xbfEst\xe1s seguro?")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("p",null,"\xbfSeguro que quieres eliminar tu perfil ?"),r.a.createElement("p",{class:"text-danger"},r.a.createElement("small",null,"Si lo borras, nunca podr\xe1s recuperarlo."))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return N(g.id)},"data-dismiss":"modal"},"Eliminar")))))))))))),r.a.createElement("div",{id:"Editar",class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Editar Mi Informaci\xf3n")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"nombre"},"Nombre"),r.a.createElement("div",null,r.a.createElement("input",{id:"nombre",type:"text",name:"nombre",className:"form-control",value:l.nombre,onChange:x}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"tel"},"Telefono"),r.a.createElement("div",null,r.a.createElement("input",{id:"tel",type:"text",name:"tel",className:"form-control",value:l.tel,onChange:x})))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:function(){return O(g.id)}},"Guardar"))))),r.a.createElement("div",{id:"GuardarInfoBank",class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Editar Informaci\xf3n Bancaria"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("label",{for:"nombre"},"Titular de la tarjeta"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"nombre_titular",type:"text",name:"nombre_titular",value:l.nombre_titular,onChange:x})),r.a.createElement("label",{for:"num_tarjeta"},"N\xfamero de tarjeta"),r.a.createElement("p",null,r.a.createElement("small",null,"Ingresa un n\xfamero de tarjeta de 16 digitos eg. 5555 5555 5555 5555")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"num_tarjeta",type:"tel",name:"num_tarjeta",value:l.num_tarjeta,onChange:x})),r.a.createElement("label",{for:"exp_date"},"Fecha Expiraci\xf3n"),r.a.createElement("p",null,r.a.createElement("small",null,"eg. 04/28")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"exp_date",type:"tel",name:"exp_date",placeholder:"MM / YY",value:l.exp_date,onChange:x})),r.a.createElement("label",{for:"cvv"},"Cvv"),r.a.createElement("p",null,r.a.createElement("small",null," C\xf3digo de 3 digitos de la parte trasera de tu tarjeta")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"cvv",type:"text",name:"cvv",value:l.cvv,onChange:x})),r.a.createElement("label",{for:"cpp"},"C\xf3digo Postal"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"cpp",type:"tel",name:"cpp",value:l.cpp,onChange:x}))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-success","data-dismiss":"modal",onClick:function(){return _(g.id)}},"Guardar"))))))},St=a(80),_t=a(81),Tt=function(e){var t=e.fill,a=void 0!==t&&t;return r.a.createElement(n.Fragment,null,a?r.a.createElement(St.a,{color:"gold",icon:_t.d}):r.a.createElement(St.a,{icon:_t.d}))},Pt=Object(bt.withScriptjs)(Object(bt.withGoogleMap)((function(e){var t={styles:ht,disableDefaultUI:!0};return r.a.createElement(bt.GoogleMap,{defaultZoom:16.5,center:e.markerPosition,options:t},r.a.createElement(bt.Marker,{position:e.markerPosition,icon:{url:"/store-solid.svg",scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)}}))}))),Ft=function(e){return console.log(e.markerPosition),r.a.createElement("div",null,r.a.createElement(Pt,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),markerPosition:e.markerPosition}))},Mt=function(){Object(d.g)();var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(b),o=c.user,p=(c.setUser,Object(n.useState)(!1)),E=Object(m.a)(p,2),f=E[0],v=E[1],h=Object(d.i)().id,j=Object(n.useState)(),x=Object(m.a)(j,2),O=x[0],N=x[1],w=Object(n.useState)([]),k=Object(m.a)(w,2),C=k[0],S=k[1],_=Object(n.useState)(!1),T=Object(m.a)(_,2),P=T[0],F=T[1],M=function(){return F(!1)};Object(n.useEffect)((function(){var e=!0;R().then((function(t){return e&&(!1===t.validada&&I(),l(t),N({lat:parseFloat(t.ubicacion.lat),lng:parseFloat(t.ubicacion.lng)}),z(t.review_tiendas)),function(){return e=!1}}))}),[]);var I=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/".concat(o.id,"/tiendas/").concat(h));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("tienda validacion personal:"+a.status),"false"==a.status?F(!0):v(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){var t=0;e.map((function(e){t+=e.calificacion})),t/=e.length;for(var a=[],n=0;n<t;n++)a.push(n);S(a)},R=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/".concat(h));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,console.log(a.tienda),e.abrupt("return",a.tienda[0]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/".concat(o.id,"/").concat(a.id),{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/".concat(o.id,"/").concat(h),{method:"POST"});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),M();case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container py-4 my-2"},r.a.createElement("div",null,r.a.createElement("h1",{className:"my-2 display-4 text-dark text-center"},"Tienda ",a.nombre),a.validada?r.a.createElement("h5",{className:"text-center"},"Verificada ",r.a.createElement(St.a,{icon:_t.b,className:"text-primary"})):r.a.createElement("h5",{className:"text-center"},"(Pendiente de verificaci\xf3n)")),r.a.createElement("div",{className:"row my-5"},r.a.createElement("div",{className:"my-5 col-md-6 text-left"},r.a.createElement("h2",{className:"text-left mb-4"},"Informaci\xf3n General"),r.a.createElement("div",{className:"my-4"},r.a.createElement("h5",null,"Horario"),r.a.createElement("p",null,a.horario)),r.a.createElement("div",{className:"my-4"},r.a.createElement("h5",null,"\xbfAceptan tarjeta?"),r.a.createElement("p",null,a.tarjeta?"Si":"No")),r.a.createElement("h5",{className:"my-2"},"Calificacion"),r.a.createElement("div",null,C.length>0?C.map((function(e){return r.a.createElement(Tt,{fill:!0})})):null),r.a.createElement(u.b,{to:"/tiendas/".concat(h,"/menu")},r.a.createElement("button",{className:"mx-auto text-center btn btn-lg rounded-pill btn-primary shadow btn-block my-4 ml-0 pl-0"}," Ver men\xfa ")),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-lg btn-outline-danger rounded-pill mx-2 shadow","data-toggle":"modal",href:"#reportar"},"Reportar"),f?null:r.a.createElement("button",{class:"btn btn-outline-primary btn-lg rounded-pill mx-2 shadow","data-toggle":"modal",href:"#validar"},"Verificar tienda"))),r.a.createElement("div",{className:"col-md-6 border rounded py-auto",style:{backgroundColor:"#29698f",display:"flex",alignItems:"center"}},r.a.createElement("img",{alt:"Tienda",className:"border my-auto py-auto",style:{maxWidth:"100%"},src:a.url_imagen})),r.a.createElement("div",{className:"col-12 my-2 border rounded"},r.a.createElement("h1",{className:"my-4 text-dark"},"Ubicacion"),r.a.createElement(Ft,{markerPosition:O}))),r.a.createElement("div",{id:"reportar",class:"modal"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Reporte de tienda")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("p",null,"En caso de que la tienda no exista, ay\xfadanos con tu reporte para evitar fraudes, al enviarlo est\xe1s afirmando que la tienda no existe "),r.a.createElement("div",{class:"md-form"},r.a.createElement("input",{type:"text",id:"inputMDEx",class:"form-control"}),r.a.createElement("label",{for:"inputMDEx"},"Raz\xf3n de reporte")),r.a.createElement("div",{class:"custom-control custom-checkbox mr-sm-2"},r.a.createElement("input",{type:"checkbox",required:!0,class:"custom-control-input",id:"customControlAutosizing"}),r.a.createElement("label",{class:"custom-control-label",for:"customControlAutosizing"},"Ok, entiendo."))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cancelar"),r.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:U,"data-dismiss":"modal"},"Enviar reporte"))))),r.a.createElement(g.a,{show:P,onHide:M,animation:!0},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Verificaci\xf3n de Tienda")),r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"\xa1Con tu informaci\xf3n ayudas a las tiendas y a que los usuarios tengan compras m\xe1s seguras! ",r.a.createElement("br",null),"Al enviar este informe estas afirmando que la tienda si existe.  ")),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"primary",className:"mx-auto",onClick:B},"Verificar")))))},It=a(482);function zt(e){var t=Object(n.useState)({}),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(m.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)([]),p=Object(m.a)(d,2);p[0],p[1];console.log(e.name);var E={width:"12rem"},f={maxWidth:"100%",height:"175px",objectFit:"cover"},b=function(e){var t=0;e.map((function(e){t+=e.calificacion})),t/=e.length;for(var a=[],n=0;n<t;n++)a.push(n);return a},v=function(e){c(e),u(!0)},h=function(){return u(!1)},j={backgroundColor:"#FF9500"};return r.a.createElement(n.Fragment,null,e.name.map((function(t){return r.a.createElement(n.Fragment,null,e.categoria?r.a.createElement(n.Fragment,null,e.categoria==t.categoria?r.a.createElement("div",{className:"col-md-3 my-2"},r.a.createElement("div",{className:"card rounded shadow text-center h-100",style:E},r.a.createElement("img",{src:t.url_imagen||"https://via.placeholder.com/300x300",style:f,className:"card-img-top"}),r.a.createElement("div",{className:"card-body h-75"},r.a.createElement("div",{className:"container"},r.a.createElement("h6",{className:"card-title"},t.nombre)),r.a.createElement("div",null,b(t.reviews).map((function(e){return r.a.createElement(Tt,{fill:!0})}))),r.a.createElement("div",{className:"card-text"},"$",t.precio)),r.a.createElement("button",{className:"btn btn-block btn-info w-75 my-2 mx-auto",style:j,onClick:function(){return v(t)}},"Mas info"),r.a.createElement(Rt,{validada:e.validada,validar:e.validar,item:t}))):null):r.a.createElement("div",{className:"col-md-3 my-2"},r.a.createElement("div",{className:"card rounded shadow text-center h-100",style:E},r.a.createElement("img",{src:t.url_imagen||"https://via.placeholder.com/300x300",style:f,className:"card-img-top"}),r.a.createElement("div",{className:"card-body h-75"},r.a.createElement("div",{className:"container"},r.a.createElement("h6",{className:"card-title"},t.nombre)),r.a.createElement("div",null,b(t.reviews).map((function(e){return r.a.createElement(Tt,{fill:!0})}))),r.a.createElement("div",{className:"card-text my-2"},"$",t.precio)),r.a.createElement("button",{style:j,className:"btn btn-block btn-info w-75 my-2 mx-auto",onClick:function(){return v(t)}},"Mas info"),r.a.createElement(Rt,{validada:e.validada,validar:e.validar,item:t}))))})),i?r.a.createElement(g.a,{show:i,onHide:h,className:"text-center"},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,l.nombre)),r.a.createElement(g.a.Body,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:l.url_imagen||"https://via.placeholder.com/300x300",style:f})),r.a.createElement("div",null,b(l.reviews).map((function(e){return r.a.createElement(Tt,{fill:!0})}))),r.a.createElement("p",null,"$ ",l.precio,r.a.createElement("br",null),"Categor\xeda: ",l.categoria,r.a.createElement("br",null),"Descripci\xf3n: ",l.descripcion)),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:h},"Cerrar"))):"")}function Rt(e){return r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"#agregar"+e.item.id,role:"button",style:{backgroundColor:"#FF9500"},className:"btn btn-block btn-info w-75 my-2 mx-auto","data-toggle":"modal"},"Agregar ",r.a.createElement(St.a,{icon:_t.a})),r.a.createElement(Ut,{validada:e.validada,validar:e.validar,item:e.item,cantidad:"1"}))}function Ut(e){var t=Object(n.useContext)(b),a=t.user,l=(t.setUser,Object(n.useState)({cantidad:e.cantidad})),c=Object(m.a)(l,2),o=c[0],u=c[1],d=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id_producto:t,cantidad:n},e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/agregarCarrito/".concat(a.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return l=e.sent,e.next=6,l.json();case 6:c=e.sent,console.log(c);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,"false"!==e.validada?r.a.createElement("div",{id:"agregar"+e.item.id,class:"modal fade"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Cantidad a agregar"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"\xbfCuantos ",e.item.nombre," deseas agregar?"),r.a.createElement("input",{type:"number",name:"cantidad",value:o.cantidad,min:"1",max:"10",onChange:function(e){u(Object(E.a)(Object(E.a)({},o),{},Object(p.a)({},e.target.name,e.target.value)))}})),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:function(){return d(e.item.id,o.cantidad)}},"Agregar"))))):r.a.createElement("div",{id:"agregar"+e.item.id,class:"modal fade"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Advertencia"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("h4",null,"\xa1La tienda no esta validada!"),r.a.createElement("p",null,"Estas intentando agregar productos de una tienda que no has validado, si conoces esta tienda validala para poder agregar sus productos a tu carrito")),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:function(){return e.validar()}},"Validar"))))))}var Bt=function(){var e=Object(n.useContext)(b),t=e.user;e.setUser;Object(n.useEffect)((function(){K().then((function(e){p(e)})),W().then((function(e){N(e),!1===e.validada&&G().then((function(e){q(e)}))}))}),[]);var a=Object(d.i)().id,l=Object(n.useState)([]),c=Object(m.a)(l,2),o=c[0],p=c[1],E=Object(n.useState)([]),f=Object(m.a)(E,2),v=(f[0],f[1],Object(n.useState)({})),h=Object(m.a)(v,2),j=(h[0],h[1],Object(n.useState)({})),x=Object(m.a)(j,2),O=x[0],N=x[1],w=Object(n.useState)(""),k=Object(m.a)(w,2),C=k[0],S=k[1],_=Object(n.useState)([]),T=Object(m.a)(_,2),P=(T[0],T[1]),F=Object(n.useState)("items"),M=Object(m.a)(F,2),I=M[0],z=M[1],R=Object(n.useState)(),U=Object(m.a)(R,2),B=U[0],D=U[1],H=Object(n.useState)(),A=Object(m.a)(H,2),L=A[0],q=A[1],V=Object(n.useState)(!1),J=Object(m.a)(V,2);J[0],J[1];Object(n.useEffect)((function(){!function(e){var t={nombre:"nombre",precio:"precio"}[e],a=Object(It.a)(o).sort((function(e,a){return a[t]-e[t]}));P(a)}(I)}),[I]);var G=function(){var e=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/".concat(t.id,"/tiendas/").concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,console.log("tienda validacion personal:"+r.status),"false"!=r.status){e.next=12;break}return te(),e.abrupt("return",r.status);case 12:return e.abrupt("return",r.status);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/".concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.tienda[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/".concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 12:return r=e.sent,e.next=15,r.json();case 15:l=e.sent,N(l.tienda[0]),console.log(l.tienda[0]),!1===l.tienda[0].validada&&G();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(s.a.mark((function e(n,r){var l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/".concat(t.id,"/").concat(a),{method:"POST"});case 2:return l=e.sent,e.next=5,l.json();case 5:c=e.sent,console.log(c),q("true"),ee();case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=Object(n.useState)(!1),Q=Object(m.a)(Y,2),X=Q[0],Z=Q[1],ee=function(){return Z(!1)},te=function(){return Z(!0)};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container my-4 text-center"},r.a.createElement(pt.a,{className:"my-2"},r.a.createElement(Et.a,null),r.a.createElement(Et.a,null,r.a.createElement(u.b,{to:"/tiendas/".concat(a)},r.a.createElement("img",{src:"https://via.placeholder.com/300x300",className:"rounded-circle",style:{maxWidth:"100%",height:"100px",objectFit:"cover"}})),r.a.createElement("h1",{className:"text-dark my-0"},O.nombre),r.a.createElement("h4",{className:"text-dark my-0"},"Men\xfa")),r.a.createElement(Et.a,null)),r.a.createElement("label",{for:"search"},"Buscar: "),r.a.createElement("input",{type:"text",id:"search",className:"mx-2 rounded-pill border border-dark px-2",placeholder:"Ej. Brownie de mota",value:C,onChange:function(e){S(e.target.value)}}),r.a.createElement("div",{className:"mx-5"},r.a.createElement("label",{for:"ordenar"},"Ordenar por:"),r.a.createElement("select",{className:"mx-2",id:"ordenar",onChange:function(e){return z(e.target.value)}},r.a.createElement("option",{value:"abc"},"Nombre"),r.a.createElement("option",{value:"mayor"},"Precio")),r.a.createElement("label",{for:"ordenar"},"Filtrar por:"),r.a.createElement("select",{className:"mx-2",id:"ordenar",onChange:function(e){return D(e.target.value)}},r.a.createElement("option",{value:"Postre"},"Sin filtro"),r.a.createElement("option",{value:"Postre"},"Postre"),r.a.createElement("option",{value:"Comida"},"Comida"),r.a.createElement("option",{value:"Botana"},"Botana"))),r.a.createElement("div",{className:"row"},r.a.createElement(zt,{name:o.filter((function(e){return e.nombre.toLowerCase().includes(C.toString().toLowerCase())})),validada:L,validar:$,categoria:B})),r.a.createElement("div",null,r.a.createElement(g.a,{show:X,onHide:ee,animation:!0},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Verificaci\xf3n de Tienda")),r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"\xa1Con tu informaci\xf3n ayudas a las tiendas y a que los usuarios tengan compras m\xe1s seguras! ",r.a.createElement("br",null),"Al enviar este informe estas afirmando que la tienda si existe.  ")),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"primary",className:"mx-auto",onClick:$},"Verificar"))))))},Dt=(a(163),a(292),a(107)),Ht=a(31),At=a(120),Lt=a(464),qt=a(1067),Vt=a(1068),Jt=(a(421),{style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}});var Gt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("label",{htmlFor:"card"},"Informaci\xf3n Bancaria"),r.a.createElement(Ht.CardElement,{id:"card",className:"my-4",options:Jt}))};function Wt(e){var t=Object(Ht.useStripe)(),a=Object(Ht.useElements)(),l=Object(n.useContext)(b),c=l.user,o=(l.setUser,Object(n.useState)(null)),d=Object(m.a)(o,2),p=d[0],E=d[1],f=Object(n.useState)(),v=Object(m.a)(f,2),h=v[0],g=v[1],y=Object(n.useState)(),j=Object(m.a)(y,2),x=j[0],O=j[1],N=Object(n.useState)(null),w=Object(m.a)(N,2),k=w[0],C=w[1];var S=function(){var n=Object(i.a)(s.a.mark((function n(r){var l,o,i,m,u,d,p,f;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),E(!0),t&&a){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/paySecret/".concat(e.ID,"/").concat(c.id));case 6:return l=n.sent,n.next=9,l.json();case 9:o=n.sent,i=[],console.log(o.client_secrets),m=Object(Lt.a)(o.client_secrets),n.prev=13,m.s();case 15:if((u=m.n()).done){n.next=25;break}return d=u.value,console.log("before result"),n.next=20,t.confirmCardPayment(d,{payment_method:{card:a.getElement(Ht.CardElement),billing_details:{name:c.nombre}}});case 20:p=n.sent,console.log("after result"),i.push(p);case 23:n.next=15;break;case 25:n.next=30;break;case 27:n.prev=27,n.t0=n.catch(13),m.e(n.t0);case 30:return n.prev=30,m.f(),n.finish(30);case 33:console.log(i),f=0;case 35:if(!(f<i.length)){n.next=47;break}if(!i[f].error){n.next=43;break}return E(!1),O(i[f].error.message),console.log(i[f].error.message),n.abrupt("break",47);case 43:"succeeded"===i[f].paymentIntent.status&&(console.log("success"),console.log(i[f]),f+1==i.length&&(C(e.productos),e.setProductos(null),E(!1),g(!0)));case 44:f++,n.next=35;break;case 47:case"end":return n.stop()}}),n,null,[[13,27,30,33]])})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,h?r.a.createElement("div",{className:"text-center py-5"},r.a.createElement("h2",{className:"text-dark"},"\xa1Tu compra ha sido realizada!"),r.a.createElement("p",null,"Puedes ir a recoger tu orden a la tienda correspondiente."),r.a.createElement(qt.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,borderless:!0,className:"my-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Nombre de Tienda"))),r.a.createElement("tbody",null,k.map((function(e){return r.a.createElement("tr",{key:e.producto.id},r.a.createElement("td",{scope:"row"},e.producto.nombre),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,e.producto.tienda.nombre))})))),r.a.createElement(u.b,{to:"/pedidos"},r.a.createElement("button",{className:"btn btn-lg btn-primary"},"Ver mi Orden"))):r.a.createElement("div",{className:"text-center"},r.a.createElement("form",{onSubmit:S},r.a.createElement(Gt,{disabled:p}),x?r.a.createElement("p",{className:"text-danger"},x):null,p?r.a.createElement("div",null," ",r.a.createElement("p",null,"Realizando compra..."),r.a.createElement(Vt.a,{animation:"border",variant:"primary"})," "):r.a.createElement("button",{className:"btn btn-lg btn-primary",disabled:!t||p},"Confirmar orden"))))}a(422).setApiKey("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");var Kt=Object(At.a)("pk_test_51HoJ01K9hN8J4SbUqEiL2Amsb8RleP8IsJYQndlu4PcDJ1vVRC7dCX2wOKvO1WSGQ0NCvxejBlDxiFVjb6mippAO00wL2DOUxs"),$t={locale:"es-MX"},Yt=function(e){return r.a.createElement(Ht.Elements,{options:$t,stripe:Kt},r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{show:e.show,onHide:e.handleClose},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Realizar la compra")),r.a.createElement(g.a.Body,null,r.a.createElement(Wt,{setProductos:e.setProductos,productos:e.productos,ID:e.id_stripe,total:e.total})))))};a(422).setApiKey("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"),Dt.a.configure();function Qt(e){var t=Object(n.useContext)(b),a=t.user,l=(t.setUser,Object(n.useState)([])),c=Object(m.a)(l,2),o=(c[0],c[1],Object(n.useState)(!1)),u=Object(m.a)(o,2),d=u[0],p=u[1],E=function(){return p(!1)};Object(n.useEffect)((function(){var t=!0;return t&&v().then((function(t){var a=[];console.log(t),t.map((function(e){a.includes(e.producto.id_tienda)||a.push(e.producto.id_tienda)})),a.length>1&&p(!0),e.setProductos(t),console.log(t)})),function(){return t=!1}}),[]);var f=function(t){e.setProductos(e.productos.filter((function(e){return e.id!==t})))},v=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/carrito/payment/".concat(a.id));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.result[0].carrito_items);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var h=function(){var t=0;return e.productos.map((function(e){t+=e.producto.precio*e.cantidad})),t},j={maxWidth:"100%",height:"50px",objectFit:"cover"};return r.a.createElement(n.Fragment,null,e.productos?r.a.createElement(n.Fragment,null,r.a.createElement(pt.a,null,r.a.createElement(Et.a,{md:8},r.a.createElement("h2",{className:"my-4"},"Carrito de compras"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Cantidad"),r.a.createElement("th",{scope:"col"},"Tienda"),r.a.createElement("th",{scope:"col"},"Total"),r.a.createElement("th",{scope:"col"},"\u2022"))),r.a.createElement("tbody",null,e.productos.map((function(e){return r.a.createElement("tr",{key:e.producto.id,className:"py-auto"},r.a.createElement("td",{scope:"row"},e.producto.url_imagen?r.a.createElement("img",{src:e.producto.url_imagen,style:j}):r.a.createElement("img",{src:"https://via.placeholder.com/300",style:j})),r.a.createElement("td",null,e.producto.nombre),r.a.createElement("td",{className:"my-auto py-auto"},"$",Number.parseFloat(e.producto.precio).toFixed(2)),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,e.producto.tienda.nombre),r.a.createElement("td",null,"$",Number.parseFloat(e.producto.precio*e.cantidad).toFixed(2)),r.a.createElement("td",null,r.a.createElement(Xt,{handleDelete:f,item:e})))}))))),r.a.createElement(Et.a,{md:4,className:"rounded",style:{backgroundColor:"#29698f"}},r.a.createElement("div",{className:" px-2 container text-light text-left"},r.a.createElement("h2",{className:"my-4 text-center"},"Checkout ",r.a.createElement(St.a,{icon:_t.c})),r.a.createElement("div",null,r.a.createElement("h5",null,"Subtotal: "),r.a.createElement("h6",null,"$",Number.parseFloat(h()).toFixed(2))),r.a.createElement("div",null,r.a.createElement("h5",null,"Comisiones: "),r.a.createElement("h6",null,"$12")),r.a.createElement("div",null,r.a.createElement("h5",null,"Total a pagar: "),r.a.createElement("h6",null,"$",Number.parseFloat(h()+12).toFixed(2)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-lg rounded-pill text-light my-4",style:{backgroundColor:"#FF9500"},"data-dismiss":"modal",onClick:function(){e.handleShow()}},"Pagar")))),r.a.createElement(g.a,{show:d,onHide:E},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Aviso")),r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"Has agregado productos de tiendas distintas, por lo que se generar\xe1 una orden por cada tienda cuando realices la compra.")),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:E},"Cerrar")))):r.a.createElement("h4",null,"Aun no a agregado nada al carrito."))}function Xt(e){return r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"#eliminar"+e.item.id,role:"button",className:"btn btn-danger btn-sm","data-toggle":"modal"},r.a.createElement(St.a,{icon:_t.e})),r.a.createElement(Zt,{handleDelete:e.handleDelete,item:e.item}))}function Zt(e){var t=function(){var t=Object(i.a)(s.a.mark((function t(a,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/eliminarCarritoItem/".concat(e.item.id),{method:"DELETE"});case 2:t.sent,e.handleDelete(e.item.id);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"eliminar"+e.item.id,className:"modal fade"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"\xbfEst\xe1s seguro?"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"\xbfSeguro que quieres quitar ",e.item.nombre," del carrito?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:t},"Quitar")))))}var ea=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],l=t[1],c=function(){return l(!0)},o=Object(n.useState)(),s=Object(m.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)(),p=Object(m.a)(d,2),E=p[0],f=p[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainContainer h"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container mt-4"},r.a.createElement(Qt,{setIDStripe:u,handleShow:c,setProductos:f,productos:E})),r.a.createElement(Yt,{show:a,handleClose:function(){l(!1)},setProductos:f,productos:E,handleShow:c,id_stripe:i})))))};function ta(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(!1),d=Object(m.a)(u,2),p=d[0],E=d[1],f=function(){return E(!1)};Object(n.useEffect)((function(){var e=!0;return e&&v().then((function(e){o(e)})),function(){return e=!1}}),[]);var v=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/pedidos/".concat(t.id));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.result);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Productos / Cantidad"),r.a.createElement("th",{scope:"col"},"Tienda"),r.a.createElement("th",{scope:"col"},"Fecha"),r.a.createElement("th",{scope:"col"},"Estatus"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",{className:"fjcc"},e.orden_items.map((function(e){return r.a.createElement("div",null,r.a.createElement("td",{className:"fjcc2"},e.producto.nombre),r.a.createElement("td",{className:"fjcc2"},e.cantidad))})),r.a.createElement("td",null,e.tienda.nombre),r.a.createElement("td",null,e.fecha),r.a.createElement("td",null,"Pendiente de entregar"))})))),r.a.createElement("hr",null),r.a.createElement(g.a,{show:p,onHide:f},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Aviso")),r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"Has agregado productos de tiendas distintas, por lo que se generar\xe1 una orden por cada tienda cuando realices la compra.")),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:f},"Cerrar")))))}var aa=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainContainer h"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Pedidos recientes"),r.a.createElement("div",{className:"container mt-4"},r.a.createElement(ta,null))))))},na=a(1069),ra=a(1070),la=a(1079);var ca=function(e){var t=e.index,a=e.rating,l=e.hoverRating,c=e.onMouseEnter,o=e.onMouseLeave,s=e.onSaveRating,i=Object(n.useMemo)((function(){return l>=t||!l&&a>=t}),[a,l,t]);return r.a.createElement("div",{className:"cursor-pointer",onMouseEnter:function(){return c(t)},onMouseLeave:function(){return o()},onClick:function(){return s(t)}},r.a.createElement(Tt,{fill:i}))},oa=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),u=Object(m.a)(o,2),d=u[0],p=u[1],E=Object(n.useContext)(b),f=E.user,v=(E.setUser,Object(n.useState)(0)),h=Object(m.a)(v,2),j=h[0],x=h[1],O=Object(n.useState)(0),N=Object(m.a)(O,2),w=N[0],k=N[1],C=function(e){k(e)},S=function(){k(0)},_=function(e){x(e)},T=function(){return c(!1)},P=function(){var t=Object(i.a)(s.a.mark((function t(){var a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===j||null===j){t.next=9;break}return a={calificacion:j,comment:d,id_usuario:f.id,id_tienda:e.id_tienda},t.next=4,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/reviews/tienda",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=t.sent,t.next=7,n.json();case 7:"success"==(r=t.sent).status?(T(),console.log(r)):console.log(r.err);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(Ot.a.Title,null,r.a.createElement("button",{className:"btn btn-sm btn-primary rounded pill",onClick:function(){return c(!0)}},"Calificar tienda")),r.a.createElement(g.a,{show:l,onHide:T},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Califica Tienda")),r.a.createElement(g.a.Body,null,r.a.createElement("div",{className:"my-4"},r.a.createElement("p",{className:"my-0"},"Nombre de Tienda"),r.a.createElement("h5",{className:"my-0"},e.nombre)),r.a.createElement(la.a,null,r.a.createElement(la.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(la.a.Label,null,"Calificaci\xf3n"),r.a.createElement("div",{className:"box flex"},r.a.createElement(pt.a,null,r.a.createElement(Et.a,{xs:2}),[1,2,3,4,5].map((function(e){return r.a.createElement(Et.a,null,r.a.createElement(ca,{index:e,rating:j,hoverRating:w,onMouseEnter:C,onMouseLeave:S,onSaveRating:_}))})),r.a.createElement(Et.a,{xs:2})))),r.a.createElement(la.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(la.a.Label,null,"Comentario"),r.a.createElement(la.a.Control,{as:"textarea",placeholder:"Agrega un comentario...",rows:3,onChange:function(e){p(e.target.value),console.log(e.target.value)}})))),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"primary",onClick:P},"Calificar"))))};function sa(e){var t=Object(n.useContext)(b),a=t.user,l=(t.setUser,Object(n.useState)(null)),c=Object(m.a)(l,2),o=c[0],u=c[1];Object(n.useEffect)((function(){var t=!0;return t&&(console.log(e),d().then((function(e){u(e)}))),function(){return t=!1}}),[e.selected]);var d=function(){var t=Object(i.a)(s.a.mark((function t(){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/calificacion/".concat(e.item.producto.id,"/").concat(a.id));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,console.log(r.result),t.abrupt("return",r.result);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return null==o?r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"#calificar"+e.item.producto.id,role:"button",className:"btn btn-warning","data-toggle":"modal"},"Calificar"),r.a.createElement(ia,{item:e.item,review:o})):r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"#editar"+e.item.producto.id,role:"button",className:"btn btn-warning","data-toggle":"modal"},"Editar"),r.a.createElement(ma,{item:e.item,review:o}))}function ia(e){console.log(e.review);var t=Object(n.useState)(0),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),u=Object(m.a)(o,2),d=u[0],f=u[1],v=Object(n.useContext)(b),h=v.user,g=(v.setUser,[1,2,3,4,5]),y=Object(n.useState)(""),j=Object(m.a)(y,2),x=(j[0],j[1],Object(n.useState)({id_producto:e.item.producto.id,id_usuario:h.id,calificacion:g[l],comentario:""})),O=Object(m.a)(x,2),N=O[0],w=O[1],k=function(){var t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N.calificacion=g[l],console.log(e.item.producto.id),t.next=4,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/calificar/".concat(e.item.producto.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"calificar"+e.item.producto.id,class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Calificar producto"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("p",null,"\xbfQue te parecio el producto: ",e.item.producto.nombre,"? ",e.item.producto.id),r.a.createElement("p",{class:"text-warning"},r.a.createElement("small",null,"Ayudanos a calificarlo")),r.a.createElement("div",{class:"flex-container"},g.map((function(e,t){return r.a.createElement(ua,{clase:"fjcp",key:t,starId:t,rating:d||l,onMouseEnter:function(){return f(t)},onMouseLeave:function(){return f(0)},onClick:function(){return c(t)}})}))),r.a.createElement("p",null,r.a.createElement("small",null,"Comentario (opcional)")),r.a.createElement("textarea",{class:"form-control",id:"comentario",name:"comentario",value:N.comentario,onChange:function(e){w(Object(E.a)(Object(E.a)({},N),{},Object(p.a)({},e.target.name,e.target.value)))},rows:"3"})),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-warning","data-dismiss":"modal",onClick:k},"Calificar")))))}function ma(e){console.log(e.review);var t=Object(n.useState)(e.review.calificacion-1),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),u=Object(m.a)(o,2),d=u[0],f=u[1],v=Object(n.useContext)(b),h=v.user,g=(v.setUser,[1,2,3,4,5]),y=Object(n.useState)(""),j=Object(m.a)(y,2);j[0],j[1];Object(n.useEffect)((function(){var t=!0;return t&&(c(e.review.calificacion-1),w(Object(E.a)(Object(E.a)({},N),{},{comentario:e.review.comentario,calificacion:e.review.calificacion-1}))),function(){return t=!1}}),[e.review]);var x=Object(n.useState)({id_producto:e.item.producto.id,id_usuario:h.id,calificacion:g[l],comentario:e.review.comentario}),O=Object(m.a)(x,2),N=O[0],w=O[1],k=function(){var t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N.calificacion=g[l],console.log(e.item.producto.id),t.next=4,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/calificarEditar/".concat(e.item.producto.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"editar"+e.item.producto.id,class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Calificar producto"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("p",null,"\xbfQue te parecio el producto: ",e.item.producto.nombre,"? ",e.item.producto.id),r.a.createElement("p",{class:"text-warning"},r.a.createElement("small",null,"Ayudanos a calificarlo")),r.a.createElement("div",{class:"flex-container"},g.map((function(e,t){return r.a.createElement(ua,{clase:"fjcp",key:t,starId:t,rating:d||l,onMouseEnter:function(){return f(t)},onMouseLeave:function(){return f(0)},onClick:function(){return c(t)}})}))),r.a.createElement("p",null,r.a.createElement("small",null,"Comentario (opcional)")),r.a.createElement("textarea",{class:"form-control",id:"comentario",name:"comentario",value:N.comentario,onChange:function(e){w(Object(E.a)(Object(E.a)({},N),{},Object(p.a)({},e.target.name,e.target.value)))},rows:"3"})),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-warning","data-dismiss":"modal",onClick:k},"Editar")))))}var ua=function(e){var t=e.starId,a=e.rating,n=e.onMouseEnter,l=e.onMouseLeave,c=e.onClick,o=e.clase,s="star-rating-blank";return a>=t&&(s="star-rating-filled"),r.a.createElement("div",{className:"star "+o,onMouseEnter:n,onMouseLeave:l,onClick:c},r.a.createElement("svg",{height:"55px",width:"53px",class:s,viewBox:"0 0 25 23","data-rating":"1"},r.a.createElement("polygon",{"stroke-width":"0",points:"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78"})))},da=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(b),o=c.user,u=(c.setUser,Object(n.useState)()),d=Object(m.a)(u,2),p=d[0],E=d[1];Object(n.useEffect)((function(){var e=!0;return e&&f().then((function(e){console.log(e),l(e)})),function(){return e=!1}}),[]);var f=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/compras/cliente/".concat(o.id));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.compras);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center my-4"},r.a.createElement("h2",null,"Mis Compras"),r.a.createElement("hr",null),a?r.a.createElement("div",null,r.a.createElement(na.a,{style:{backgroundColor:"#29698f"},className:"py-2 rounded"},r.a.createElement(pt.a,null,r.a.createElement(Et.a,{className:"bg-light mx-2 rounded my-2",style:{overflowY:"scroll",height:"80vh"}},r.a.createElement("h4",{className:"my-4"},"Compras recientes"),r.a.createElement(qt.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Ver Compra"))),r.a.createElement("tbody",null,a.slice(0).reverse().map((function(e){return r.a.createElement(n.Fragment,null,e.ventum?r.a.createElement("tr",null,r.a.createElement("td",null,e.fecha),r.a.createElement("td",null,"$",Number.parseFloat(e.ventum.amount/100).toFixed(2)),r.a.createElement("td",null,e.entregado?"Entregado":"Sin entregar"),r.a.createElement("td",null,r.a.createElement(y.a,{className:"my-auto",size:"sm",variant:"outline-primary",onClick:function(){return E(e)}},"Ver compra"))):null)}))))),r.a.createElement(Et.a,{className:"bg-light mx-2 rounded"},p?r.a.createElement(n.Fragment,null,r.a.createElement(Ot.a,null,r.a.createElement(Ot.a.Header,null,p.fecha),r.a.createElement(Ot.a.Body,{className:"text-left"},r.a.createElement(pt.a,null,r.a.createElement(Et.a,null,r.a.createElement(Ot.a.Title,null,"ID de Orden"),r.a.createElement(Ot.a.Subtitle,{className:"mb-2 text-muted"},p.id),r.a.createElement(Ot.a.Title,null,"Total"),r.a.createElement(Ot.a.Subtitle,{className:"mb-2 text-muted"},"$",Number.parseFloat(p.ventum.amount/100).toFixed(2)),r.a.createElement(Ot.a.Title,null,"Tienda"),r.a.createElement(Ot.a.Subtitle,{className:"mb-2 text-muted"},p.orden_items[0].producto.tienda.nombre),r.a.createElement(Ot.a.Title,null,"Calificaci\xf3n"),r.a.createElement(Ot.a.Subtitle,null,function(e){var t=0;e.map((function(e){t+=e.calificacion})),t/=e.length;for(var a=[],n=0;n<t;n++)a.push(n);return a}(p.tienda.review_tiendas).map((function(e){return r.a.createElement(Tt,{fill:!0})}))),r.a.createElement(Ot.a.Title,{className:"my-4"},r.a.createElement(oa,{id_tienda:p.orden_items[0].producto.id_tienda,nombre:p.orden_items[0].producto.tienda.nombre}))),r.a.createElement(Et.a,null,r.a.createElement(na.a,{className:"my-4"},r.a.createElement(ra.a,{src:p.orden_items[0].producto.tienda.url_imagen,style:{maxWidth:"100%",height:"175px",objectFit:"cover"},rounded:!0})))),r.a.createElement(pt.a,null,r.a.createElement(Et.a,null,r.a.createElement(Ot.a.Text,null,r.a.createElement(qt.a,{striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Calificacion"))),r.a.createElement("tbody",null,p.orden_items.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.producto.nombre),r.a.createElement("td",null,"$",Number.parseFloat(e.producto.precio).toFixed(2)),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,r.a.createElement(sa,{item:e,selected:p})))})))))))))):r.a.createElement("h4",{className:"my-4"},"Selecciona una compra para ver su informacion completa"))))):null))};var pa=function(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1],p=Object(n.useState)(""),E=Object(m.a)(p,2),f=E[0],v=E[1],h=new URLSearchParams(Object(d.h)().search);Object(n.useEffect)((function(){var e=!0;return g().then((function(t){e&&o(t.productos)})),function(){return e=!1}}),[]);var g=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.get("producto"),e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidad/".concat(t.id_universidad,"/productos/").concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{backgroundColor:"#29698f"},className:"text-center mx-auto py-2"},r.a.createElement(la.a,{className:"my-4"},r.a.createElement(la.a.Group,{controlId:"formBasicPassword"},r.a.createElement(la.a.Label,null,r.a.createElement("h5",{className:"text-light"},"Buscar un producto")),r.a.createElement(la.a.Control,{size:"lg",type:"text",placeholder:"Brownie",className:"rounded-pill mx-auto w-50",onChange:function(e){v(e.target.value)}})),r.a.createElement(u.b,{to:"/productos?producto=".concat(f)},r.a.createElement(y.a,{variant:"warning",type:"submit"},"Buscar")))),r.a.createElement("div",{className:"text-center my-4 container"},r.a.createElement("hr",{className:"my-4"}),c.map((function(e){return r.a.createElement("h1",{className:"text-dark"},"producto.nombre")}))))},Ea=function(e){var t=Object(n.useContext)(b),a=t.user,l=t.setUser,c=Object(n.useMemo)((function(){return{user:a,setUser:l}}),[a,l]);return r.a.createElement(u.a,null,r.a.createElement(b.Provider,{value:c},r.a.createElement(dt,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/home",exact:!0,component:jt}),r.a.createElement(d.b,{path:"/tiendas",exact:!0,component:ft}),r.a.createElement(d.b,{path:"/PerfilCliente",exact:!0,component:Ct}),r.a.createElement(d.b,{path:"/tiendas/:id",exact:!0,component:Mt}),r.a.createElement(d.b,{path:"/tiendas/:id/menu",exact:!0,component:Bt}),r.a.createElement(d.b,{path:"/carrito",exact:!0,component:ea}),r.a.createElement(d.b,{path:"/pedidos",exact:!0,component:aa}),r.a.createElement(d.b,{path:"/misCompras",exact:!0,component:da}),r.a.createElement(d.b,{path:"/productos",exact:!0,component:pa}),r.a.createElement(d.a,{from:"/",to:"/home"}))))},fa=function(){var e=Object(n.useContext)(b),t=(e.user,e.setUser),a=Object(d.g)();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-md-3 bg-primary h-100"},r.a.createElement(u.b,{to:"/admin"},r.a.createElement("li",{className:"nav-link my-4 border-bottom"},r.a.createElement("h1",null,"Tiendas UNI ",r.a.createElement("span",{className:"small"},"Admin")))),r.a.createElement("div",{className:"nav flex-column nav-pills bg-primary py-4 text-justify border-bottom",role:"tablist","aria-orientation":"vertical"},r.a.createElement(u.b,{to:"/admin/reportes"},r.a.createElement("button",{className:"nav-link btn btn-primary py-4 h1 text-left w-100"},"Reportes")),r.a.createElement(u.b,{to:"/admin/tiendas"},r.a.createElement("button",{className:"nav-link btn btn-primary py-4 h1 text-left w-100"},"Tiendas")),r.a.createElement(u.b,{to:"/admin/universidades"},r.a.createElement("button",{className:"nav-link btn btn-primary py-4 text-left w-100"},"Universidades"))),r.a.createElement("button",{className:"nav-link text-left btn btn-primary w-100 py-4 text-light my-4",onClick:function(){return localStorage.removeItem("token.tuw"),alert("Hiciste logout"),t(null),void a.push("/")}},"Cerrar Sesi\xf3n")))},ba=function(){var e={color:"blue"},t=Object(n.useState)(null),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),d=Object(m.a)(o,2),p=d[0],E=d[1],f=Object(n.useState)([]),b=Object(m.a)(f,2),v=b[0],h=b[1];Object(n.useEffect)((function(){j(),y()}),[l]);var g,y=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=11;break}return e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/".concat(l,"/all"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),E(a),e.next=20;break;case 11:return e.next=13,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas");case 13:return n=e.sent,e.next=16,n.json();case 16:r=e.sent,console.log(),console.log(r),E(r);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),h(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g=null==l?r.a.createElement(n.Fragment,null,p.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,r.a.createElement(u.b,{style:e,to:"/admin/tiendas/".concat(t.id_usuario)},t.nombre)),r.a.createElement("td",null,t.horario),r.a.createElement("td",null,t.id_usuario))}))):r.a.createElement(n.Fragment,null,p.map((function(t){return r.a.createElement("tr",{key:t["tienda.id"]},r.a.createElement("td",null,t["tienda.id"]),r.a.createElement("td",null,r.a.createElement(u.b,{style:e,to:"/admin/tiendas/".concat(t.id)},t["tienda.nombre"])),r.a.createElement("td",null,t["tienda.horario"]),r.a.createElement("td",null,t.id))}))),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-9 border-left text-dark"},r.a.createElement("div",{className:"container m-4"},r.a.createElement("h1",{className:"my-4 display-4 text-dark"},"Tiendas"),r.a.createElement("div",{className:"form-group w-50"},r.a.createElement("select",{id:"universidad",name:"universidad",className:"form-control",onChange:function(e){"0"==e.target.value?c(null):c(e.target.value)}},r.a.createElement("option",{value:"0",selected:!0},"Todas"),v.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Horario"),r.a.createElement("th",{scope:"col"},"ID Encargado"))),r.a.createElement("tbody",null,g)))))},va=function(){Object(d.g)();Object(n.useEffect)((function(){u()}),[]);var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(m.a)(c,2),u=(o[0],o[1],function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),l(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),p=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/".concat(t),{method:"DELETE"});case 3:e.sent,l(a.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},a=t.validada?{validada:"false"}:{validada:"true"},console.log(t),e.prev=3,console.log(a),e.next=7,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:e.sent,u(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-9 border-left"},r.a.createElement("div",{className:"container my-4 mx-4"},r.a.createElement("h1",{className:"my-4 display-4"},"Universidades"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Ciudad"),r.a.createElement("th",{scope:"col"},"Estado"),r.a.createElement("th",{scope:"col"},"Validada"),r.a.createElement("th",{scope:"col"},"Validar"),r.a.createElement("th",{scope:"col"},"Eliminar"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.ciudad),r.a.createElement("td",null,e.estado),r.a.createElement("td",null,e.validada?"si":"no"),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-sm btn-info",onClick:function(){return E(e)}},e.validada?"Desvalidar":"Validar")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){return p(e.id)}},"Eliminar")))})))))))},ha=function(){var e=Object(n.useContext)(b),t=e.user;e.setUser;return console.log(t),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-9 border-left",style:{mystyle:{height:"100%"}}},r.a.createElement("div",{className:"container my-4 mx-4"},r.a.createElement("h1",{className:"my-4 display-4 text-dark"},"M\xf3dulo de Administrador"),r.a.createElement("h1",{className:"my-4 text-dark"},t.nombre))))},ga=function(){var e=Object(d.g)(),t=Object(n.useState)({}),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)({}),u=Object(m.a)(o,2),p=u[0],E=u[1],f=Object(n.useState)([]),b=Object(m.a)(f,2),v=b[0],h=b[1],g=Object(d.i)().id;Object(n.useEffect)((function(){y()}),[]);var y=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/usuario/".concat(g));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,c(a.result[0]),e.next=9,a.result[0].tienda;case 9:return n=e.sent,E(n),e.next=13,n.reporte_tiendas;case 13:r=e.sent,h(r),console.log(r),console.log(n),console.log(a.result[0]);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/all/".concat(p.id),{method:"DELETE"});case 2:e.sent,h([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/".concat(t),{method:"DELETE"});case 2:e.sent,y();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-md-9 border-left"},r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("button",{className:"my-5 ml-5 btn btn-lg btn-warning",onClick:function(){return e.push("/admin/tiendas")}},"Atras"),r.a.createElement("h1",{className:"my-2 ml-5 display-4 text-dark"},"Tienda ",p.nombre)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"my-5 col-md-8 text-left"},r.a.createElement("table",{className:"table table-bordered table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Encargado"),r.a.createElement("td",null,l.nombre)),r.a.createElement("tr",null,r.a.createElement("th",null,"Telefono"),r.a.createElement("td",null,l.tel)),r.a.createElement("tr",null,r.a.createElement("th",null,"Horario"),r.a.createElement("td",null,p.horario)),r.a.createElement("tr",null,r.a.createElement("th",null,"Terminal"),r.a.createElement("td",null,p.tarjeta?"Si":"No")),r.a.createElement("tr",null,r.a.createElement("th",null,"Validada"),r.a.createElement("td",null,p.validada?"Si":"No"))))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{for:"img_tienda"},"Imagen Tienda"),r.a.createElement("img",{src:p.url_imagen,style:{maxWidth:"100%"},alt:"Tienda"}))),r.a.createElement("h2",{className:"text-center"},"Reportes"),r.a.createElement("p",null,r.a.createElement("strong",null,"Reportes totales:",v.length)),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Id Usuario"),r.a.createElement("th",null,"Reporte"),r.a.createElement("th",null,r.a.createElement("button",{className:"btn btn-danger btn-sm btn-rounded",onClick:function(){return j()}},"Eliminar todos"))),r.a.createElement("tbody",null,v.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.id_usuario),r.a.createElement("td",null,"No existe la tienda"),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger btn-sm btn-rounded",onClick:function(){return x(e.id)}},"Eliminar")))})))))))},ya=function(){var e={color:"blue"},t=Object(n.useState)([]),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)({}),d=Object(m.a)(o,2);d[0],d[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),c(a.result);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-9 border-left"},r.a.createElement("div",{className:"container m-4"},r.a.createElement("h1",{className:"my-4 display-4 text-dark"},"Reportes de Tiendas"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Horario"),r.a.createElement("th",{scope:"col"},"ID Encargado"),r.a.createElement("th",{scope:"col"},"Reportes"))),r.a.createElement("tbody",null,l.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,r.a.createElement(u.b,{style:e,to:"/admin/tiendas/".concat(t.id_usuario)},t.nombre)),r.a.createElement("td",null,t.horario),r.a.createElement("td",null,t.id_usuario),r.a.createElement("td",null,t.reporte_tiendas.length))})))))))};var ja=function(e){var t=e.match;Object(n.useEffect)((function(){u(),console.log(t)}),[]);var a=Object(n.useState)({sprites:{}}),l=Object(m.a)(a,2),c=l[0],o=l[1],u=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/".concat(t.params.id));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"col-9 border-left",style:{mystyle:{height:"100%"}}},r.a.createElement("div",{className:"container my-4 mx-4"},r.a.createElement("h1",{className:"my-4 display-4"},"Informaci\xf3n de ",t.params.id),r.a.createElement("h1",null,c.name),r.a.createElement("img",{src:c.sprites.front_default})))},xa=function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"container-fluid h-100 mx-0 px-0"},r.a.createElement("div",{className:"row row-eq-height m-0 px-0 h-100"},r.a.createElement(fa,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/admin/tiendas",exact:!0,component:ba}),r.a.createElement(d.b,{path:"/admin/tiendas/:id",component:ga}),r.a.createElement(d.b,{path:"/admin/universidades/:id",component:ja}),r.a.createElement(d.b,{path:"/admin/universidades",exact:!0,component:va}),r.a.createElement(d.b,{path:"/admin/reportes",exact:!0,component:ya}),r.a.createElement(d.b,{path:"/admin",exact:!0,component:ha})))))};a(992);function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Na(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var wa=r.a.createElement("path",{d:"m29.597 44.936c.03.029.061.058.092.085.748.649 1.686.973 2.622.973.938 0 1.875-.324 2.623-.973.039-.034.077-.07.113-.107l19.777-20.085c1.148-1.148 1.488-2.859.867-4.359-.621-1.501-2.072-2.47-3.695-2.47h-39.992c-1.623 0-3.074.969-3.695 2.469s-.281 3.211.878 4.37zm22.399-22.936-19.686 19.993-20.306-19.993z"}),ka=function(e){var t=e.svgRef,a=e.title,n=Na(e,["svgRef","title"]);return r.a.createElement("svg",Oa({id:"Layer",enableBackground:"new 0 0 64 64",height:512,viewBox:"0 0 64 64",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,wa)},Ca=r.a.forwardRef((function(e,t){return r.a.createElement(ka,Oa({svgRef:t},e))}));a.p;function Sa(){return(Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _a(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ta=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8 c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2 c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8 c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1 c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8 c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5 l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6 c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1 l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1 C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9 c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8 c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42 c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8 c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8 c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2 c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42 c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6 c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1 c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8 c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7 c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z"}),r.a.createElement("path",{d:"M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001 z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"}))),Pa=r.a.createElement("g",null),Fa=r.a.createElement("g",null),Ma=r.a.createElement("g",null),Ia=r.a.createElement("g",null),za=r.a.createElement("g",null),Ra=r.a.createElement("g",null),Ua=r.a.createElement("g",null),Ba=r.a.createElement("g",null),Da=r.a.createElement("g",null),Ha=r.a.createElement("g",null),Aa=r.a.createElement("g",null),La=r.a.createElement("g",null),qa=r.a.createElement("g",null),Va=r.a.createElement("g",null),Ja=r.a.createElement("g",null),Ga=function(e){var t=e.svgRef,a=e.title,n=_a(e,["svgRef","title"]);return r.a.createElement("svg",Sa({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 478.703 478.703",style:{enableBackground:"new 0 0 478.703 478.703"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,Ta,Pa,Fa,Ma,Ia,za,Ra,Ua,Ba,Da,Ha,Aa,La,qa,Va,Ja)},Wa=r.a.forwardRef((function(e,t){return r.a.createElement(Ga,Sa({svgRef:t},e))}));a.p;function Ka(){return(Ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $a(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ya=r.a.createElement("g",null,r.a.createElement("path",{d:"m51 16.414 7.707-7.707-1.414-1.414-6.293 6.293-2.293-2.293-1.414 1.414z"}),r.a.createElement("path",{d:"m21 13h2v2h-2z"}),r.a.createElement("path",{d:"m17 13h2v2h-2z"}),r.a.createElement("path",{d:"m13 13h2v2h-2z"}),r.a.createElement("path",{d:"m29 13h2v2h-2z"}),r.a.createElement("path",{d:"m37 13h2v2h-2z"}),r.a.createElement("path",{d:"m9 13h2v2h-2z"}),r.a.createElement("path",{d:"m25 13h2v2h-2z"}),r.a.createElement("path",{d:"m33 13h2v2h-2z"}),r.a.createElement("path",{d:"m63 11c0-5.514-4.486-10-10-10-3.262 0-6.154 1.577-7.981 4h-41.019c-1.654 0-3 1.346-3 3v34c0 1.654 1.346 3 3 3h18.402l.039.078c.366.731.559 1.548.559 2.364v4.108c0 1.074.252 2.151.73 3.113l2.27 4.571v3.721l18 .047v-3.669l1.6-2.133c.903-1.204 1.4-2.696 1.4-4.2v-8h9c1.654 0 3-1.346 3-3v-23.019c2.423-1.827 4-4.719 4-7.981zm-10-8c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm-7.981 14h-38.019v-6h36c0 2.253.758 4.326 2.019 6zm-.019 36c0 1.075-.355 2.14-1 3l-2 2.667v2.331l-14-.038v-2.195l-2.479-4.992c-.341-.687-.521-1.455-.521-2.223v-4.108c0-1.125-.266-2.252-.77-3.259l-1.165-2.33c-.042-.085-.065-.182-.065-.277 0-.341.278-.618.714-.618 2.915 0 5.286 2.372 5.286 5.287v1.713 2h2v-2-1.713-15.245c0-.551.449-1 1-1s1 .449 1 1v9 4h2v-4c0-.551.449-1 1-1s1 .449 1 1v4h2v-4c0-.551.449-1 1-1s1 .449 1 1v2 2h2v-2c0-.551.449-1 1-1s1 .449 1 1zm12-11c0 .551-.449 1-1 1h-9v-1c0-1.654-1.346-3-3-3-.395 0-.77.081-1.116.22-.345-1.275-1.501-2.22-2.884-2.22-.771 0-1.468.301-2 .78-.532-.48-1.229-.78-2-.78-.352 0-.686.072-1 .184v-6.184c0-1.654-1.346-3-3-3s-3 1.346-3 3v10.257c-1.341-1.411-3.245-2.299-5.381-2.299-1.443 0-2.618 1.174-2.619 2.618 0 .404.096.809.276 1.172l.127.252h-17.403c-.551 0-1-.449-1-1v-34c0-.551.449-1 1-1h39.841c-.279.636-.497 1.304-.639 2h-38.202v10h42.025c1.669 1.25 3.733 2 5.975 2 1.422 0 2.774-.303 4-.841z"}),r.a.createElement("path",{d:"m11 21c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm0 10c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z"}),r.a.createElement("path",{d:"m21 27h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m21 35h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m29 27h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m37 27h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m37 35h6v-6h-6zm2-4h2v2h-2z"}),r.a.createElement("path",{d:"m45 37h10v-14h-10zm2-12h6v10h-6z"}),r.a.createElement("path",{d:"m5 41h12v-6h-12zm2-4h8v2h-8z"})),Qa=function(e){var t=e.svgRef,a=e.title,n=$a(e,["svgRef","title"]);return r.a.createElement("svg",Ka({id:"Layer_5",enableBackground:"new 0 0 64 64",height:512,viewBox:"0 0 64 64",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,Ya)},Xa=r.a.forwardRef((function(e,t){return r.a.createElement(Qa,Ka({svgRef:t},e))}));a.p;function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function en(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var tn=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M330.667,192c5.888,0,10.667-4.779,10.667-10.667v-128C341.333,23.936,317.419,0,288,0H53.333C23.915,0,0,23.936,0,53.333 v384c0,29.397,23.915,53.333,53.333,53.333H288c29.419,0,53.333-23.936,53.333-53.333v-128c0-5.888-4.779-10.667-10.667-10.667 S320,303.445,320,309.333v128c0,17.643-14.357,32-32,32H53.333c-17.643,0-32-14.357-32-32v-384c0-17.643,14.357-32,32-32H288 c17.643,0,32,14.357,32,32v128C320,187.221,324.779,192,330.667,192z"}))),an=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M480,234.667H138.667c-5.888,0-10.667,4.779-10.667,10.667S132.779,256,138.667,256H480 c5.888,0,10.667-4.779,10.667-10.667S485.888,234.667,480,234.667z"}))),nn=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M487.531,237.824l-64-64c-4.16-4.16-10.923-4.16-15.083,0c-4.16,4.16-4.16,10.923,0,15.083l56.448,56.448l-56.448,56.448 c-4.16,4.16-4.16,10.923,0,15.083c2.091,2.069,4.821,3.115,7.552,3.115c2.731,0,5.461-1.045,7.531-3.093l64-64 C491.691,248.747,491.691,241.984,487.531,237.824z"}))),rn=r.a.createElement("g",null),ln=r.a.createElement("g",null),cn=r.a.createElement("g",null),on=r.a.createElement("g",null),sn=r.a.createElement("g",null),mn=r.a.createElement("g",null),un=r.a.createElement("g",null),dn=r.a.createElement("g",null),pn=r.a.createElement("g",null),En=r.a.createElement("g",null),fn=r.a.createElement("g",null),bn=r.a.createElement("g",null),vn=r.a.createElement("g",null),hn=r.a.createElement("g",null),gn=r.a.createElement("g",null),yn=function(e){var t=e.svgRef,a=e.title,n=en(e,["svgRef","title"]);return r.a.createElement("svg",Za({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 490.667 490.667",style:{enableBackground:"new 0 0 490.667 490.667"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,tn,an,nn,rn,ln,cn,on,sn,mn,un,dn,pn,En,fn,bn,vn,hn,gn)},jn=r.a.forwardRef((function(e,t){return r.a.createElement(yn,Za({svgRef:t},e))}));a.p;function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function On(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Nn=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M475.425,200.225L262.092,4.669c-6.951-6.359-17.641-6.204-24.397,0.35L36.213,200.574 c-3.449,3.348-5.399,7.953-5.399,12.758v280.889c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.959,17.778-17.778 v-130.37h82.963v130.37c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.953,17.778-17.778V213.333 C481.185,208.349,479.099,203.597,475.425,200.225z M445.629,476.444H333.037v-130.37c0-9.819-7.959-17.778-17.778-17.778H196.741 c-9.819,0-17.778,7.959-17.778,17.778v130.37H66.37V220.853L250.424,42.216l195.206,178.939V476.444z"}))),wn=r.a.createElement("g",null),kn=r.a.createElement("g",null),Cn=r.a.createElement("g",null),Sn=r.a.createElement("g",null),_n=r.a.createElement("g",null),Tn=r.a.createElement("g",null),Pn=r.a.createElement("g",null),Fn=r.a.createElement("g",null),Mn=r.a.createElement("g",null),In=r.a.createElement("g",null),zn=r.a.createElement("g",null),Rn=r.a.createElement("g",null),Un=r.a.createElement("g",null),Bn=r.a.createElement("g",null),Dn=r.a.createElement("g",null),Hn=function(e){var t=e.svgRef,a=e.title,n=On(e,["svgRef","title"]);return r.a.createElement("svg",xn({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,Nn,wn,kn,Cn,Sn,_n,Tn,Pn,Fn,Mn,In,zn,Rn,Un,Bn,Dn)},An=r.a.forwardRef((function(e,t){return r.a.createElement(Hn,xn({svgRef:t},e))}));a.p;function Ln(e){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"leftNav"},r.a.createElement(u.b,{to:"/panel"},r.a.createElement(qn,{icon:r.a.createElement(An,null)}))),r.a.createElement("div",{className:"centerNav"},r.a.createElement("a",null,r.a.createElement("h1",null,"Tiendas Universidad"))),r.a.createElement("ul",{className:"navbar-nav"},e.children))}function qn(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1];return r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"icon-button",onClick:function(){return c(!l)}},e.icon),r.a.createElement("div",{style:{display:"contents"},onClick:function(){return c(!l)}},l&&e.children))}function Vn(){var e=Object(n.useContext)(b),t=(e.user,e.setUser),a=Object(d.g)();function l(e){return r.a.createElement("a",{className:"menu-item",onClick:e.func},r.a.createElement("span",{className:"icon-button"},e.leftIcon),e.children)}return r.a.createElement("div",{className:"dropdown-nav"},r.a.createElement(u.b,{to:"/panel"},r.a.createElement(l,{leftIcon:r.a.createElement(Xa,null)},"Mi panel")),r.a.createElement(u.b,null,r.a.createElement(l,{leftIcon:r.a.createElement(Wa,null)},"Configuracion")),r.a.createElement(u.b,null,r.a.createElement(l,{func:function(){return localStorage.removeItem("token.tuw"),alert("Hiciste logout"),t(null),void a.push("/")},leftIcon:r.a.createElement(jn,null)},"Cerrar Sesion")))}var Jn=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Ln,null,r.a.createElement(qn,{icon:r.a.createElement(Ca,null)},r.a.createElement(Vn,null))))},Gn=(a(993),a(465)),Wn=a.n(Gn),Kn=(a(297),function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(),u=Object(m.a)(o,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var t=!0;return t&&(console.log(e.id_stripe),E(e.id_stripe).then((function(e){!0===e.stripe||(console.log(e),p(e.accountLink.url),c(!0))}))),function(){return t=!1}}),[]);var E=function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/stripeInfo/accountLink/".concat(e.id_tienda));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{show:l,onHide:function(){return c(!1)}},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Termina tu registro")),r.a.createElement(g.a.Body,{className:"text-center"},r.a.createElement("p",{className:"text-left"},"Para empezar con tus ventas en linea debes registrarte en Stripe para recibir tus pagos bancarios, llena el formulario y comienza a vender tus productos. De no terminar este registro no podr\xe1s vender tus productos."),r.a.createElement("a",{href:d},r.a.createElement("button",{className:"btn btn-lg btn-primary text-light my-5"},"Conectar con Stripe"))),r.a.createElement(g.a.Footer,null)))}),$n={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}};var Yn=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"w-75 my-4 mx-auto"},"Porfavor, ingresa tu informaci\xf3n bancaria para terminar con el proceso"),r.a.createElement("label",{htmlFor:"card"},"Informaci\xf3n Bancaria"),r.a.createElement(Ht.CardElement,{id:"card",className:"my-4",options:$n}))};function Qn(e){var t=Object(Ht.useStripe)(),a=Object(Ht.useElements)(),l=Object(n.useContext)(b),c=l.user,o=(l.setUser,Object(n.useState)(null)),u=Object(m.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(),f=Object(m.a)(E,2),v=f[0],h=f[1],g=Object(n.useState)(),y=Object(m.a)(g,2),j=y[0],x=y[1],O=Object(n.useState)(null),N=Object(m.a)(O,2),w=(N[0],N[1],function(){var e=Object(i.a)(s.a.mark((function e(n){var r,l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),n.preventDefault(),t&&a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/stripe/customer/".concat(c.id));case 6:return r=e.sent,e.next=9,r.json();case 9:return l=e.sent,console.log(l),e.next=13,t.createPaymentMethod({type:"card",card:a.getElement(Ht.CardElement),billing_details:{name:c.nombre}});case 13:(o=e.sent).error?(p(!1),x(o.error.message),console.log(o.error.message)):(k({customerId:l.customer_id,paymentMethodId:o.paymentMethod.id,priceId:"price_1HrF5VK9hN8J4SbU6bunPrdI"}),console.log("success"),console.log(o));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function k(e){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(s.a.mark((function t(a){var n,r,l,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.customerId,r=a.paymentMethodId,a.priceId,t.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/stripe/create-subscription",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({customerId:n,paymentMethodId:r,priceId:"price_1HrC6IK9hN8J4SbUnGpManU8",id_usuario:c.id,plan:e.plan})});case 3:return l=t.sent,console.log(e.plan),t.next=7,l.json();case 7:if(!(o=t.sent).error){t.next=14;break}return p(!1),x(o.error),t.abrupt("return");case 14:return console.log(o),h(!0),p(!1),t.abrupt("return",{paymentMethodId:r,priceId:"price_1HrC6IK9hN8J4SbUnGpManU8",subscription:o});case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement(n.Fragment,null,v?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center py-5"},r.a.createElement("h2",{className:"text-dark"},"\xa1Tu suscripci\xf3n se realiz\xf3 con exito !"),r.a.createElement("p",null,"Tu proceso de activaci\xf3n se realiz\xf3 exitosamente"))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("form",{onSubmit:w},r.a.createElement(Yn,{disabled:d}),j?r.a.createElement("p",{className:"text-danger"},j):null,d?r.a.createElement("div",null,r.a.createElement("p",null,"Realizando compra..."),r.a.createElement(Vt.a,{animation:"border",variant:"primary"})):r.a.createElement("button",{className:"btn btn-lg btn-primary",disabled:!t||d},"Confirmar orden")))))}var Xn=function(e){var t=function(t){e.setStep(e.step+1),e.setPlan(t)};return r.a.createElement(na.a,null,r.a.createElement(g.a.Title,null,"Estas a un solo paso!"),r.a.createElement("h6",{className:"my-4"},"Para completar la activaci\xf3n de tu cuenta debes escoger un plan de suscripci\xf3n, de lo contrario tu tienda no ser\xe1 mostrada a los clientes"),r.a.createElement(pt.a,null,r.a.createElement(Et.a,null,r.a.createElement(Ot.a,null,r.a.createElement(Ot.a.Header,null,"Plan Mensual"),r.a.createElement(Ot.a.Body,null,r.a.createElement(Ot.a.Title,null,r.a.createElement("h2",null,"$100 al mes")),r.a.createElement("ul",{className:"my-2"},r.a.createElement("li",null,"Vende tus productos en linea"),r.a.createElement("li",null,"Sin limitaciones"),r.a.createElement("li",null,"Tarifa fija")),r.a.createElement(Ot.a.Text,{className:"text-left"},r.a.createElement("span",{className:"text-muted"},"* Obtendr\xe1s el plan de 30 dias gratis, despues de la fecha limite los cargos se har\xe1n automaticamente")),r.a.createElement(y.a,{variant:"primary",onClick:function(){return t(1)}},"Seleccionar")))),r.a.createElement(Et.a,null,r.a.createElement(Ot.a,null,r.a.createElement(Ot.a.Header,null,"Prueba 30 d\xedas"),r.a.createElement(Ot.a.Body,null,r.a.createElement(Ot.a.Title,null,r.a.createElement("h2",null,"$0")),r.a.createElement("ul",{className:"my-2"},r.a.createElement("li",null,"Vende tus productos en linea"),r.a.createElement("li",null,"Sin limitaciones"),r.a.createElement("li",null,"Tarifa fija")),r.a.createElement(Ot.a.Text,{className:"text-left"},r.a.createElement("span",{className:"text-muted"},"* Obtendr\xe1s el plan de 30 dias gratis y al vencer, tu cuenta se desactivar\xe1 hasta que pagues")),r.a.createElement(y.a,{variant:"primary",onClick:function(){return t(2)}},"Seleccionar"))))))},Zn=Object(At.a)("pk_test_51HoJ01K9hN8J4SbUqEiL2Amsb8RleP8IsJYQndlu4PcDJ1vVRC7dCX2wOKvO1WSGQ0NCvxejBlDxiFVjb6mippAO00wL2DOUxs"),er={locale:"es-MX"},tr=function(e){var t=Object(n.useState)(),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(m.a)(o,2),d=(u[0],u[1],Object(n.useState)(1)),p=Object(m.a)(d,2),E=p[0],f=p[1],b=Object(n.useState)(),v=Object(m.a)(b,2);v[0],v[1];Object(n.useEffect)((function(){var t=!0;return t&&(console.log(e.id_stripe),y().then((function(t){404==t.status_code?(console.log(t),console.log(t.message),e.setShow(!0)):(console.log(t),h(t))}))),function(){return t=!1}}),[]);var h=function(t){e.setSubscripcion(t.subscripcion),console.log(t.subscripcion)},y=function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/stripe/subscripcion/".concat(e.id_tienda));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(Ht.Elements,{options:er,stripe:Zn},r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{size:"lg",className:"text-center",centered:!0,show:e.show,onHide:function(){return e.setShow(!1)}},r.a.createElement(g.a.Header,{className:"text-center",closeButton:!0},r.a.createElement("h3",{className:"text-center"},"Plan de subscripci\xf3n")),r.a.createElement(g.a.Body,{className:"text-center"},function(){switch(E){case 1:return r.a.createElement(Xn,{setStep:f,setPlan:c,step:E});case 2:return r.a.createElement(Qn,{plan:l});case 3:return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center py-5"},r.a.createElement("h2",{className:"text-dark"},"\xa1Tu suscripci\xf3n se realiz\xf3 con exito !"),r.a.createElement("p",null,"Tu proceso de activaci\xf3n se realiz\xf3 exitosamente")));default:return null}}()),r.a.createElement(g.a.Footer,null))))};function ar(){var e=Object(d.g)(),t=Object(n.useState)([]),a=Object(m.a)(t,2),l=(a[0],a[1]),c=Object(n.useContext)(b),o=c.user,p=c.setUser,E=Object(n.useState)(null),f=Object(m.a)(E,2),v=(f[0],f[1]),h=Object(n.useState)(null),g=Object(m.a)(h,2),y=g[0],j=g[1],x=Object(n.useState)(),O=Object(m.a)(x,2),N=O[0],w=O[1],k=Object(n.useState)(!1),C=Object(m.a)(k,2),S=C[0],_=C[1];Object(n.useEffect)((function(){var e=!0;return e&&T().then((function(e){l(e.items),v(e.days),j(e.items[0].id)})),function(){e=!1}}),[]);var T=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r,l,c,i,m,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendafecha/".concat(o.id));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,console.log(n),r=new Date,l=new Date(Date.now()),console.log("today:",l),c=new Date(n[0].fechaSub),r.setDate(c.getDate()),console.log("subdate",c),console.log("finaldate",r),i=Math.abs(r-l),m=Math.ceil(i/864e5),console.log(m),u={items:n,days:m},e.abrupt("return",u);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/".concat(a),{method:"DELETE"});case 3:t.sent,localStorage.removeItem("token.tuw"),alert("Hasta la proxima"),p(null),e.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"mainContainer"},N&&"trialing"==N.status&&!0===N.cancel_at_period_end?r.a.createElement(Wn.a,{title:"Usted se encuentra en periodo de prueba"}):null,r.a.createElement("div",{className:"itemsContainer"},r.a.createElement("button",{className:"boton"},"Cuenta"),r.a.createElement(u.b,{to:"/panel/Menu"},r.a.createElement("button",{className:"boton"},"Menu")),r.a.createElement(u.b,{to:"/panel/misReportes"},r.a.createElement("button",{className:"boton"},"Mis Reportes"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"itemsContainer"},r.a.createElement(u.b,{to:"panel/MiInfo"},r.a.createElement("button",{className:"boton"},"Mi informaci\xf3n")),r.a.createElement(u.b,{to:"panel/Pedidos"},r.a.createElement("button",{className:"boton"},"Pedidos")),r.a.createElement(u.b,{to:"panel/misVentas"},r.a.createElement("button",{className:"boton"},"Ventas"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"itemsContainer"},r.a.createElement("button",{className:"boton"},"Tarjeta"),r.a.createElement("button",{className:"boton","data-toggle":"modal",href:"#Modal"},"Baja"),r.a.createElement("button",{className:"boton"},"Ayuda")),r.a.createElement("div",{id:"Modal",class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7"),r.a.createElement("h4",{class:"modal-title"},"\xbfEst\xe1s seguro?")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("p",null,"\xbfSeguro que quieres darte te baja?"),r.a.createElement("p",{class:"text-warning"},r.a.createElement("small",null,"Si lo borras, nunca podr\xe1s recuperarlo."))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal",onClick:function(){return P(o.id)}},"Eliminar"))))),y?r.a.createElement(n.Fragment,null,r.a.createElement(tr,{id_tienda:y,show:S,setShow:_,setSubscripcion:w}),S?null:r.a.createElement(Kn,{id_tienda:y})):null)}var nr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ar,null))},rr=(a(994),a(213)),lr=a.n(rr);a(1034);lr.a.initializeApp({apiKey:"AIzaSyCZaotWZ2BLiFfqi6AL2aedToh4VFO3iUo",authDomain:"tiendas-unison.firebaseapp.com",databaseURL:"https://tiendas-unison.firebaseio.com",projectId:"tiendas-unison",storageBucket:"tiendas-unison.appspot.com",messagingSenderId:"858069233922",appId:"1:858069233922:web:87453b828ab16d9d32921b",measurementId:"G-R12NY2YB84"});var cr=lr.a.storage();var or=Object(bt.withScriptjs)(Object(bt.withGoogleMap)((function(e){var t={styles:ht,disableDefaultUI:!0};return r.a.createElement(bt.GoogleMap,{defaultZoom:16,defaultCenter:{lat:parseFloat(e.info["ubicacion.lat"]),lng:parseFloat(e.info["ubicacion.lng"])},options:t,onClick:e.onMapClick},e.editable?r.a.createElement(bt.Marker,{position:{lat:parseFloat(e.info.lat),lng:parseFloat(e.info.lng)}}):r.a.createElement(bt.Marker,{position:{lat:parseFloat(e.info["ubicacion.lat"]),lng:parseFloat(e.info["ubicacion.lng"])}}))}))),sr=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1],o=function(){return c(!1)};return r.a.createElement("div",null,r.a.createElement(or,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),info:e.info,onMapClick:null,editable:!1}),r.a.createElement("button",{className:"btn btn-primary mx-2 my-4",onClick:function(){return c(!0)}},"Editar Ubicacion"),r.a.createElement(g.a,{show:l,onHide:o},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Editar Ubicacion")),r.a.createElement(g.a.Body,null,"Haz clic en el mapa para seleccionar la ubicacion de tu tienda",r.a.createElement(or,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),info:e.markerPosition,editable:!0,onMapClick:e.setLocation})),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:o},"Cancelar"),r.a.createElement(y.a,{variant:"primary",onClick:function(){o(),e.Guardar()}},"Guardar"))))};var ir=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),o=Object(m.a)(c,2),f=o[0],v=o[1],h=Object(n.useState)({}),g=Object(m.a)(h,2),y=g[0],j=g[1],x=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0]&&N(t.target.files[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/ubicacion/".concat(P.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent).status&&(console.log(a),F(Object(E.a)(Object(E.a)({},P),{},{"ubicacion.lat":y.lat,"ubicacion.lng":y.lng}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){cr.ref("images/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);v(t)}),(function(e){console.log(e)}),(function(){cr.ref("images").child(e.name).getDownloadURL().then((function(e){l(e)}))}))},w=(Object(d.g)(),Object(n.useState)({nombre:"",horario:"",tarjeta:"",id_tipo_tienda:"",url_imagen:""})),k=Object(m.a)(w,2),C=k[0],S=k[1],_=Object(n.useState)([]),T=Object(m.a)(_,2),P=T[0],F=T[1],M=Object(n.useContext)(b),I=M.user;M.setUser,Object(n.useEffect)((function(){var e=!0;return e&&z().then((function(e){F(e),j({lat:e["ubicacion.lat"],lng:e["ubicacion.lng"]}),S(e)})),function(){e=!1}}),[]);var z=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendainfo/".concat(I.id));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){S(Object(E.a)(Object(E.a)({},C),{},Object(p.a)({},e.target.name,e.target.value)))},U=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""==C.nombre&&(C.nombre=P.nombre),""==C.horario&&(C.horario=P.horario),""!==C.tarjeta?"no"==C.tarjeta||"No"==C.tarjeta?C.tarjeta=0:"si"!=C.tarjeta&&"Si"!=C.tarjeta||(C.tarjeta=1):""==C.tarjeta&&(C.tarjeta=P.tarjeta),""!==C.id_tipo_tienda?"cooperativa"==C.id_tipo_tienda||"Cooperativa"==C.id_tipo_tienda?C.id_tipo_tienda=1:"puesto"==C.id_tipo_tienda||"Puesto"==C.id_tipo_tienda?C.id_tipo_tienda=2:"cafeteria"!=C.id_tipo_tienda&&"Cafeteria"!=C.id_tipo_tienda||(C.id_tipo_tienda=3):""==C.id_tipo_tienda&&(C.id_tipo_tienda=P.id_tipo_tienda),""==C.url_imagen&&(C.url_imagen=""==a?P.url_imagen:a),n=C,console.log(C),e.prev=7,e.next=10,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/".concat(I.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 10:e.sent,z(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{className:"top container-item izq"},r.a.createElement(u.b,{to:"/panel"},r.a.createElement("a",{className:"atras izq",href:""},r.a.createElement("h6",{className:"izq"},"\u2190 Atras"))),r.a.createElement("h6",{className:"izq"},"| Mi informaci\xf3n")),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"card-title mb-4"},r.a.createElement("div",{class:"justify-content-start"},r.a.createElement("h2",{class:"d-block"},"Mi Informaci\xf3n"),r.a.createElement("hr",null),r.a.createElement("h2",{class:"d-block"},P.nombre),r.a.createElement("div",{class:"image-container"},r.a.createElement("img",{className:"rounded",src:P.url_imagen||"https://via.placeholder.com/300x300",id:"imgProfile",width:"100%",height:"100%"})),r.a.createElement("div",{class:"ml-auto"},r.a.createElement("input",{type:"button",class:"btn btn-primary d-none",id:"btnDiscard",value:"Discard Changes"}))))))),r.a.createElement("div",{class:"col-6"},r.a.createElement("ul",{class:"nav nav-tabs mb-4",id:"myTab",role:"tablist"},r.a.createElement("li",{class:"nav-item mx-4 px-2"},r.a.createElement("a",{class:"nav-link active mx-4",id:"MyInfo-tab","data-toggle":"tab",href:"#MyInfo",role:"tab","aria-controls":"MyInfo","aria-selected":"true"},"Perfil")),r.a.createElement("li",{class:"nav-item mx-4 px-2"},r.a.createElement("a",{class:"nav-link mx-4",id:"MapaInfo-tab","data-toggle":"tab",href:"#MapaInfo",role:"tab","aria-controls":"MapaInfo","aria-selected":"false"},"Mapa"))),r.a.createElement("div",{class:"tab-content mx-2",id:"myTabContent"},r.a.createElement("div",{class:"tab-pane fade show active",id:"MyInfo",role:"tabpanel","aria-labelledby":"MyInfo-tab"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("table",{className:"table table-striped text-left"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre tienda"),r.a.createElement("td",null,P.nombre)),r.a.createElement("tr",null,r.a.createElement("th",null,"Horario"),r.a.createElement("td",null,P.horario)),r.a.createElement("tr",null,r.a.createElement("th",null,"Acepta tarjeta"),r.a.createElement("td",null,P.tarjeta?"Si":"No")),r.a.createElement("tr",null,r.a.createElement("th",null,"Tipo de tienda"),r.a.createElement("td",null,function(){switch(P.id_tipo_tienda){case 1:return"Cooperativa";case 2:return"Puesto";case 3:return"Cafeteria";default:return"esta mal"}}()))))),r.a.createElement("button",{type:"button",className:"btn btn-primary mx-auto","data-toggle":"modal",href:"#Editar"},"Editar Mi Informacion"))),r.a.createElement("div",{class:"tab-pane fade text-center",id:"MapaInfo",role:"tabpanel","aria-labelledby":"MapaInfo-tab"},r.a.createElement(sr,{info:P,Guardar:O,setLocation:function(e){var t=e.latLng,a={lat:t.lat(),lng:t.lng()};console.log(a),j(a)},markerPosition:y})))))),r.a.createElement("div",{id:"Editar",class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7"),r.a.createElement("h4",{class:"modal-title"},"Editar Mi Informaci\xf3n")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group my-2"},r.a.createElement("label",{for:"nombre"},"Nombre de Tienda"),r.a.createElement("input",{id:"nombre",type:"text",name:"nombre",className:"form-control",value:C.nombre,onChange:R})),r.a.createElement("div",{className:"form-group my-2"},r.a.createElement("label",{for:"horario"},"Horario"),r.a.createElement("input",{id:"horario",type:"text",name:"horario",className:"form-control",value:C.horario,onChange:R})),r.a.createElement("div",{className:"form-group my-2"},r.a.createElement("label",{for:"tarjeta"},"Acepta tarjeta?"),r.a.createElement("input",{id:"tarjeta",type:"text",name:"tarjeta",className:"form-control",value:C.tarjeta,onChange:R})),r.a.createElement("div",{className:"form-group my-2"},r.a.createElement("label",{for:"id_tipo_tienda"},"Tipo de tienda"),r.a.createElement("input",{id:"id_tipo_tienda",type:"text",name:"id_tipo_tienda",className:"form-control",value:C.id_tipo_tienda,onChange:R})),r.a.createElement("div",{className:"form-group my-2"},r.a.createElement("label",{htmlFor:"profilePicture"},"Subir Imagen"),r.a.createElement("div",null,r.a.createElement("input",{id:"id_tipo_tienda",type:"text",name:"id_tipo_tienda",className:"form-control",onChange:R}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Subir Imagen"),r.a.createElement("div",null,r.a.createElement("input",{type:"file",id:"profilePicture",name:"file",onChange:x}),r.a.createElement("br",null),r.a.createElement("progress",{value:f,max:"100"}),r.a.createElement("br",null))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-success","data-dismiss":"modal",onClick:function(){return U(I.id)}},"Guardar"))))))};function mr(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1];Object(n.useEffect)((function(){d()}),[]);var d=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/".concat(t.id));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,o(r[0]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mainContainer"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"top-container-item izq"},r.a.createElement(u.b,{to:"/panel"},r.a.createElement("a",{className:"atras izq",href:""},r.a.createElement("h6",{className:"izq"},"\u2190 Atras"))),r.a.createElement("h6",{className:"izq"},"| Men\xfa")),r.a.createElement("div",{className:"top-container-item"},r.a.createElement("h4",null,c.nombre),r.a.createElement("img",{alt:"Imagen de perfil",src:c.url_imagen||"https://via.placeholder.com/300x300",className:"imagen"})),r.a.createElement("div",{className:"top-container-item der"},r.a.createElement(u.b,{to:"/panel/Menu/EditarMenu"},r.a.createElement("button",{className:"btn btn-info der"},"Editar Men\xfa"))),r.a.createElement("div",{className:"container m"},r.a.createElement("select",{class:"custom-select",id:"ordenar"},r.a.createElement("option",{selected:!0},"Ordenar por"),r.a.createElement("option",{value:"1"},"Precio"),r.a.createElement("option",{value:"2"},"Calificaci\xf3n")))),r.a.createElement("hr",null),r.a.createElement(ur,null))}function ur(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/".concat(t.id));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.next=8,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/".concat(r[0].id));case 8:return l=e.sent,e.next=11,l.json();case 11:c=e.sent,o(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.length>0?r.a.createElement("div",{className:"menu-container"},r.a.createElement("div",{className:"row"},c.map((function(e){return r.a.createElement("div",{className:"menuItem"},r.a.createElement("img",{alt:"Imagen de producto: "+e.nombre,src:e.url_imagen||"https://via.placeholder.com/300x300",className:"productoImagen"}),r.a.createElement("p",{className:"nomargin"},e.nombre),r.a.createElement("p",{className:"nomargin"},"$",Number.parseFloat(e.precio).toFixed(2)))})))):r.a.createElement("div",{className:"menu-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"menuItem"},r.a.createElement("p",{className:"nomargin"},"Aun no ha agregado ningun producto."))))}var dr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(mr,null))},pr=a(44),Er=a(45),fr=a(47),br=a(46);a(996);function vr(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1];Object(n.useEffect)((function(){u()}));var u=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/".concat(t.id));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.next=8,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/".concat(r[0].id));case 8:return l=e.sent,e.next=11,l.json();case 11:c=e.sent,o(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.length>0?r.a.createElement("div",null,r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Categoria"),r.a.createElement("th",{scope:"col"},"Accion"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,"$",Number.parseFloat(e.precio).toFixed(2)),r.a.createElement("td",null,e.categoria),r.a.createElement("td",null,r.a.createElement(hr,{item:e}),r.a.createElement(gr,{item:e})))}))))):r.a.createElement("div",{className:"text-center"},r.a.createElement("h4",null,"Aun no ha agregado ningun producto."))}function hr(e){return r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"#editar"+e.item.id,role:"button",className:"btn btn-info mr","data-toggle":"modal"},"Editar"),r.a.createElement(yr,{item:e.item}))}function gr(e){return r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"#eliminar"+e.item.id,role:"button",className:"btn btn-danger","data-toggle":"modal"},"Eliminar"),r.a.createElement(jr,{item:e.item}))}function yr(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),u=Object(m.a)(o,2),f=u[0],b=u[1],v=function(e){cr.ref("images/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);b(t)}),(function(e){console.log(e)}),(function(){cr.ref("images").child(e.name).getDownloadURL().then((function(e){c(e),console.log(e)}))}))},h=Object(n.useState)({nombre:e.item.nombre,id_tienda:e.item.id_tienda,precio:e.item.precio,categoria:e.item.categoria,url_imagen:e.item.url_imagen,descripcion:e.item.descripcion}),g=Object(m.a)(h,2),y=g[0],j=g[1],x=function(e){j(Object(E.a)(Object(E.a)({},y),{},Object(p.a)({},e.target.name,e.target.value)))},O=(Object(d.g)(),function(){var t=Object(i.a)(s.a.mark((function t(a,n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y.url_imagen=""==l?e.item.url_imagen:l,b(0),c(""),""===y.nombre||""===y.precio||""==y.categoria){t.next=8;break}return r=y,t.next=7,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/editarProducto/".concat(e.item.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:t.sent;case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());return r.a.createElement("div",{id:"editar"+e.item.id,class:"modal fade"},r.a.createElement("div",{class:"modal-dialog modal-lg"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Editar")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("form",{className:""},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"nombre",className:"col-sm-2 col-form-label"},"Nombre:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",value:y.nombre,onChange:x}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"precio",className:"col-sm-2 col-form-label"},"Precio:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"number",className:"form-control",id:"precio",name:"precio",value:y.precio,onChange:x,min:"0"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"categoria",className:"col-sm-2 col-form-label"},"Categor\xeda:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"categoria",name:"categoria",value:y.categoria,onChange:x}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"imagen",className:"col-sm-2 col-form-label"},"Imagen:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"file",id:"imagen",name:"file",onChange:function(e){e.target.files[0]&&v(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("progress",{value:f,max:"100"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"col-sm-10 text-center"},r.a.createElement("img",{alt:"Imagen del producto: "+e.item.nombre,src:l||y.url_imagen||"https://via.placeholder.com/300x300",className:"imagenP"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"descripcion",className:"col-sm-2 col-form-label"},"Descripci\xf3n:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{className:"form-control",id:"descripcion",rows:"5",name:"descripcion",value:y.descripcion,onChange:x}))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal",onClick:function(){j({nombre:e.item.nombre,id_tienda:e.item.id_tienda,precio:e.item.precio,categoria:e.item.categoria,url_imagen:e.item.url_imagen,descripcion:e.item.descripcion}),b(0),c(""),console.log(e.item.url_imagen)}},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-info","data-dismiss":"modal",onClick:O},"Editar")))))}function jr(e){Object(d.g)();var t=function(){var t=Object(i.a)(s.a.mark((function t(a,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/eliminarProducto/".concat(e.item.id,"/").concat(e.item.id_tienda),{method:"DELETE"});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"eliminar"+e.item.id,class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7"),r.a.createElement("h4",{class:"modal-title"},"\xbfEst\xe1s seguro?")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("p",null,"\xbfSeguro que quieres borrar ",e.item.nombre,"?"),r.a.createElement("p",{class:"text-warning"},r.a.createElement("small",null,"Si lo borras, nunca podr\xe1s recuperarlo."))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal",onClick:t},"Eliminar")))))}var xr=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(e){var n;return Object(pr.a)(this,a),(n=t.call(this,e)).state={name:"productos"},n}return Object(Er.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainContainer"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"top-container-item izq"},r.a.createElement(u.b,{to:"/panel/Menu"},r.a.createElement("a",{className:"atras izq",href:""},r.a.createElement("h6",{className:"izq"},"\u2190 Atras"))),r.a.createElement("h6",{className:"izq"},"| Men\xfa")),r.a.createElement("div",{className:"top-container-item der"},r.a.createElement(u.b,{to:"/panel/Menu/EditarMenu/AgregarProducto"},r.a.createElement("button",{className:"btn btn-success der"},"Agregar producto")))),r.a.createElement("div",{className:"container tabla"},r.a.createElement(vr,null))))}}]),a}(n.Component);a(445);function Or(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),o=Object(m.a)(c,2),f=o[0],v=o[1],h=function(e){cr.ref("images/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);v(t)}),(function(e){console.log(e)}),(function(){cr.ref("images").child(e.name).getDownloadURL().then((function(e){l(e),console.log(e)}))}))},g=Object(d.g)(),y=Object(n.useState)({nombre:"",id_tienda:"",precio:"",categoria:"Comida",url_imagen:"",descripcion:""}),j=Object(m.a)(y,2),x=j[0],O=j[1],N=Object(n.useContext)(b),w=N.user,k=(N.setUser,Object(n.useState)([])),C=Object(m.a)(k,2),S=C[0],_=C[1];Object(n.useEffect)((function(){T()}),[]);var T=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/".concat(w.id));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,_(n[0]),console.log(S);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){O(Object(E.a)(Object(E.a)({},x),{},Object(p.a)({},e.target.name,e.target.value)))};console.log(x);var F=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.url_imagen=a,t.preventDefault(),""===x.nombre||""===x.precio||""==x.categoria){e.next=8;break}return n=x,e.next=6,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/nuevoProducto",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:e.sent,g.push("/panel/Menu/EditarMenu");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x.id_tienda=S.id,r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"formulario",onSubmit:F},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"nombre",className:"col-sm-2 col-form-label"},"Nombre:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",value:x.nombre,onChange:P}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"precio",className:"col-sm-2 col-form-label"},"Precio:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"number",className:"form-control",id:"precio",name:"precio",value:x.precio,onChange:P,min:"0"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"categoria",className:"col-sm-2 col-form-label"},"Categor\xeda:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{class:"form-control form-control-sm",id:"categoria",name:"categoria",value:x.categoria,onChange:P},r.a.createElement("option",null,"Comida"),r.a.createElement("option",null,"Postre"),r.a.createElement("option",null,"Botana")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"imagen",className:"col-sm-2 col-form-label"},"Imagen:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"file",id:"imagen",name:"file",onChange:function(e){e.target.files[0]&&h(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("progress",{value:f,max:"100"}),r.a.createElement("br",null))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"descripcion",className:"col-sm-2 col-form-label"},"Descripci\xf3n:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{className:"form-control",id:"descripcion",rows:"5",name:"descripcion",value:x.descripcion,onChange:P}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-10 m-auto"},r.a.createElement(u.b,{to:"/panel/Menu/EditarMenu"},r.a.createElement("button",{className:"btn btn-danger ml float-right"},"Cancelar")),r.a.createElement("button",{className:"btn btn-success float-right",type:"submit"},"Guardar")))),r.a.createElement("div",{className:"imagenContainer align-top"},r.a.createElement("img",{alt:"imagen del producto",src:a||x.url_imagen||"https://via.placeholder.com/300x300",className:"imagenP"})))}var Nr=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(e){var n;return Object(pr.a)(this,a),(n=t.call(this,e)).state={name:"agregar producto"},n}return Object(Er.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainContainer h"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"top-container-item izq"},r.a.createElement(u.b,{to:"/panel/Menu/EditarMenu"},r.a.createElement("a",{className:"atras izq",href:"/"},r.a.createElement("h6",{className:"izq"},"\u2190 Atras"))),r.a.createElement("h6",{className:"izq"},"| Agregar Producto"))),r.a.createElement("div",{class:"mainContainer alinear"},r.a.createElement(Or,null))))}}]),a}(n.Component);function wr(e){var t=Object(d.g)(),a=Object(n.useState)({nombre:"",id_tienda:"",precio:"",categoria:"",imagen:"",descripcion:""}),l=Object(m.a)(a,2),c=l[0],o=l[1],f=Object(n.useContext)(b),v=f.user,h=(f.setUser,Object(n.useState)([])),g=Object(m.a)(h,2),y=g[0],j=g[1];Object(n.useEffect)((function(){x()}),[]);var x=function(){var t=Object(i.a)(s.a.mark((function t(a,n){var r,l,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/".concat(v.id));case 2:return r=t.sent,t.next=5,r.json();case 5:return l=t.sent,t.next=8,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/".concat(l[0].id,"/").concat(e.id));case 8:return c=t.sent,t.next=11,c.json();case 11:o=t.sent,j(o[0]),r.nombre=o[0].nombre;case 14:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),O=function(e){o(Object(E.a)(Object(E.a)({},c),{},Object(p.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(i.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""===c.nombre||""===c.precio||""==c.categoria){e.next=7;break}return n=c,e.next=5,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/editarProducto/".concat(y.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:e.sent,t.push("/panel/Menu/EditarMenu");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(c),c.id_tienda=y.id_tienda,r.a.createElement("form",{className:"formulario",onSubmit:N},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"nombre",className:"col-sm-2 col-form-label"},"Nombre:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",value:c.nombre,onChange:O}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"precio",className:"col-sm-2 col-form-label"},"Precio:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"number",className:"form-control",id:"precio",name:"precio",value:c.precio,onChange:O,min:"0"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"categoria",className:"col-sm-2 col-form-label"},"Categor\xeda:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",className:"form-control",id:"categoria",name:"categoria",value:c.categoria,onChange:O}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"imagen",className:"col-sm-2 col-form-label"},"Imagen:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"file",className:"form-control-file",id:"imagen",name:"imagen",value:c.imagen,onChange:O}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{for:"descripcion",className:"col-sm-2 col-form-label"},"Descripci\xf3n:"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{className:"form-control",id:"descripcion",rows:"5",name:"descripcion",value:c.descripcion,onChange:O}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-10 m-auto"},r.a.createElement(u.b,{to:"/panel/Menu/EditarMenu"},r.a.createElement("button",{className:"btn btn-danger ml float-right"},"Cancelar")),r.a.createElement("button",{className:"btn btn-success float-right",type:"submit"},"Guardar"))))}var kr=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(e){var n;return Object(pr.a)(this,a),(n=t.call(this,e)).state={name:"agregar producto"},n}return Object(Er.a)(a,[{key:"render",value:function(){var e=this.props.match.params;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainContainer h"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"top-container-item izq"},r.a.createElement(u.b,{to:"/panel/Menu/EditarMenu"},r.a.createElement("a",{className:"atras izq",href:"/"},r.a.createElement("h6",{className:"izq"},"\u2190 Atras"))),r.a.createElement("h6",{className:"izq"},"| Editar Producto"))),r.a.createElement("div",{class:"mainContainer alinear"},r.a.createElement(wr,{id:e.id}),r.a.createElement("div",{className:"imagenContainer align-top"},r.a.createElement("div",{className:"imagenP"})))))}}]),a}(n.Component);function Cr(){Object(d.g)();var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=(t[0],t[1]),l=Object(n.useContext)(b),c=l.user,o=(l.setUser,function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(c.id));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,a(r[0]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){o()}),[]);var f=function(e){y(Object(E.a)(Object(E.a)({},g),{},Object(p.a)({},e.target.name,e.target.value)))},v=Object(n.useState)({nombre_titular:"",num_tarjeta:"",exp_date:"",cvv:"",cpp:""}),h=Object(m.a)(v,2),g=h[0],y=h[1];function j(e){if(!new RegExp(/\d{5}/).test(e))return alert("Introduce un codigo postal valido de 5 digitos ")}function x(e){if(!new RegExp(/(\d{4} *\d{4} *\d{4} *\d{4})/).test(e))return alert("Introduce un numero de tarjeta valido de 16 digitos ")}function O(e){if(!new RegExp(/(\d{2})\/?(\d{2})/).test(e))return alert("Introduce bien el mes/a\xf1o")}function N(e){if(!new RegExp(/\d{3}/).test(e))return alert("Introduce el c\xf3digo de 3 digitos ")}var w=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(g.num_tarjeta),O(g.exp_date),N(g.cvv),j(g.cpp),""!==g.num_tarjeta&&""!=g.exp_date&&""!=g.nombre_titular&&""!=g.cvv&&g.cpp,e.prev=5,a=g,e.next=9,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(c.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:e.sent,o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-12"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{className:"top container-item izq"},r.a.createElement(u.b,{to:"/panel"},r.a.createElement("a",{className:"atras izq",href:""},r.a.createElement("h6",{className:"izq"},"\u2190 Atras"))),r.a.createElement("h6",{className:"izq"},"| Tarjeta")),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"card-title mb-4"},r.a.createElement("div",{class:"d-flex"},r.a.createElement("div",{class:"userData ml-3 ml-3"},r.a.createElement("h2",{class:"d-block"},"Informaci\xf3n Bancaria"),r.a.createElement("hr",null)))),r.a.createElement("div",{class:"row"},r.a.createElement("hr",null),r.a.createElement("button",{type:"button",class:"btn btn-info","data-toggle":"modal",href:"#Agregar"},"Agregar Nueva Informaci\xf3n Bancaria")),r.a.createElement(Sr,null))))),r.a.createElement("div",{id:"Agregar",class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Informaci\xf3n Bancaria"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("label",{for:"nombre"},"Titular de la tarjeta"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"nombre_titular",type:"text",name:"nombre_titular",value:g.nombre_titular,onChange:f})),r.a.createElement("label",{for:"num_tarjeta"},"N\xfamero de tarjeta"),r.a.createElement("p",null,r.a.createElement("small",null,"Ingresa un n\xfamero de tarjeta de 16 digitos ")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"num_tarjeta",type:"tel",name:"num_tarjeta",value:g.num_tarjeta,onChange:f})),r.a.createElement("label",{for:"exp_date"},"Fecha Expiraci\xf3n"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"exp_date",type:"tel",name:"exp_date",placeholder:"MM / YY",value:g.exp_date,onChange:f})),r.a.createElement("label",{for:"cvv"},"Cvv"),r.a.createElement("p",null,r.a.createElement("small",null," C\xf3digo de 3 digitos de la parte trasera de tu tarjeta")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"cvv",type:"tel",name:"cvv",value:g.cvv,onChange:f})),r.a.createElement("label",{for:"cpp"},"C\xf3digo Postal"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"cpp",type:"text",name:"cpp",value:g.cpp,onChange:f}))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-success","data-dismiss":"modal",onClick:function(){return w(c.id)}},"Guardar")))))))}function Sr(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)({nombre_titular:"",num_tarjeta:"",exp_date:"",cvv:"",cpp:""}),d=Object(m.a)(u,2);d[0],d[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(t.id));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,o(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null==c||0==c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"menuItem"},r.a.createElement("p",{className:"nomargin"},"Aun no ha agregado ninguna tarjeta."))))):c.length>0?r.a.createElement(r.a.Fragment,null,c.map((function(e){return r.a.createElement("div",null,r.a.createElement(xt.a,null,r.a.createElement(Ot.a,null,r.a.createElement(Ot.a.Header,null,r.a.createElement(xt.a.Toggle,{as:y.a,variant:"link",eventKey:"0"},"Tarjeta")),r.a.createElement(xt.a.Collapse,{eventKey:"0"},r.a.createElement(Ot.a.Body,null,r.a.createElement("p",null,r.a.createElement("b",null,"Titular: "),e.nombre_titular),r.a.createElement("p",null,r.a.createElement("b",null,"Numero Tarjeta:")," ",e.num_tarjeta),r.a.createElement("p",null,r.a.createElement("b",null,"Fecha expiraci\xf3n:")," ",e.exp_date),r.a.createElement("p",null,r.a.createElement("b",null,"CVV:")," ",e.cvv),r.a.createElement("p",null,r.a.createElement("b",null,"CPP:")," ",e.cpp),r.a.createElement(_r,{infobanks:e}))))))}))):void 0}function _r(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#editar"+e.infobanks.id,role:"button",className:"btn btn-primary btn-sm","data-toggle":"modal"},"Editar"),r.a.createElement(Tr,{infobanks:e.infobanks}))}function Tr(e){Object(d.g)();var t=Object(n.useState)({}),a=Object(m.a)(t,2),l=a[0],c=a[1],o=function(e){c(Object(E.a)(Object(E.a)({},l),{},Object(p.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){u()}),[]);var u=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(e.infobanks.id));case 2:return n=t.sent,t.next=5,n.json();case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function f(e){if(!new RegExp(/\d{5}/).test(e))return alert("Introduce un codigo postal valido de 5 digitos ")}function b(e){if(!new RegExp(/(\d{4} *\d{4} *\d{4} *\d{4})/).test(e))return alert("Introduce un numero de tarjeta valido de 16 digitos ")}function v(e){if(!new RegExp(/(\d{2})\/?(\d{2})/).test(e))return alert("Introduce bien el mes/a\xf1o")}function h(e){if(!new RegExp(/\d{3}/).test(e))return alert("Introduce el c\xf3digo de 3 digitos ")}var g=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("PROPS INFOBANKS ID",e.infobanks.id),""!=l.num_tarjeta&&b(l.num_tarjeta),""!=l.exp_date&&v(l.exp_date),""!=l.cvv&&h(l.cvv),""!=l.cpp&&f(l.cpp),t.prev=5,n=l,t.next=9,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/".concat(e.infobanks.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 9:t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"editar"+e.infobanks.id,class:"modal fade"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title"},"Editar"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("label",{for:"nombre"},"Titular de la tarjeta"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"nombre_titular",type:"text",name:"nombre_titular",value:l.nombre_titular,onChange:o})),r.a.createElement("label",{for:"num_tarjeta"},"N\xfamero de tarjeta"),r.a.createElement("p",null,r.a.createElement("small",null,"Ingresa un n\xfamero de tarjeta de 16 digitos eg. 5555 5555 5555 5555")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"num_tarjeta",type:"text",name:"num_tarjeta",value:l.num_tarjeta,onChange:o})),r.a.createElement("label",{for:"exp_date"},"Fecha Expiraci\xf3n"),r.a.createElement("p",null,r.a.createElement("small",null,"eg. 04/28")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"exp_date",type:"text",name:"exp_date",placeholder:"MM / YY",value:l.exp_date,onChange:o})),r.a.createElement("label",{for:"cvv"},"Cvv"),r.a.createElement("p",null,r.a.createElement("small",null," C\xf3digo de 3 digitos de la parte trasera de tu tarjeta")),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"cvv",type:"text",name:"cvv",placeholders:l.cvv,onChange:o})),r.a.createElement("label",{for:"cpp"},"C\xf3digo Postal"),r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"tel",type:"text",name:"cpp",value:l.cpp,onChange:o}))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",class:"btn btn-success","data-dismiss":"modal",onClick:function(){return g()}},"Editar")))))}var Pr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Cr,null))},Fr=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(b),o=c.user;c.setUser;Object(n.useEffect)((function(){var e=!0;return e&&u().then((function(e){l(e)})),function(){e=!1}}),[]);var u=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/usuario/".concat(o.id));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.result[0].tienda.reporte_tiendas);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=Object(n.useState)(!1),p=Object(m.a)(d,2),E=p[0],f=p[1],v=function(){return f(!1)};return r.a.createElement(n.Fragment,null,a?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container my-4"},r.a.createElement("h1",{className:"text-center text-dark my-4"},"Mis Reportes",r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-sm btn-primary float-right",onClick:function(){return f(!0)}},"Contacta al admin"))),r.a.createElement("p",null,r.a.createElement("strong",null,"Reportes totales:",a.length)),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Id Usuario"),r.a.createElement("th",null,"Reporte")),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.id_usuario),r.a.createElement("td",null,"Descripcion"),r.a.createElement("td",null))}))))),r.a.createElement(g.a,{show:E,onHide:v},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Contacta al admin")),r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"Puedes contactar por medio de correo o llamda telef\xf3nica, este revisar\xe1 tus reportes yen caso de ser un malentendido eliminar\xe1 los reportes."),r.a.createElement("label",{for:"correo"},"Correo"),r.a.createElement("p",{id:"correo"},"admin@tiendasuniversitarias.mx"),r.a.createElement("label",{for:"tel"},"Telefono"),r.a.createElement("p",{id:"tel"},"6624284910")),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"primary",onClick:v},"Entendido")))):r.a.createElement("h1",{className:"text-center"}," Usted no tiende reportes"))};function Mr(){var e=Object(n.useContext)(b),t=e.user,a=(e.setUser,Object(n.useState)([])),l=Object(m.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(!1),d=Object(m.a)(u,2),p=d[0],E=d[1],f=function(){return E(!1)};Object(n.useEffect)((function(){v()}));var v=function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/pedidos/".concat(t.id));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,o(n.result),console.log(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Productos / Cantidad"),r.a.createElement("th",{scope:"col"},"Nombre de cliente"),r.a.createElement("th",{scope:"col"},"Fecha"),r.a.createElement("th",{scope:"col"},"Acci\xf3n"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",{className:"fjcc"},e.orden_items.map((function(e){return r.a.createElement("div",null,r.a.createElement("td",{className:"fjcc2"},e.producto.nombre),r.a.createElement("td",{className:"fjcc2"},e.cantidad))})),r.a.createElement("td",null,e.usuario.nombre),r.a.createElement("td",null,e.fecha),r.a.createElement("td",null,r.a.createElement(Ir,{orden:e})))})))),r.a.createElement("hr",null),r.a.createElement(g.a,{show:p,onHide:f},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Aviso")),r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"Has agregado productos de tiendas distintas, por lo que se generar\xe1 una orden por cada tienda cuando realices la compra.")),r.a.createElement(g.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:f},"Cerrar")))))}function Ir(e){return r.a.createElement(n.Fragment,null,r.a.createElement("a",{href:"#eliminar"+e.orden.id,role:"button",className:"btn btn-info btn-sm","data-toggle":"modal"},"Entregar"),r.a.createElement(zr,{orden:e.orden}))}function zr(e){var t=function(){var t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/entregar/".concat(e.orden.id),{method:"PUT"});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"eliminar"+e.orden.id,className:"modal fade"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Confirmaci\xf3n de entrega de pedido"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Entregar pedido al cliente: ",e.orden.usuario.nombre," ",e.orden.id)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{type:"button",className:"btn btn-success","data-dismiss":"modal",onClick:t},"Confirmar")))))}var Rr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mainContainer h"},r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Pedidos pendientes"),r.a.createElement("div",{className:"container mt-4"},r.a.createElement(Mr,null))))))},Ur=a(1082),Br=a(1084),Dr=a(1086),Hr=a(1091),Ar=a(1081),Lr=function(e){var t=Object(n.useState)(),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(30),u=Object(m.a)(o,2),d=(u[0],u[1],Object(n.useState)()),p=Object(m.a)(d,2),E=p[0],f=p[1],b=function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/ventas/".concat(e.month,"/").concat(e.id));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n.ventas);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=!0;return e&&b().then((function(e){f(e);var t=function(e){var t=[],a=[];return e.map((function(e){a.includes(e.fecha)||a.push(e.fecha)})),console.log(a),a.map((function(a){var n=0;e.map((function(e){a==e.fecha&&e.amount&&(n+=e.amount)})),t.push({x:new Date(a).getDate(),y:n/100})})),console.log(t),t}(e);c(t)})),function(){return e=!1}}),[e.month]);return r.a.createElement(n.Fragment,null,l?r.a.createElement(na.a,{style:{backgroundColor:"#29698f"},className:"py-2 rounded"},r.a.createElement(pt.a,null,r.a.createElement(Et.a,{className:"border text-left py-4 bg-light mx-2 rounded px-4"},r.a.createElement("h3",{className:"my-4"},"Informacion de Ventas"),r.a.createElement("div",{className:"my-2"},r.a.createElement("h5",null,"Cantidad de ventas realizadas"),r.a.createElement("p",null,E.length)),r.a.createElement("div",{className:"my-2"},r.a.createElement("h5",null,"Total vendido"),r.a.createElement("p",null,"$",function(){var e=0;return l.map((function(t){e+=t.y})),e}())),r.a.createElement("div",{className:"my-2"},r.a.createElement("h5",null,"Promedio diario"),r.a.createElement("p",null,"$",function(){var e=0;return l.map((function(t){e+=t.y})),e/l.length}()))),r.a.createElement(Et.a,{className:"bg-light mx-2 rounded"},r.a.createElement(Ur.a,{domainPadding:10,containerComponent:r.a.createElement(Br.a,{zoomDomain:{x:[5,35],y:[0,function(){var e=0;return l.map((function(t){t.y>e&&(e=t.y)})),e}()]}}),animate:{duration:1e3,onLoad:{duration:500}},scale:{x:"time"},theme:Dr.a.material},r.a.createElement(Hr.a,{tickValues:function(){var t=[],a=(new Date).getFullYear();switch(e.month){case 11:for(var n=1;n<31;n++)t.push(new Date(a,e.month,n).getDate());break;case 12:for(var r=1;r<32;r++)t.push(new Date(a,e.month,r).getDate());break;case 2:for(var l=1;l<29;l++)t.push(new Date(a,e.month,l).getDate())}return console.log(t),t}(),tickFormat:function(t){return t%5===0?t+"/".concat(e.month):void 0}}),r.a.createElement(Hr.a,{dependentAxis:!0,tickFormat:function(e){return"$".concat(e)}}),r.a.createElement(Ar.a,{barWidth:4,data:l,style:{data:{fill:"#FF9500"}}}))))):null)},qr=function(){var e=Object(n.useState)(11),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(m.a)(c,2),u=o[0],d=o[1],p=Object(n.useContext)(b),E=p.user;p.setUser;Object(n.useEffect)((function(){var e=!0;return e&&f().then((function(e){console.log(e),d(e)})),function(){return e=!1}}),[a]);var f=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/ventas/".concat(a,"/").concat(E.id));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center my-4"},r.a.createElement("h2",null,"Mis ventas"),r.a.createElement(la.a.Group,{controlId:"exampleForm.ControlSelect1",className:"w-50 mx-auto"},r.a.createElement(la.a.Label,null,"Selecciona el mes"),r.a.createElement(la.a.Control,{as:"select",defaultValue:"12",onChange:function(e){return l(e.target.value)}},r.a.createElement("option",{value:"1"},"Enero"),r.a.createElement("option",{value:"2"},"Febrero"),r.a.createElement("option",{value:"3"},"Marzo"),r.a.createElement("option",{value:"4"},"Abril"),r.a.createElement("option",{value:"5"},"Mayo"),r.a.createElement("option",{value:"6"},"Junio"),r.a.createElement("option",{value:"7"},"Julio"),r.a.createElement("option",{value:"8"},"Agosto"),r.a.createElement("option",{value:"9"},"Septiembre"),r.a.createElement("option",{value:"10"},"Octubre"),r.a.createElement("option",{value:"11"},"Noviembre"),r.a.createElement("option",{value:"12"},"Diciembre"))),r.a.createElement("hr",null),u?r.a.createElement("div",null,r.a.createElement(Lr,{ventas:u,month:a,id:E.id})):null))},Vr=function(){return r.a.createElement(u.a,null,r.a.createElement(Jn,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/panel/Menu/EditarMenu/AgregarProducto",exact:!0,component:Nr}),r.a.createElement(d.b,{path:"/panel/Menu/EditarMenu",exact:!0,component:xr}),r.a.createElement(d.b,{path:"/panel",exact:!0,component:nr}),r.a.createElement(d.b,{path:"/panel/MiInfo",exact:!0,component:ir}),r.a.createElement(d.b,{path:"/panel/Menu",exact:!0,component:dr}),r.a.createElement(d.b,{path:"/panel/Menu/EditarMenu/EditarProducto/:id",exact:!0,component:kr}),r.a.createElement(d.b,{path:"/panel/Tarjeta",exact:!0,component:Pr}),r.a.createElement(d.b,{path:"/panel/misReportes",exact:!0,component:Fr}),r.a.createElement(d.b,{path:"/panel/Pedidos",exact:!0,component:Rr}),r.a.createElement(d.b,{path:"/panel/misVentas",exact:!0,component:qr})))},Jr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{class:"navbar py-auto my-auto center"},r.a.createElement("div",{className:"container-fluid-nav text-center",style:{position:"absolute",left:"50%",transform:"translatex(-50%)"}},r.a.createElement(u.b,{to:"/"},r.a.createElement("a",{className:"mx-auto text-center text-light"},r.a.createElement("img",{src:"/Unioncarrito.png",style:{maxWidth:"30px",maxHeight:"30px"},alt:"",className:"mx-2",loading:"lazy"}),"Tiendas Universidad")))))},Gr=function(){var e=Object(n.useContext)(b),t=(e.user,e.setUser),a=Object(d.g)(),l=Object(n.useState)({email:"",contra:""}),c=Object(m.a)(l,2),o=c[0],u=c[1],v=Object(n.useState)([]),h=Object(m.a)(v,2),g=(h[0],h[1],function(e){e.preventDefault(),u(Object(E.a)(Object(E.a)({},o),{},Object(p.a)({},e.target.name,e.target.value)))}),y=function(){var e=Object(i.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r=o,console.log(r),e.next=6,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuario/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(){var e=Object(i.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:(r=e.sent).error?(console.log(r.error),a.push("/home")):(localStorage.setItem("token.tuw",r.user.token),t(r.user),a.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"row m-0"},r.a.createElement("div",{className:"col-md-4 m-auto"},r.a.createElement("div",{className:"container bg-color rounded-lg text-light my-2 pb-2"},r.a.createElement("h1",{className:"text-center my-5 pt-5"},"Login"),r.a.createElement("form",{className:"my-2 text-center mx-auto",onSubmit:y},r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"email"},"Email address"),r.a.createElement("input",{className:"form-control",id:"email",type:"text",name:"email",value:o.email,onChange:g})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"contra"},"Password"),r.a.createElement("input",{className:"form-control",id:"contra",type:"password",name:"contra",value:o.contra,onChange:g}),r.a.createElement("small",{id:"olvidada",class:"form-text text-light"},r.a.createElement("a",{href:"olvidarcontra"},"\xbfOlvidaste tu contrase\xf1a?"))),r.a.createElement("button",{className:"btn btn-lg btn-warning my-4",type:"submit"},"Login")),r.a.createElement("div",{className:"text-center"},r.a.createElement(j,null))),r.a.createElement(f,null))))},Wr=a(1072),Kr=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{class:"alert alert-danger alert-dismissible fade show",role:"alert"},"No debe haber campos vacios",r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))},$r=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(e){var n;return Object(pr.a)(this,a),(n=t.call(this,e)).continue=function(e){e.preventDefault(),n.props.values.contra==n.props.values.contraConfirm?n.props.nextStep():(console.log(n.props.values.contra),console.log(n.props.values.contraConfirm),alert("Tus contrase\xf1as no coinciden!"))},n.state={universidades:[]},n}return Object(Er.a)(a,[{key:"componentWillMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidadesvalidadas");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({universidades:a}),console.log(t),console.log(a),console.log(this.state.universidades);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showHide",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({type:"input"===this.state.type?"password":"input"})}},{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;e.handleMouseDownPassword;return r.a.createElement(Wr.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"container bg-color rounded-lg text-light"},r.a.createElement("h1",{className:"text-center my-10 pt-5"},"Registrate aqui"),r.a.createElement("div",null),r.a.createElement("form",{className:"my-5 text-center mx-auto"},r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"name"},"Nombre"),r.a.createElement("input",{className:"form-control",id:"name",defaultValue:t.nombre,onChange:a("nombre"),type:"text"})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"email"},"Email address"),r.a.createElement("input",{className:"form-control",id:"email",onChange:a("email"),defaultValue:t.email,type:"email"})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"pwd"},"Contrase\xf1a"),r.a.createElement("input",{id:"pwd",className:"form-control",type:"password",defaultValue:t.contra,onChange:a("contra")})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"pwd2"},"Confirma contrase\xf1a"),r.a.createElement("input",{id:"pwd2",className:"form-control",onChange:a("contraConfirm"),defaultValue:t.contraConfirm,type:"password"})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"tel"},"Telefono"),r.a.createElement("input",{className:"form-control",id:"telefono",onChange:a("telefono"),defaultValue:t.telefono,type:"tel"})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"inputUni"},"universidad"),r.a.createElement("select",{id:"inputUni",className:"form-control",onChange:a("universidad")},r.a.createElement("option",{selected:!0},"Selecciona universidad"),this.state.universidades.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),r.a.createElement("button",{className:"btn btn-lg btn-warning my-4",onClick:this.continue},"Siguiente")))),r.a.createElement("div",{className:"col-md-3"}))))}}]),a}(n.Component),Yr=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(){var e;Object(pr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).continue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e.handleUpload=function(t){t.target.files[0]&&e.props.handleUpload(t.target.files[0])},e}return Object(Er.a)(a,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;return r.a.createElement(Wr.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"container w-30 bg-color rounded-lg text-light"},r.a.createElement("h1",{className:"text-center my-10 pt-5"},"Registra tu Tienda"),r.a.createElement("form",{className:"my-5 text-center mx-auto"},r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"Name_tienda"},"Nombre de Tienda"),r.a.createElement("input",{className:"form-control",onChange:a("nombretienda"),defaultValue:t.nombretienda,id:"Name_tienda",type:"text"})),r.a.createElement("div",{className:"form-group text-left",onChange:a("tipo_tienda")},r.a.createElement("label",{for:"Tipo_tienda"},"Tipo de Tienda"),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{className:"form-check-input",id:"cooperativa",type:"radio",value:"1"}),r.a.createElement("label",{for:"cooperativa",className:"form-check-label"},"Cooperativa")),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{className:"form-check-input",id:"puesto",type:"radio",value:"2"}),r.a.createElement("label",{for:"puesto",className:"form-check-label"},"Puesto")),r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{className:"form-check-input",id:"cafeteria",type:"radio",value:"3"}),r.a.createElement("label",{for:"cafeteria",className:"form-check-label"},"Cafeter\xeda"))),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"Horario"},"Horario"),r.a.createElement("input",{id:"Horario",className:"form-control",onChange:a("horario"),type:"text"})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"url_imagen"},"Subir Imagen Tienda"),r.a.createElement("input",{type:"file",id:"url_imagen",onChange:this.handleUpload,defaultValue:t.url_imagen,className:"form-control"})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",null,"Aceptan tarjeta"),r.a.createElement("div",{name:"tar",onChange:a("tarjeta"),className:"form-group text-left"},r.a.createElement("label",{for:"Tarjeta_Si"},"Si"),r.a.createElement("input",{id:"Tarjeta_Si",type:"radio",value:"true"}),r.a.createElement("label",{for:"Tarjeta_No"},"No"),r.a.createElement("input",{id:"Tarjeta_No",type:"radio",value:"false"}))),r.a.createElement("div",null,r.a.createElement("small",null,"*Tiene un mes de prueba a partir de ese plazo se le hara un cobro a su tarjeta")),r.a.createElement("div",{className:"container text-center"},r.a.createElement("button",{className:"btn btn-lg btn-warning my-4 mx-5",onClick:this.back},"Atras"),r.a.createElement("button",{className:"btn btn-lg btn-warning my-4 mx-5",onClick:this.continue},"Siguiente"))))),r.a.createElement("div",{className:"col-md-3"}))))}}]),a}(n.Component),Qr=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(){var e;Object(pr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).submit=function(t){t.preventDefault(),e.props.submit()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e}return Object(Er.a)(a,[{key:"render",value:function(){var e=this.props.values,t=e.nombre,a=e.email,n=e.telefono,l=(e.contra,e.uni_nombre),c=e.nombretienda,o=e.tipo_tienda,s=e.img_tienda,i=e.tarjeta,m=e.horario;return r.a.createElement(Wr.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"container bg-color rounded py-4"},r.a.createElement("h1",{className:"my-4 text-center"}," Confirma tus datos"),r.a.createElement("ul",{class:"list-group list-group-flush bg-primary text-light"},r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Nombre"),r.a.createElement("p",null,t)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Email"),r.a.createElement("p",null,a)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Telefono"),r.a.createElement("p",null,n)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Universidad"),r.a.createElement("p",null,l)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Nombre de la tienda"),r.a.createElement("p",null,c)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Tipo de tienda"),r.a.createElement("p",null,o)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Imagen"),r.a.createElement("p",null,s)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Aceptan tarjeta?"),r.a.createElement("p",null,i)),r.a.createElement("li",{class:"list-group-item bg-color"},r.a.createElement("h5",null,"Horario"),r.a.createElement("p",null,m))),r.a.createElement("div",{className:"container text-center my-4"},r.a.createElement("button",{className:"btn btn-lg btn-warning rounded mx-4",onClick:this.back},"Atras"),r.a.createElement("button",{className:"btn btn-lg btn-warning rounded mx-4",onClick:this.submit},"Confirmar y continuar")))),r.a.createElement("div",{className:"col-md-3"}))))}}]),a}(n.Component),Xr=a(1077),Zr=a(1075),el=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(){var e;Object(pr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).continue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e}return Object(Er.a)(a,[{key:"render",value:function(){return r.a.createElement(Wr.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Xr.a,{open:!0,fullWidth:!0,maxWidth:"sm"},r.a.createElement(Zr.a,{title:"Success"}),r.a.createElement("h1",{className:"text-dark text-center my-4"},"Tu cuenta ha sido registrada"),r.a.createElement("p",{className:"text-center"},"Revisa tu correo y confirma tu cuenta"),r.a.createElement(u.b,{to:"/login",className:"mx-auto"},r.a.createElement("button",{className:"btn btn-lg btn-primary mx-auto my-4"},"Iniciar Sesi\xf3n")))))}}]),a}(n.Component),tl=function(e){var t=Object(n.useState)(e.values.coordinates||null),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!0),u=Object(m.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(),f=Object(m.a)(E,2),b=f[0],v=f[1];Object(n.useEffect)((function(){var e=!0;return h().then((function(t){e&&v(t)})),function(){return e=!1}}),[]);var h=function(){var t=Object(i.a)(s.a.mark((function t(){var a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.values.universidad){t.next=12;break}return t.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades/ubi/".concat(e.values.universidad));case 3:return a=t.sent,t.next=6,a.json();case 6:return n=t.sent,r={lat:parseFloat(n.lat),lng:parseFloat(n.lng)},console.log(r),t.abrupt("return",r);case 12:return alert("Primero ingrese una universidad"),t.abrupt("return");case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=Object(vt.a)(Object(vt.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"450px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),bt.withScriptjs,bt.withGoogleMap)((function(e){return r.a.createElement(bt.GoogleMap,{defaultZoom:17,defaultCenter:l||b,onClick:y},r.a.createElement(bt.Marker,{position:l}),d&&r.a.createElement(bt.Marker,{position:l}))})),y=function(t){var a=t.latLng,n=a.lat(),r=a.lng(),l={lat:n,lng:r};console.log(n),console.log(r),c(a),p(!0),e.handleLocation(l)};return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"container bg-color rounded-lg text-light"},r.a.createElement("h1",{className:"text-center my-10 pt-2"},"Establece tu ubicacion")),r.a.createElement(g,null),r.a.createElement("div",{className:"container text-center"},r.a.createElement("button",{className:"btn btn-lg btn-warning my-4 mx-5",onClick:function(t){t.preventDefault(),e.prevStep()}},"Atras"),r.a.createElement("button",{className:"btn btn-lg btn-warning my-4 mx-5",onClick:function(t){t.preventDefault(),e.nextStep()}},"Siguiente"))),r.a.createElement("div",{className:"col-md-2"})))},al=function(e){Object(fr.a)(a,e);var t=Object(br.a)(a);function a(){var e;Object(pr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={step:1,nombre:"",email:"",contra:"",contraConfirm:"",telefono:"",universidad:"",nombretienda:"",horario:"",tipo_tienda:"",url_imagen:"",tarjeta:"",uni_nombre:"",coordinates:null,lat:null,lng:null},e.nextStep=function(){var t=e.state.step;e.setState({step:t+1})},e.prevStep=function(){var t=e.state.step;e.setState({step:t-1})},e.handleChange=function(t){return function(a){"universidad"==t&&e.setState({universidad:a.target.value,uni_nombre:a.target.options[a.target.selectedIndex].text,coordinates:null,lat:null,lng:null}),e.setState(Object(p.a)({},t,a.target.value))}},e.handleLocation=function(t){e.setState({coordinates:t,lat:t.lat,lng:t.lng})},e.handleUpload=function(t){cr.ref("images/".concat(t.name)).put(t).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){cr.ref("images").child(t.name).getDownloadURL().then((function(t){e.setState({url_imagen:t}),console.log(t)}))}))},e.checkempty=function(){var t;return console.log(e.state),Object.values(e.state).map((function(e,a){""==e&&9!=a&&(t=!0,console.log(a))})),t},e.submit=Object(i.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.checkempty()){t.next=4;break}alert("Llena todos los campos"),t.next=17;break;case 4:return t.prev=4,a=e.state,console.log(JSON.stringify(a)),t.next=9,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/tiendas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:n=t.sent,console.log(n),n.error?(console.log(n.error),console.log(n),console.log(n),e.props.history.push("/")):(console.log(n.status),console.log(n.message),e.props.history.push("/"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:t.sent,e.nextStep(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),console.log(t.t0),console.log("algo salio mal");case 17:case"end":return t.stop()}}),t,null,[[4,13]])}))),e.handleMouseDownPassword=function(t){e.event.preventDefault()},e}return Object(Er.a)(a,[{key:"render",value:function(){var e=this.state.step,t=this.state,a={nombre:t.nombre,email:t.email,contra:t.contra,contraConfirm:t.contraConfirm,telefono:t.telefono,universidad:t.universidad,nombretienda:t.nombretienda,tipo_tienda:t.tipo_tienda,url_imagen:t.url_imagen,tarjeta:t.tarjeta,horario:t.horario,uni_nombre:t.uni_nombre,latitud:t.latitud,longitud:t.longitud,coordinates:t.coordinates};switch(e){case 1:return r.a.createElement($r,{nextStep:this.nextStep,handleChange:this.handleChange,values:a,universidades:this.state.universidades});case 2:return r.a.createElement(Yr,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleUpload:this.handleUpload,values:a});case 3:return r.a.createElement(tl,{nextStep:this.nextStep,prevStep:this.prevStep,values:a,handleLocation:this.handleLocation});case 4:return r.a.createElement(Qr,{submit:this.submit,prevStep:this.prevStep,values:a});case 4:return r.a.createElement(el,null)}}}]),a}(n.Component),nl=function(){var e=Object(d.g)(),t=Object(n.useState)({nombre:"",email:"",contra:"",contra1:"",tel:"",universidad:""}),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),u=Object(m.a)(o,2),f=u[0],b=u[1];Object(n.useEffect)((function(){v()}),[]);var v=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidadesvalidadas");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),b(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(n.useState)(!1),g=Object(m.a)(h,2),y=g[0],j=g[1],x=function(e){c(Object(E.a)(Object(E.a)({},l),{},Object(p.a)({},e.target.name,e.target.value)))};var O=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,(r=l.contra)!=l.contra1?alert("Contrase\xf1as no coinciden"):new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\w\s]).{8,}$/).test(r)||alert("Contrase\xf1a invalida: no cumple con los requisitos de seguridad!"),""===l.nombre||""===l.email||""==l.contra||""===l.tel||""===l.universidad){t.next=10;break}return n=l,t.next=7,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:(n=t.sent).error?(console.log(n.error),e.push("/")):e.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:t.sent,t.next=12;break;case 10:j(!0),console.log(y);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}var r}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"container bg-color w-50 rounded-lg my-4 text-light"},r.a.createElement("h1",{className:"text-center my-10 pt-5"},"Registrate aqui"),r.a.createElement("div",{className:"my-2"},y?r.a.createElement(Kr,null):""),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("form",{className:"my-5 text-center mx-auto",onSubmit:O},r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"name"},"Nombre"),r.a.createElement("input",{className:"form-control",id:"username",type:"text",name:"nombre",value:l.nombre,onChange:x})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"email"},"Email address"),r.a.createElement("input",{className:"form-control",id:"email",type:"email",name:"email",value:l.email,onChange:x})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"contra1"},"Contra"),r.a.createElement("p",{class:"text-warning"},r.a.createElement("small",null," *Minimo 8 caracteres, una mayuscula, una minuscula, un caracter especial y un n\xfamero.")),r.a.createElement("input",{className:"form-control",id:"contra1",type:"password",name:"contra1",value:l.contra1,onChange:x})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"contra"},"Confirma contrase\xf1a"),r.a.createElement("input",{className:"form-control",id:"contra",type:"password",name:"contra",value:l.contra,onChange:x})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"tel"},"Telefono"),r.a.createElement("input",{className:"form-control",id:"tel",type:"tel",name:"tel",value:l.tel,onChange:x})),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"universidad"},"Universidad"),r.a.createElement("select",{id:"universidad",name:"universidad",className:"form-control",onChange:x},r.a.createElement("option",{selected:!0},"Selecciona universidad"),f.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)})))),r.a.createElement("button",{className:"btn btn-lg btn-warning my-4",type:"submit"},"Registrar"))),r.a.createElement("div",{className:"col-md-3"}))))},rl=a(181),ll=a(123),cl=a(229),ol=(a(1031),["places"]),sl=function(e){var t=e.panTo,a=e.setMarkerPosition,n=e.setData,l=Object(rl.a)({requestOptions:{location:{lat:function(){return 23.634501},lng:function(){return-102.552784}},radius:2e5}}),c=l.ready,o=l.value,m=l.suggestions,u=m.status,d=m.data,p=l.setValue,E=l.clearSuggestions;return r.a.createElement("div",{className:"my-4 w-100 rounded"},r.a.createElement(ll.a,{className:"w-100",onSelect:function(){var e=Object(i.a)(s.a.mark((function e(r){var l,c,o,i,m,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(r,!1),E(),e.prev=2,e.next=5,Object(rl.b)({address:r});case 5:return l=e.sent,e.next=8,Object(rl.c)(l[0]);case 8:c=e.sent,o=c.lat,i=c.lng,t({lat:o,lng:i}),console.log(l[0]),a({lat:o,lng:i}),m=r,u=l[0].address_components[3].long_name,d=l[0].address_components[4].long_name,console.log(u,d,m),n({nombre:m,ciudad:u,estado:d}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(ll.b,{className:"w-100 rounded",value:o,onChange:function(e){return p(e.target.value)},disabled:!c,placeholder:"Ingresa el nombre de tu universidad"}),r.a.createElement(ll.e,null,r.a.createElement(ll.c,null,"OK"===u&&d.map((function(e){var t=e.id,a=e.description;return r.a.createElement(ll.d,{key:t,value:a})}))))))},il=function(e){var t=Object(n.useRef)(),a=Object(n.useCallback)((function(e){t.current=e}),[]),l=Object(n.useState)(),c=Object(m.a)(l,2),o=(c[0],c[1],Object(n.useCallback)((function(e){var a=e.lat,n=e.lng;t.current.panTo({lat:a,lng:n}),t.current.setZoom(16)}),[])),s={styles:ht,disableDefaultUI:!0},i=Object(cl.c)({googleMapsApiKey:"AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo",libraries:ol}),u=i.isLoaded;if(i.loadError)return"Error loading map";if(!u)return"loading";return r.a.createElement(n.Fragment,null,r.a.createElement(sl,{panTo:o,setMarkerPosition:e.setMarkerPosition,setData:e.setData}),r.a.createElement("div",{style:{width:"100%",height:"400px"}},r.a.createElement(cl.a,{mapContainerStyle:{width:"100%",height:"100%"},zoom:5,center:e.markerPosition||{lat:23.634501,lng:-102.552784},options:s,onClick:e.onMapClick,onLoad:a},e.markerPosition&&r.a.createElement(cl.b,{position:e.markerPosition}))))},ml=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(d.g)(),o=Object(n.useState)({nombre:"",ciudad:"",estado:""}),u=Object(m.a)(o,2),p=u[0],E=u[1],f=Object(n.useState)([]),b=Object(m.a)(f,2),v=(b[0],b[1],Object(n.useState)(!1)),h=Object(m.a)(v,2),g=h[0],y=h[1],j=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,""===p.nombre||""===p.ciudad||""===p.estado){e.next=9;break}return n={data:p,ubi:a},e.next=6,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/universidades",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,console.log(a),console.log(t),a.error?(console.log(a.error),c.push("/")):c.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 6:e.sent,e.next=11;break;case 9:y(!0),console.log(g);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:""}),r.a.createElement("div",{className:"container w-50 my-4 py-2 bg-color rounded-lg text-light"},r.a.createElement("h1",{className:"text-center my-10 pt-5"},"Registra tu Universidad"),r.a.createElement("div",{className:"my-2"},g?r.a.createElement(Kr,null):""),r.a.createElement("form",{className:"my-5 text-center mx-auto w-75",onSubmit:j},r.a.createElement(il,{setData:E,onMapClick:function(e){var t=e.latLng,a={lat:t.lat(),lng:t.lng()};console.log(a),l(a)},setMarkerPosition:l,markerPosition:a,markerShown:"true"}),r.a.createElement("button",{className:"btn btn-lg btn-warning my-4",type:"submit"},"Registrar"))))},ul=(a(1032),function(){var e=Object(d.g)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],c=a[1];return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"container w-25 my-5 p-3 bg-primary rounded-lg text-light"},r.a.createElement("h4",{className:"text-center my-5 pt-5"},"Restablece tu contrase\xf1a"),r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"email"},"Email address"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"email",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement("button",{className:"btn btn-lg btn-warning my-5",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l)?fetch("https://tiendas-unison-web.herokuapp.com/olvidarcontra   ",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})}).then((function(e){return e.json()})).then((function(t){t.error?Object(Dt.a)({html:t.error,classes:"#c62828 red darken-3"}):(Object(Dt.a)({html:t.message,classes:"#43a047 green darken-1"}),e.push("/"))})).catch((function(e){console.log(e)})):Object(Dt.a)({html:"invalid email",classes:"#c62828 red darken-3"})}}," Enviar correo ")))}),dl=function(){var e=Object(d.g)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(d.i)().token,u=function(){var t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("click"),t.next=3,fetch("https://tiendas-unison-web.herokuapp.com/new-password",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:l,token:o})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?console.log(t.error):(alert("Tu contrase\xf1a cambi\xf3 exitosamente"),e.push("/login"))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{class:"restablece"},r.a.createElement("div",{className:"container w-25 my-5 bg-primary rounded-lg text-light p-4"},r.a.createElement("div",{className:"form-group text-left"},r.a.createElement("label",{for:"pwd"},"Contrase\xf1a"),r.a.createElement("input",{id:"pwd",className:"form-control",onChange:function(e){return c(e.target.value)},type:"password"})),r.a.createElement("button",{className:"btn btn-lg btn-warning my-4",onClick:function(){return u()}},"Reestablecer contrase\xf1a"))))},pl=function(){Object(d.g)();var e=Object(n.useContext)(b);e.user,e.setUser;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row text-center m-0 p-0 h-100"},r.a.createElement("div",{className:"lpleft text-center mx-auto col-sm-5"},r.a.createElement("h1",null,"Tiendas"),r.a.createElement("h1",null,"Universitarias"),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-sm-8 m-auto"},r.a.createElement("img",{className:"d-block mx-auto",id:"carrito",src:"/Unioncarrito.png"}))),r.a.createElement(u.b,{to:"/registrouniversidad"},r.a.createElement("div",{className:"badge"},r.a.createElement("div",{className:"alert alert-info",role:"alert"}," \xbfNo encuentras tu Universidad?",r.a.createElement("span",{className:"alert-link"},"\xa1Reg\xedstrala aqu\xed!"))))),r.a.createElement("div",{className:"lpright col-sm-7 bg-color"},r.a.createElement("div",{className:"container LandingPage"},r.a.createElement("div",{className:"ini3 text-center my-5"},r.a.createElement("div",{className:"container py-5"},r.a.createElement("h1",null,"Olv\xeddate del efectivo,"),r.a.createElement("h1",null,"compralo en l\xednea."),r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",{className:"btn btn-outline-warning btn-lg mx-4"},"Iniciar sesi\xf3n")),r.a.createElement(u.b,{to:"/registro"},r.a.createElement("button",{className:"btn btn-lg btn-warning mx-4"},"Registrate"))))))))},El=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null),r.a.createElement("div",{className:"container h-100 text-center py-4 bg-light border"},r.a.createElement("h1",{className:"display-4 my-5 text-primary py-5"},"\xbfEres una tienda o un cliente?"),r.a.createElement("div",{className:"row h-100 my-4 py-4"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(u.b,{to:"/registro/tienda"},r.a.createElement("button",{className:"btn bg-color rounded h-25 w-50"},r.a.createElement("h1",null,"Tienda")))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(u.b,{to:"/registro/cliente"},r.a.createElement("button",{className:"btn bg-color rounded h-25 w-50"},r.a.createElement("h1",null,"Cliente / Alumno")))))))};var fl=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useMemo)((function(){return{user:a,setUser:l}}),[a,l]),o=localStorage.getItem("token.tuw"),p=Object(n.useState)(o||null),E=Object(m.a)(p,2),f=E[0],v=(E[1],function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=4;break}return e.next=3,fetch("https://tiendas-unison-web.herokuapp.com/api/v1/auth/user",{method:"GET",headers:{"x-auth-token":f}}).then(function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,400==t.status?localStorage.removeItem("token.utw"):l(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());if(Object(n.useLayoutEffect)((function(){v()}),[]),null==a)return console.log(c),r.a.createElement(u.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(b.Provider,{value:c},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",exact:!0,component:Gr}),r.a.createElement(d.b,{path:"/registro/tienda",exact:!0,component:al}),r.a.createElement(d.b,{path:"/registro",exact:!0,component:El}),r.a.createElement(d.b,{path:"/registro/cliente",exact:!0,component:nl}),r.a.createElement(d.b,{path:"/registrouniversidad",exact:!0,component:ml}),r.a.createElement(d.b,{path:"/olvidarcontra",exact:!0,component:ul}),r.a.createElement(d.b,{path:"/reestablecer/:token",component:dl}),r.a.createElement(d.b,{path:"/",exact:!0,component:pl}),r.a.createElement(d.a,{to:"/"})))));console.log(c.user);var h=c.user;switch(console.log(h),h.tipo_usuario){case"cliente":return r.a.createElement(b.Provider,{value:c},r.a.createElement(Ea,null));case"admin":return r.a.createElement(u.a,null,r.a.createElement(b.Provider,{value:c},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/admin",component:xa}),r.a.createElement(d.a,{from:"/",to:"/admin"}))));case"tienda":return r.a.createElement(u.a,null,r.a.createElement(b.Provider,{value:c},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/panel",component:Vr}),r.a.createElement(d.a,{from:"/",to:"/panel"}))));case"default":return r.a.createElement("h1",null,"Algo esta mal")}};c.a.render(r.a.createElement(fl,null),document.getElementById("root"))},271:function(e,t,a){},297:function(e,t,a){},320:function(e,t,a){},421:function(e,t,a){},445:function(e,t,a){},490:function(e,t,a){e.exports=a(1033)},494:function(e,t,a){},495:function(e,t,a){},992:function(e,t,a){},993:function(e,t,a){},994:function(e,t,a){},996:function(e,t,a){}},[[490,1,2]]]);
//# sourceMappingURL=main.da7d4f15.chunk.js.map