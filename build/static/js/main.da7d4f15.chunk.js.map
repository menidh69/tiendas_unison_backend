{"version":3,"sources":["components/Landing-Registro/Registro.js","UserContext.js","components/Login/Facebook.js","components/Cliente/icons/dropdown.svg","components/Cliente/icons/configuracion.svg","components/Cliente/icons/panel.svg","components/Cliente/icons/cerrarsesion.svg","components/Cliente/icons/home.svg","components/Cliente/icons/shoppingcart.svg","components/Cliente/ClienteNavBar.js","components/Cliente/IndexTiendas.js","components/MapStyles.js","components/Cliente/MapaTiendas.js","components/Cliente/Contenido.js","components/Cliente/PerfilCliente.js","components/Cliente/StarIcon.js","components/Cliente/TiendaInfo.js","components/Cliente/Menu.js","components/Cliente/CardSection.js","components/Cliente/CheckoutForm.js","components/Cliente/ModalPagar.js","components/Cliente/Carrito.js","components/Cliente/ComprasR.js","components/Cliente/RatingIcon.js","components/Cliente/ReviewTienda.js","components/Cliente/MisCompras.js","components/Cliente/Productos.js","components/Cliente/Home.js","components/Admin/AdminNavBar.js","components/Admin/TiendaTable.js","components/Admin/UniversidadesTable.js","components/Admin/MainAdmin.js","components/Admin/Tienda1.js","components/Admin/ReportesTable.js","components/Admin/InfoUni.js","components/Admin/Admin.js","components/Tienda/icons/dropdown.svg","components/Tienda/icons/configuracion.svg","components/Tienda/icons/panel.svg","components/Tienda/icons/cerrarsesion.svg","components/Tienda/icons/home.svg","components/Tienda/TiendaNavBar.js","components/Tienda/InfoStripe.js","components/Tienda/CardSub.js","components/Tienda/SubscriptionForm.js","components/Tienda/BillingPlan.js","components/Tienda/BillingInfo.js","components/Tienda/Opciones.js","firebase/index.js","components/Tienda/MiUbicacion.js","components/Tienda/MiInfo.js","components/Tienda/MenuTienda.js","components/Tienda/EditarMenu.js","components/Tienda/AgregarProducto.js","components/Tienda/EditarProducto.js","components/Tienda/Tarjeta.js","components/Tienda/MisReportes.js","components/Tienda/Pedidos.js","components/Tienda/GraficaVenta.js","components/Tienda/VentanaVentas.js","components/Tienda/Panel.js","components/Landing-Registro/LandingNav.js","components/Login/Login.js","components/Errorflash.js","components/Reg/RegGen.js","components/Reg/RegTienda.js","components/Reg/Confirm.js","components/Reg/Success.js","components/Reg/MapReg.js","components/Reg/UserForm.js","components/Landing-Registro/RegistroGeneral.js","components/Landing-Registro/MapaUni.js","components/Landing-Registro/RegistroUniversidad.js","components/Login/OlvidarContra.js","components/Login/Restablecer.js","components/Landing-Registro/LandingPage.js","components/Landing-Registro/RegistroTipo.js","App.js","index.js"],"names":["Registro","className","to","UserContext","createContext","Facebook","useContext","setUser","user","useState","match","setMatch","email","nombre","contra","id_universidad","tel","loginData","setLoginData","err","setErr","unis","setUnis","history","useHistory","useEffect","fetchUniversidades","a","fetch","data","json","console","log","login","loginInfo","method","headers","body","JSON","stringify","loginresponse","userLogged","error","push","localStorage","setItem","token","guardarInfo","e","preventDefault","handleClose","response","result","responseFacebook","info","res","exists","handleShow","name","show","setShow","appId","autoLoad","fields","onClick","callback","cssClass","icon","Modal","onHide","Header","closeButton","Title","Body","for","id","onChange","target","value","selected","map","uni","key","type","Footer","Button","variant","_extends","Object","assign","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","props","enableBackground","height","viewBox","width","ref","ForwardRef","forwardRef","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","x","y","style","xmlSpace","_ref18","_ref19","_ref20","NavBar","NavItem","children","open","setOpen","display","DropdownMenu","items","setItems","fetchitems","data2","items2","DropdownItem","func","leftIcon","href","removeItem","alert","ClienteNavBar","IndexTiendas","isMounted","then","styleImg","maxWidth","objectFit","Row","item","Col","lg","md","sm","src","MyMapComponent","withScriptjs","withGoogleMap","selectedTienda","setSelectedTienda","myPosition","setMyPosition","center","setCenter","getCoordinates","position","latitude","coords","longitude","navigator","geolocation","getCurrentPosition","getLocation","fetchuniversidad","ubicacion","lat","parseFloat","lng","options","styles","MapStyles","disableDefaultUI","defaultZoom","tienda","url","scaledSize","window","google","maps","Size","origin","Point","anchor","onCloseClick","class","alt","MapaTiendas","googleMapURL","loadingElement","containerElement","mapElement","Contenido","Info","infobank","setInfobank","nombre_titular","num_tarjeta","exp_date","cvv","cpp","it","infobanks","Accordion","Card","Toggle","as","eventKey","Collapse","CAMBIAR","role","data-toggle","ModalEDITAR","setData","updateField","validarcpp","RegExp","test","validarnum","validarexo","validarcvv","Guardar","data-dismiss","aria-hidden","placeholder","placeholders","PerfilCliente","eliminar","GuardarInfoBank","aria-controls","aria-selected","aria-labelledby","StarIcon","fill","color","faStar","markerPosition","MapaTienda","TiendaInfo","validacion","setValidacion","useParams","setMarkerPosition","stars","setStars","fetchdata","validada","fetchValidar","calculaRating","review_tiendas","status","reviews","total","review","calificacion","array","prom","record","reportar","validar","id_usuario","id_tienda","faCheckCircle","horario","tarjeta","star","backgroundColor","alignItems","url_imagen","required","animation","Producto","modaldata","setmodalData","btnStyle","categoria","precio","AgregarCarrito","descripcion","faCartArrowDown","Agregar","cantidad","agregarCarrito","id_producto","itemCarrito","min","max","Menu","fetchValidacionGeneral","setTienda","setValidada","searchTerm","setSearchTerm","sortType","setSortType","setCategoria","sortProperty","sorted","sort","b","sortArray","handleShow2","datatienda","itemtienda","handleClose2","show2","setShow2","filter","toLowerCase","includes","toString","CARD_ELEMENT_OPTIONS","base","fontFamily","fontSmoothing","fontSize","invalid","iconColor","CardSection","htmlFor","CheckoutForm","stripe","useStripe","elements","useElements","processing","setProcessing","success","setSuccess","setError","orden","setOrden","handleSubmit","event","ID","intent","results","client_secrets","secret","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","message","paymentIntent","productos","setProductos","Table","striped","bordered","hover","size","responsive","borderless","producto","scope","onSubmit","disabled","Spinner","require","setApiKey","stripePromise","loadStripe","locale","ModalPagar","id_stripe","toast","configure","Tabla","variasTiendas","setVariasTiendas","arrayTiendas","handleDelete","carrito_items","calculaTotal","Number","toFixed","Eliminar","faShoppingCart","faTrash","ModalDelete","eliminarClick","idProducto","idTienda","Carrito","setIDStripe","orden_items","fecha","ComprasR","RatingIcon","index","rating","hoverRating","onMouseEnter","onMouseLeave","onSaveRating","useMemo","ReviewTienda","comment","setComment","setRating","setHoverRating","sendReview","Form","Group","controlId","Label","xs","Control","rows","Calificar","setReview","ModalC","ModalE","comentario","calificarClick","clase","starId","editarClick","Star","styleClass","data-rating","stroke-width","points","MisCompras","compras","setCompras","selectedCompra","setSelectedCompra","fetchVentas","datos","Container","overflowY","slice","reverse","ventum","amount","entregado","Subtitle","Image","rounded","Text","Productos","busqueda","setBusqueda","query","URLSearchParams","useLocation","search","get","Home","Provider","path","exact","component","from","AdminNavBar","aria-orientation","TiendaTable","universidad","setUniversidad","tablaitems","UniversidadesTable","ciudad","estado","MainAdmin","mystyle","Tienda1","dataUser","setDataUser","dataTienda","setDataTienda","dataReportes","setDataReportes","reporte_tiendas","reportes","deleteAll","deleteOne","ReportesTable","InfoUni","fetchinfo","sprites","params","front_default","Admin","infoUni","UniversidadTable","TiendaNavBar","InfoStripe","link","setLink","fetchStripeID","accountLink","dbData","CardSub","SubscriptionForm","customerId","createPaymentMethod","createSubscription","customer_id","paymentMethodId","paymentMethod","priceId","plan","subscription","BillingPlan","handleClick","setStep","step","setPlan","BillingInfo","fetchSubscripcion","status_code","handleSubscripcion","setSubscripcion","subscripcion","centered","handleComponent","Items","setDays","tiendaID","setID","days","finaldate","Date","today","now","subdate","fechaSub","setDate","getDate","diffTime","Math","abs","diffDays","ceil","cancel_at_period_end","Opciones","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","measurementId","storage","defaultCenter","onMapClick","editable","MiUbicacion","setLocation","MiInfo","setUrl","progress","setProgress","handleChange","files","handleUpload","GuardarUbi","file","put","on","snapshot","round","bytesTransferred","totalBytes","child","getDownloadURL","id_tipo_tienda","TipoTienda","latLng","coordinates","Arriba","it2","MenuTienda","Editar","ModalEditar","EditarMenu","state","Component","Formulario","onSubmitForm","AgregarProducto","imagen","setProducto","EditarProducto","InfoBancaria","GuardarNueva","Tarjeta","MisReportes","fetchReportes","usuario","Entregar","Pedidos","GraficaVenta","ventadiaria","setVentadiaria","setDatos","month","ventas","arrayDatos","arrayDias","totalDiario","arrangeData","venta","totalVendido","suma","calculaPromedio","domainPadding","containerComponent","zoomDomain","mayor","obtenMayor","animate","duration","onLoad","scale","theme","VictoryTheme","material","tickValues","dates","año","getFullYear","setTickDates","tickFormat","dependentAxis","barWidth","VentanaVentas","setMonth","setVentas","defaultValue","Panel","LandingNav","left","transform","maxHeight","loading","LoginForm","resp","Errorflash","aria-label","RegGen","continue","values","contraConfirm","nextStep","universidades","setState","stopPropagation","handleMouseDownPassword","telefono","RegTienda","back","prevStep","nombretienda","Confirm","submit","uni_nombre","tipo_tienda","img_tienda","Success","Dialog","fullWidth","AppBar","MapReg","markerShown","setMarkerShown","Map","compose","withProps","latitud","longitud","handleLocation","UserForm","input","selectedIndex","text","checkempty","empty","RegistroGeneral","contra1","libraries","Search","panTo","usePlacesAutocomplete","requestOptions","location","radius","ready","suggestions","setValue","clearSuggestions","onSelect","address","getGeocode","getLatLng","description","MapaUni","mapRef","useRef","onMapLoad","useCallback","current","setZoom","useLoadScript","googleMapsApiKey","isLoaded","loadError","mapContainerStyle","zoom","RegistroUniversidad","ubi","catch","OlvidarContra","setEmail","html","classes","Restablecer","password","setPassword","PostData","LandingPage","RegistroTipo","App","storedToken","getItem","checkSignIn","useLayoutEffect","Login","tipo_usuario","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.da7d4f15.chunk.js","sourcesContent":["\nimport React, {Fragment} from 'react';\nimport {Link} from 'react-router-dom';\n\n\nconst Registro = ()=> {\n    return(\n        <Fragment>\n            <div className=\"container bg-color text-center rounded py-2\">\n                <h4 className=\"text-white\">¿Aun no tienes cuenta?</h4>\n\n\n                <Link to=\"/registro\">\n                <button className=\"btn btn-lg btn-warning\">Registrate</button>\n\n                </Link>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default Registro;\n","import { createContext } from 'react';\n\nexport const UserContext = createContext(null);","import React, {useState, Fragment, useContext, useEffect} from'react';\nimport FacebookLogin from 'react-facebook-login';\nimport { UserContext } from '../../UserContext';\nimport {Button, Modal} from 'react-bootstrap';\nimport {useHistory} from 'react-router-dom';\n\n\nconst Facebook = ()=>{\n    const {user, setUser} = useContext(UserContext);\n    const [uni, setUni] = useState('');\n    const [contra, setContra] = useState(null)\n    const [match, setMatch] = useState(null)\n    const [loginData, setLoginData] = useState({\n      email: null,\n      nombre: null,\n      contra: null,\n      id_universidad: null,\n      tel: null\n    })\n    const [err, setErr] = useState(null);\n    const [unis, setUnis] = useState([]);\n    const history = useHistory();\n\n    useEffect(()=>{\n      fetchUniversidades()\n    }, [])\n\n    const componentClicked = ()=>{\n        handleShow();\n        console.log('clicked')\n        alert('Al iniciar sesión con facebook serás registrado como usuario regular')\n    }\n    const fetchUniversidades = async ()=>{\n        const data = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/universidadesvalidadas')\n        const json = await data.json();\n        console.log(json)\n        setUnis(json);\n      }\n\n      const login = async ()=>{\n        const loginInfo={\n          email: loginData.email,\n          contra: loginData.contra\n        }\n        \n          const loginresponse = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/usuario/login',\n          {\n              method: \"POST\",\n              headers: {\"Content-Type\": \"application/json\"},\n              body: JSON.stringify(loginInfo)\n          });\n          const userLogged = await loginresponse.json()  \n          console.log(userLogged);\n          if(userLogged.error){\n            console.log(userLogged)\n            history.push(\"/home\") \n          }else{\n            console.log(userLogged);\n            localStorage.setItem(\"token.tuw\", userLogged.user.token)\n            setUser(userLogged.user);\n            history.push(\"/\")\n          } \n        }\n      \n\n      const guardarInfo = async e =>{\n        e.preventDefault()\n        \n        try{\n        if((loginData.contra!==null && loginData.contra!==\"\")&&(match!==null && match!==\"\")&&(loginData.contra===match) && (loginData.id_universidad!==null && loginData.id_universidad!==\"\")){\n          handleClose();\n          const body = loginData;\n          const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/usuarios', {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(body)\n          });\n          const result = await response.json();\n          if (result.error) {\n            console.log(result.error)              \n          } else {\n            login();\n        }\n      }\n        else{\n          if(loginData.contra!==match){\n            setErr(\"Contraseñas no coinciden\")\n          }\n          else if(loginData.id_universidad===null || loginData.id_universidad===\"\"){\n            setErr(\"Seleccion una universidad porfavor\")\n          } \n          else if(match==null || match==\"\" || loginData.contra==null ||loginData.contra==\"\"){\n            setErr(\"Hay que ingresar la contraseña en ambos campos\")\n          }\n          console.log('passwords dont match')\n          \n        }\n      }catch(err){\n        console.log(err)\n      }\n        \n      }\n\n    const responseFacebook = async response =>{\n      console.log(response)\n      const info = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/auth/fbLogin', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(response)\n      })\n      const res = await info.json()\n      console.log(res.user)\n      if(res.exists == true){\n        localStorage.setItem(\"token.tuw\", res.user.token)\n        setUser(res.user)\n        history.push(\"/home\")\n\n      }else{\n        handleShow();\n        const newuser = {\n          email: response.email,\n          nombre: response.name\n        }\n        setLoginData({...loginData, email: response.email, nombre: response.name})\n      }\n        \n    };\n\n    const updateField = e => {\n        if(e.target.value=='0'){\n            setLoginData({...loginData, id_universidad: null})\n        }else{\n          setLoginData({...loginData, id_universidad: e.target.value})\n        }\n      }\n    const [show, setShow] = useState(false);\n\n      const setPassword=e=>{\n        setLoginData({...loginData, contra: e.target.value})\n      }\n  \n      const confirmPassword=e=>{\n          setMatch(e.target.value)\n      }\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return(\n    <Fragment>\n        <FacebookLogin\n          appId=\"2718234125104025\"\n          autoLoad={false}\n          fields=\"name,email,picture\"\n          onClick={handleClose}\n          callback={responseFacebook} \n          cssClass=\"px-4 rounded btn btn-lg btn-primary mx-auto border\"\n          icon=\"fa-facebook\"/>\n        <Modal show={show} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Termina tu registro</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <h4>¿Primera vez?</h4>\n            <p>Selecciona tu universidad y establece una contraseña para tu cuenta antes de continuar</p>\n              \n              <div className=\"form-group text-left\">\n                <label for=\"universidad\">Universidad</label>\n                <select id=\"universidad\" name=\"universidad\" className=\"form-control\" onChange={updateField}>\n                <option selected value='0'>Selecciona universidad</option>\n                  {unis.map(uni=>(\n                    <option key={uni.id} value={uni.id}>{uni.nombre}</option>\n                  ))}\n                </select>\n              </div>\n              {err?\n              <p className=\"text-danger small\">{err}</p>\n              :null}\n              <div className=\"form-group\">\n                <label for=\"password\">Contraseña</label>\n                <input type=\"password\" id=\"password\" className=\"form-control\" onChange={setPassword}></input>\n              </div>\n              <div className=\"form-group\">\n                  <label for=\"password\">Repetir contraseña</label>\n                  <input type=\"password\" id=\"repeat-password\" className=\"form-control\" onChange={confirmPassword}></input>\n              </div>\n\n          </Modal.Body>\n          <Modal.Footer className=\"mx-auto\">\n          <Button variant=\"primary\" onClick={guardarInfo}>Continuar</Button>\n          \n          </Modal.Footer>\n        </Modal>\n      </Fragment>\n  )\n\n}\n\nexport default Facebook;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m29.597 44.936c.03.029.061.058.092.085.748.649 1.686.973 2.622.973.938 0 1.875-.324 2.623-.973.039-.034.077-.07.113-.107l19.777-20.085c1.148-1.148 1.488-2.859.867-4.359-.621-1.501-2.072-2.47-3.695-2.47h-39.992c-1.623 0-3.074.969-3.695 2.469s-.281 3.211.878 4.37zm22.399-22.936-19.686 19.993-20.306-19.993z\"\n});\n\nvar SvgDropdown = function SvgDropdown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer\",\n    enableBackground: \"new 0 0 64 64\",\n    height: 512,\n    viewBox: \"0 0 64 64\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDropdown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown.76d2151c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8 c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2 c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8 c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1 c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8 c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5 l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6 c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1 l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1 C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9 c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8 c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42 c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8 c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8 c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2 c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42 c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6 c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1 c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8 c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7 c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001 z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgConfiguracion = function SvgConfiguracion(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 478.703 478.703\",\n    style: {\n      enableBackground: \"new 0 0 478.703 478.703\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgConfiguracion, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/configuracion.ec23fc06.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m51 16.414 7.707-7.707-1.414-1.414-6.293 6.293-2.293-2.293-1.414 1.414z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m21 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m17 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m13 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m29 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m37 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m9 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m25 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m33 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m63 11c0-5.514-4.486-10-10-10-3.262 0-6.154 1.577-7.981 4h-41.019c-1.654 0-3 1.346-3 3v34c0 1.654 1.346 3 3 3h18.402l.039.078c.366.731.559 1.548.559 2.364v4.108c0 1.074.252 2.151.73 3.113l2.27 4.571v3.721l18 .047v-3.669l1.6-2.133c.903-1.204 1.4-2.696 1.4-4.2v-8h9c1.654 0 3-1.346 3-3v-23.019c2.423-1.827 4-4.719 4-7.981zm-10-8c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm-7.981 14h-38.019v-6h36c0 2.253.758 4.326 2.019 6zm-.019 36c0 1.075-.355 2.14-1 3l-2 2.667v2.331l-14-.038v-2.195l-2.479-4.992c-.341-.687-.521-1.455-.521-2.223v-4.108c0-1.125-.266-2.252-.77-3.259l-1.165-2.33c-.042-.085-.065-.182-.065-.277 0-.341.278-.618.714-.618 2.915 0 5.286 2.372 5.286 5.287v1.713 2h2v-2-1.713-15.245c0-.551.449-1 1-1s1 .449 1 1v9 4h2v-4c0-.551.449-1 1-1s1 .449 1 1v4h2v-4c0-.551.449-1 1-1s1 .449 1 1v2 2h2v-2c0-.551.449-1 1-1s1 .449 1 1zm12-11c0 .551-.449 1-1 1h-9v-1c0-1.654-1.346-3-3-3-.395 0-.77.081-1.116.22-.345-1.275-1.501-2.22-2.884-2.22-.771 0-1.468.301-2 .78-.532-.48-1.229-.78-2-.78-.352 0-.686.072-1 .184v-6.184c0-1.654-1.346-3-3-3s-3 1.346-3 3v10.257c-1.341-1.411-3.245-2.299-5.381-2.299-1.443 0-2.618 1.174-2.619 2.618 0 .404.096.809.276 1.172l.127.252h-17.403c-.551 0-1-.449-1-1v-34c0-.551.449-1 1-1h39.841c-.279.636-.497 1.304-.639 2h-38.202v10h42.025c1.669 1.25 3.733 2 5.975 2 1.422 0 2.774-.303 4-.841z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m11 21c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm0 10c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m21 27h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m21 35h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m29 27h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m37 27h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m37 35h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m45 37h10v-14h-10zm2-12h6v10h-6z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m5 41h12v-6h-12zm2-4h8v2h-8z\"\n}));\n\nvar SvgPanel = function SvgPanel(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_5\",\n    enableBackground: \"new 0 0 64 64\",\n    height: 512,\n    viewBox: \"0 0 64 64\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPanel, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/panel.45e491e5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M330.667,192c5.888,0,10.667-4.779,10.667-10.667v-128C341.333,23.936,317.419,0,288,0H53.333C23.915,0,0,23.936,0,53.333 v384c0,29.397,23.915,53.333,53.333,53.333H288c29.419,0,53.333-23.936,53.333-53.333v-128c0-5.888-4.779-10.667-10.667-10.667 S320,303.445,320,309.333v128c0,17.643-14.357,32-32,32H53.333c-17.643,0-32-14.357-32-32v-384c0-17.643,14.357-32,32-32H288 c17.643,0,32,14.357,32,32v128C320,187.221,324.779,192,330.667,192z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M480,234.667H138.667c-5.888,0-10.667,4.779-10.667,10.667S132.779,256,138.667,256H480 c5.888,0,10.667-4.779,10.667-10.667S485.888,234.667,480,234.667z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M487.531,237.824l-64-64c-4.16-4.16-10.923-4.16-15.083,0c-4.16,4.16-4.16,10.923,0,15.083l56.448,56.448l-56.448,56.448 c-4.16,4.16-4.16,10.923,0,15.083c2.091,2.069,4.821,3.115,7.552,3.115c2.731,0,5.461-1.045,7.531-3.093l64-64 C491.691,248.747,491.691,241.984,487.531,237.824z\"\n})));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgCerrarsesion = function SvgCerrarsesion(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 490.667 490.667\",\n    style: {\n      enableBackground: \"new 0 0 490.667 490.667\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCerrarsesion, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cerrarsesion.ed7d9081.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M475.425,200.225L262.092,4.669c-6.951-6.359-17.641-6.204-24.397,0.35L36.213,200.574 c-3.449,3.348-5.399,7.953-5.399,12.758v280.889c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.959,17.778-17.778 v-130.37h82.963v130.37c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.953,17.778-17.778V213.333 C481.185,208.349,479.099,203.597,475.425,200.225z M445.629,476.444H333.037v-130.37c0-9.819-7.959-17.778-17.778-17.778H196.741 c-9.819,0-17.778,7.959-17.778,17.778v130.37H66.37V220.853L250.424,42.216l195.206,178.939V476.444z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgHome = function SvgHome(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHome, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/home.d6468156.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M503.142,79.784c-7.303-8.857-18.128-13.933-29.696-13.933H176.37c-6.085,0-11.023,4.938-11.023,11.023 c0,6.085,4.938,11.023,11.023,11.023h297.07c5.032,0,9.541,2.1,12.688,5.914c3.197,3.88,4.475,8.995,3.511,13.972l-44.054,220.282 c-1.709,7.871-8.383,13.366-16.232,13.366H184.323L83.158,36.854C77.69,21.234,62.886,10.74,45.932,10.74 c-0.005,0-0.011,0-0.017,0c-14.38,0.496-28.963,0.491-32.535,0.248c-3.555-0.772-7.397,0.22-10.152,2.976 c-4.305,4.305-4.305,11.282,0,15.587c3.412,3.412,4.564,4.564,43.068,3.23c7.22,0,13.674,4.564,15.995,11.188l103.618,311.962 c1.499,4.503,5.71,7.545,10.461,7.545h252.982c18.31,0,33.841-12.638,37.815-30.909l44.109-220.525 C513.503,100.513,510.544,88.757,503.142,79.784z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M424.392,424.11H223.77c-6.785,0-13.162-4.674-15.46-11.233l-21.495-63.935c-1.94-5.771-8.207-8.885-13.961-6.934 c-5.771,1.935-8.874,8.19-6.934,13.961l21.539,64.061c5.473,15.625,20.062,26.119,36.31,26.119h200.622 c6.085,0,11.023-4.933,11.023-11.018S430.477,424.11,424.392,424.11z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M231.486,424.104c-21.275,0-38.581,17.312-38.581,38.581s17.306,38.581,38.581,38.581s38.581-17.312,38.581-38.581 S252.761,424.104,231.486,424.104z M231.486,479.22c-9.116,0-16.535-7.419-16.535-16.535c0-9.116,7.419-16.535,16.535-16.535 c9.116,0,16.535,7.419,16.535,16.535C248.021,471.802,240.602,479.22,231.486,479.22z\"\n})));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M424.392,424.104c-21.269,0-38.581,17.312-38.581,38.581s17.312,38.581,38.581,38.581 c21.269,0,38.581-17.312,38.581-38.581S445.661,424.104,424.392,424.104z M424.392,479.22c-9.116,0-16.535-7.419-16.535-16.535 c0-9.116,7.419-16.535,16.535-16.535c9.116,0,16.535,7.419,16.535,16.535C440.927,471.802,433.508,479.22,424.392,479.22z\"\n})));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgShoppingcart = function SvgShoppingcart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.001 512.001\",\n    style: {\n      enableBackground: \"new 0 0 512.001 512.001\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgShoppingcart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/shoppingcart.2b6d8f7b.svg\";\nexport { ForwardRef as ReactComponent };","import React, {Fragment, useEffect, useState, useContext} from 'react';\nimport {ReactComponent as Dropdown} from './icons/dropdown.svg';\nimport {ReactComponent as Settings} from './icons/configuracion.svg';\nimport {ReactComponent as Panel} from './icons/panel.svg';\nimport {ReactComponent as Logout} from './icons/cerrarsesion.svg';\nimport {ReactComponent as Home} from './icons/home.svg';\nimport {ReactComponent as Cart} from './icons/shoppingcart.svg';\nimport { useHistory, Link } from 'react-router-dom';\nimport { UserContext } from '../../UserContext'\n\n\nconst ClienteNavBar = ()=>{\n    return(\n        <Fragment>\n            <NavBar>\n                    \n                <NavItem icon={<Dropdown/>} >\n                    <DropdownMenu/>\n                </NavItem>\n            </NavBar>\n        </Fragment>\n    )\n    }\n\n\n\n\nfunction NavBar(props) {\n    return (\n        <nav className=\"navbar\">\n            <div className=\"leftNav\">\n                <Link to=\"/home\">\n                    <NavItem icon={<Home/>} />\n                </Link>\n            </div>\n            <div className=\"centerNav\">\n                    <a>\n                        <h1>Tiendas Universidad</h1>\n                    </a>\n            </div>\n            <ul className=\"navbar-nav\">\n                { props.children }\n            </ul>\n        </nav>\n    );\n}\n\nfunction NavItem(props) {\n\n    const [open, setOpen] = useState(false);\n\n\n    return (\n        <li className=\"nav-item\">\n\n                <button className=\"icon-button\" onClick={() => setOpen(!open)}>\n                    {props.icon}\n                </button>\n            <div style={{display: 'contents'}} onClick={() => setOpen(!open)}>\n                {open && props.children}\n            </div>\n\n        </li>\n    );\n}\n\nfunction DropdownMenu(){\n    \n    const [items, setItems] = useState([]);\n\n    useEffect(()=>{\n        fetchitems();\n    }, []);\n\n    const {user, setUser} = useContext(UserContext);\n    const history = useHistory();\n    const logout = ()=>{\n        localStorage.removeItem('token.tuw')\n        alert('Hiciste logout')\n        setUser(null);\n        history.push('/')\n    }\n\n    const fetchitems = async () => {\n        const data = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/carrito/${user.id}`);\n        const items = await data.json();\n        const data2 = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/carritoItem/${items[0].id}`);\n        const items2 = await data2.json();\n        console.log(items2[0])\n        if (items2 == null) {\n            console.log(\"hola\");\n        } else {\n            setItems(items2[0]);\n\n        }\n    }\n\n    function DropdownItem(props){\n        return(\n            <a className=\"menu-item\" onClick={props.func}>\n                <span className=\"icon-button\">{props.leftIcon}</span>\n\n                {props.children}\n            </a>\n        );\n    }\n\n    return(\n        <div className=\"dropdown-nav\">\n            <Link to=\"/PerfilCliente\">\n            <DropdownItem \n            leftIcon={<Panel/>}>\n                Mi perfil\n            </DropdownItem>\n            </Link>\n            <Link to=\"/carrito\">\n            <DropdownItem\n            href='#'\n            leftIcon={<Cart/>}>\n                Carrito({items.length})\n            </DropdownItem>\n            </Link>\n\n            <Link to=\"/pedidos\">\n            <DropdownItem\n            href='#'\n            leftIcon={<Cart/>}>\n                Pedidos recientes\n                </DropdownItem>\n\n            </Link>\n            <Link to=\"/misCompras\">\n            <DropdownItem \n            leftIcon={<Panel/>}>\n                Mis compras\n\n            </DropdownItem>\n            </Link>\n            <DropdownItem\n            href='#'\n            leftIcon={<Settings/>}>\n                Configuracion\n            </DropdownItem>\n            <Link to=\"/\">\n\n            <DropdownItem\n            leftIcon={<Logout/>}\n            func={()=>logout()}>\n                Cerrar Sesion\n            </DropdownItem>\n            </Link>\n        </div>\n    );\n}\n\nexport default ClienteNavBar;","import React, {Fragment, useContext, useEffect, useReducer, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport { UserContext } from '../../UserContext';\nimport {Button, Modal, Col, Row} from 'react-bootstrap';\n\nconst IndexTiendas = ()=>{\n    const {user, setUser} = useContext(UserContext)\n\n    useEffect(()=>{\n    let isMounted = true;\n    fetchitems()\n    .then(json=>{\n      if(isMounted) setItems(json)\n    })\n    return ()=>isMounted=false;\n    }, []);\n\n    const [items, setItems] = useState([])\n    const [data, setData] = useState({})\n\n\n    const fetchitems = async ()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/${user.id_universidad}`);\n        const json = await data.json();\n        return json;\n    };\n   \n    const style = {\n        width: '12rem'\n    }\n    const styleImg={\n        maxWidth: '100%',\n        height: '175px',\n        objectFit: 'cover'\n    }\n\n    return(\n        <Fragment>\n            <div className=\"container my-4\">\n                <h2 className=\"text-center\"> Listado de Tiendas\n                </h2>\n            <Row>\n            {items.map(item =>(\n                <Col key={item.id} lg={3} md={4} sm={6}>\n                    <div className=\"card rounded shadow text-center h-100\" style={style}>\n                        <img src={item['tienda.url_imagen']||\"https://via.placeholder.com/300x300\"} style={styleImg} className=\"card-img-top\"/>\n                        <div className=\"card-body h-75\">\n                            <h4 className=\"card-title\">{item['tienda.nombre']}</h4>\n                                <p className=\"card-text\">\n                                    {item['tienda.horario']}<br/>\n                                    {(item['tienda.tarjeta'])?'Si aceptan tarjeta': 'No aceptan tarjeta'}\n                                </p>\n                                <Link to={`/tiendas/${item['tienda.id']}`}>\n                                <button className=\"btn btn-block btn-primary my-2\">Ver Tienda</button>\n                                </Link>\n                                <Link to={`/tiendas/${item['tienda.id']}/menu`}>\n                            <button className=\"btn btn-block btn-primary my-2\">Ver Menú</button>\n                            </Link>\n                        </div>\n                    </div>\n                </Col>\n            ))}\n            </Row>\n\n        \n            </div>\n        </Fragment>\n    )\n}\n\nexport default IndexTiendas;","export default \n    [\n        {\n            \"featureType\": \"all\",\n            \"elementType\": \"all\",\n            \"stylers\": [\n                {\n                    \"saturation\": \"32\"\n                },\n                {\n                    \"lightness\": \"-3\"\n                },\n                {\n                    \"visibility\": \"on\"\n                },\n                {\n                    \"weight\": \"1.18\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"administrative\",\n            \"elementType\": \"labels\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"landscape\",\n            \"elementType\": \"labels\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"landscape.man_made\",\n            \"elementType\": \"all\",\n            \"stylers\": [\n                {\n                    \"saturation\": \"-70\"\n                },\n                {\n                    \"lightness\": \"14\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"poi\",\n            \"elementType\": \"labels\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"road\",\n            \"elementType\": \"labels\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"transit\",\n            \"elementType\": \"labels\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"water\",\n            \"elementType\": \"all\",\n            \"stylers\": [\n                {\n                    \"saturation\": \"100\"\n                },\n                {\n                    \"lightness\": \"-14\"\n                }\n            ]\n        },\n        {\n            \"featureType\": \"water\",\n            \"elementType\": \"labels\",\n            \"stylers\": [\n                {\n                    \"visibility\": \"off\"\n                },\n                {\n                    \"lightness\": \"12\"\n                }\n            ]\n        }\n    ]\n    \n","import React, {Fragment, useContext, useEffect, useState} from 'react';\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow, InfoBox} from 'react-google-maps';\nimport {Link} from 'react-router-dom';\nimport { UserContext } from '../../UserContext';\nimport {compose, withProps} from 'recompose';\nimport MapStyles from '../MapStyles';\n\n\nfunction Map(props){\n    const {user, setUser} = useContext(UserContext)\n    const [items, setItems] = useState([])\n    const [selectedTienda, setSelectedTienda] = useState(null)\n    const [myPosition, setMyPosition] = useState(null);\n    const [center, setCenter] = useState()\n\n    function getLocation(){\n        if(navigator.geolocation){\n            const latlng = navigator.geolocation.getCurrentPosition(getCoordinates);\n        }else{\n            alert(\"Geolocation not supported by browser\")\n        }\n    }\n\n    function getCoordinates(position){\n        setMyPosition({\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude\n        })\n        console.log(position.coords.latitude)\n        console.log(position.coords.longitude)\n    }\n\n    useEffect(()=>{\n        let isMounted = true;\n        getLocation();\n        fetchitems()\n        .then(json=>{\n            if(isMounted) setItems(json)\n        });\n        fetchuniversidad()\n        .then(json=>{\n            if(isMounted) setCenter(json)\n        });\n        return ()=>isMounted=false;\n    }, []);\n\n    const fetchitems = async ()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/${user.id_universidad}`);\n        const json = await data.json();\n        console.log(json)\n\n        return json;\n        \n    };\n    const fetchuniversidad = async ()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/ubi/${user.id_universidad}`);\n        const json = await data.json();\n        const ubicacion = {\n            lat: parseFloat(json.lat),\n            lng: parseFloat(json.lng)\n        }\n        console.log(ubicacion)\n        return ubicacion;\n        \n    };\n\n    const options ={\n        styles: MapStyles,\n        disableDefaultUI: true,\n  \n    }\n    const imgStyle={\n        maxWidth: '150px'\n    }\n    return(\n        <GoogleMap\n        defaultZoom={17} \n        center={center}\n        options={options}\n        >\n             \n        {items.map(tienda =>(\n        <Marker\n        key={tienda['tienda.id']}\n        position={{\n            lat: parseFloat(tienda['tienda.ubicacion.lat']),\n            lng: parseFloat(tienda['tienda.ubicacion.lng'])\n        }}\n        icon={{\n            url: \"/store-solid.svg\",\n            scaledSize: new window.google.maps.Size(30,30),\n            origin: new window.google.maps.Point(0,0),\n            anchor: new window.google.maps.Point(15,15)\n        }}\n        onClick={()=>{\n            setSelectedTienda(tienda);\n        }}\n       \n        />\n        ))}\n        {myPosition ? (\n        <Marker key=\"myPosition\"\n        position={{\n            lat: myPosition.latitude,\n            lng: myPosition.longitude\n        }}\n        \n        />\n        ):null}\n        \n         {selectedTienda ? (\n            <InfoWindow position={{\n                lat: parseFloat(selectedTienda['tienda.ubicacion.lat']),\n                lng: parseFloat(selectedTienda['tienda.ubicacion.lng'])\n            }}\n            onCloseClick={()=>{setSelectedTienda(null)}}\n            >\n            <div class=\"card\" style={imgStyle}>\n                <img src={selectedTienda['tienda.url_imagen']}class=\"card-img-top\" alt=\"...\"/>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title\">{selectedTienda['tienda.nombre']}</h5>\n                    <Link to={`/tiendas/${selectedTienda['tienda.id']}/menu`}>\n                    <button class=\"btn btn-primary rounded-pill\" onClick={()=>setSelectedTienda(null)}>Ver menú</button>\n                    </Link>\n                </div>\n            </div>       \n            </InfoWindow>\n        ): null}\n               \n               \n        </GoogleMap>\n    )\n}\nconst MyMapComponent = withScriptjs(withGoogleMap(Map))\n\nconst MapaTiendas = (props)=>{\n\n    return(\n        <div>\n    <MyMapComponent\n  googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo`}\n  loadingElement={<div style={{ height: `100%` }} />}\n  containerElement={<div style={{ height: `400px` }} />}\n  mapElement={<div style={{ height: `100%` }} />}\n\n/>\n</div>\n    )\n}\n\nexport default MapaTiendas;","\nimport React, { Fragment, useReducer, useContext, useState, Component, useEffect} from \"react\";\nimport \"./Contenido.css\";\nimport IndexTiendas from './IndexTiendas'\nimport { UserContext } from '../../UserContext';\nimport MapaCliente from './MapaCliente';\nimport MapaTiendas from './MapaTiendas';\nimport {Form, Button, Container, Col} from 'react-bootstrap'\nimport {Link} from 'react-router-dom';\n\n\n\nconst Contenido = () => {\n  const {user, setUser} = useContext(UserContext)\nconst [items, setItems] = useState({})\n  const [busqueda, setBusqueda] = useState(\"\")\n\nuseEffect(()=>{\n  let isMounted = true;\n    fetchitems()\n    .then(json=>{\n      if(isMounted) setItems(json)\n    })\n    return ()=>isMounted=false;\n}, []);\n\nconst fetchitems = async ()=>{\n    const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/${user.id_universidad}`);\n    const json = await data.json();\n    return json;\n};\n\nconst handleBusqueda = e =>{\n  setBusqueda(e.target.value)\n}\n  \nconst bgStyle = {\n  backgroundColor: \"#29698f\"\n}\n\n  return (\n    <Fragment>\n        <div className=\"text-center my-4 container\">\n                <MapaTiendas></MapaTiendas>\n        </div>\n        \n                {/* <button  className=\"btn btn-lg btn-primary rounded-pill my-4\">Ver listado de todas las tiendas</button> */}\n                {/* <div style={bgStyle} className=\"text-center mx-auto py-2\">\n                <Form className=\"my-4\">\n                <Form.Group controlId=\"formBasicPassword\">\n                  <Form.Label><h5 className=\"text-light\">Buscar un producto</h5></Form.Label>\n                  \n                  <Form.Control size=\"lg\" type=\"text\" placeholder=\"Brownie\" className=\"rounded-pill mx-auto w-50\" onChange={handleBusqueda} />\n                 \n                </Form.Group>\n                <Link to={`/productos?producto=${busqueda}`}>\n                <Button variant=\"warning\" type=\"submit\">\n                  Buscar\n                </Button>\n                </Link>\n                </Form>\n                </div> */}\n\n                <div className=\"text-center my-4 container\">\n                <hr className=\"my-4\"/>\n                <div>\n                <IndexTiendas className=\"my-4\"/>\n                </div>\n\n        </div>\n    </Fragment>\n  )\n};\n\nexport default Contenido;\n","import React, {Fragment, useEffect, useState,  useContext} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport { UserContext } from '../../UserContext'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport '../LandingPage.css';\nimport ClienteNavBar from './ClienteNavBar';\nimport { Modal, Button, Card, Accordion } from \"react-bootstrap\";\n\n\nfunction PerfilCliente(){\nlet history = useHistory()\nconst [data, setData] = useState({\n  nombre: '',\n  tel: '',\n  nombre_titular:'',\n  num_tarjeta:'',\n  exp_date:'',\n  cvv:'',\n  cpp:''\n});\n\nconst [items, setItems] = useState({})\nconst {user, setUser} = useContext(UserContext);\nuseEffect(()=>{\n    fetchitems();\n}, []);\n\nconst fetchitems = async ()=>{\n    const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/usuarioinfoperfil/${user.id}`);\n    const json = await data.json();\n    console.log(json[0])\n    setItems(json[0]);\n    setData(json[0]);\n};\n\nconst updateField = e => {\n  setData({\n    ...data,\n    [e.target.name]: e.target.value\n  });\n}\n\n\nconst Guardar = async (id)=>{\n    if (data.nombre==\"\"){\n      data.nombre = items.nombre\n    }\n    if (data.tel==\"\") {\n      data.tel = items.tel\n    }\n    const body = data;\n    console.log(data);\n    try{\n          const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/${user.id}`,\n          {\n              method: \"PUT\",\n              headers: {\"Content-Type\":\"application/json\"},\n              body: JSON.stringify(body)\n          });\n          // window.location = '/panel/MiInfo'\n          // history.push(\"/panel/MiInfo\")\n          fetchitems();\n    }catch(err){\n        console.error(err)\n    }\n}\n\nconst eliminar = async (id)=>{\n  try{\n      const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/usuariosdelete/${id}`,\n      {\n          method: \"DELETE\",\n      });\n      //setItems(items.filter(item => item.id !== id));\n      localStorage.removeItem('token.tuw')\n      alert('Gracias, adios')\n      setUser(null);\n      history.push(\"/\")\n  }catch(err){\n      console.error(err)\n  }\n}\n\n\nfunction validarcpp(cpp) {\n  const regex_cpp = new RegExp(/\\d{5}/);\n  if (!regex_cpp.test(cpp) ) {\n    return alert('Introduce un codigo postal valido de 5 digitos ');\n  }\n}\nfunction validarnum(num_tarjeta) {\n  const regex_numtarjeta = new RegExp(/(\\d{4} *\\d{4} *\\d{4} *\\d{4})/);\n  if(!regex_numtarjeta.test(num_tarjeta)) {\n     return alert('Introduce un numero de tarjeta valido de 16 digitos ');\n  }\n}\nfunction validarexo(exp_date) {\n  const regex_expdate =  new RegExp(/(\\d{2})\\/?(\\d{2})/);\n  if(!regex_expdate.test(exp_date)){\n    return alert('Introduce bien el mes/año');\n  }\n}\n\nfunction validarcvv(cvv) {\n  const regex_cvv = new RegExp(/\\d{3}/);\n  if (!regex_cvv.test(cvv)) {\n    return alert('Introduce el código de 3 digitos ');\n  }\n}\n\nconst GuardarInfoBank = async (id)=>{\n  if (validarnum(data.num_tarjeta) != true) {\n  }\n  if (validarexo(data.exp_date) != true ) {\n  }\n  if (validarcvv(data.cvv) != true) {\n  }\n  if (validarcpp(data.cpp) != true ) {\n  }\n  if (data.num_tarjeta !==\"\" && data.exp_date != \"\" && data.nombre_titular != \"\" && data.cvv != \"\" && data.cpp != \"\") {\n    try{\n          const body = data;\n          const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${user.id}`,\n          {\n              method: \"POST\",\n              headers: {\"Content-Type\":\"application/json\"},\n              body: JSON.stringify(body)\n          });\n          fetchitems();\n    }catch(err){\n        console.error(err)\n    }\n  }\n}\n\n  return(\n    <Fragment>\n    <div className=\"container\">\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                      <div class=\"card-body\">\n                        <div class=\"card-title mb-4\">\n                            <div className=\"\">\n                                <div class=\"text-center ml-3\">\n                                    <h2 className=\"\" >Mi Información</h2>\n                                    <hr/>\n                                </div>\n                                {/* <div class=\"ml-auto\">\n                                    <input type=\"button\" class=\"btn btn-primary d-none\" id=\"btnDiscard\" value=\"Discard Changes\" />\n                              </div> */}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                          <hr/>\n                          <div class=\"col-12\">\n                              <ul class=\"nav nav-tabs mb-4\" id=\"myTab\" role=\"tablist\">\n                                <li class = \"nav-item\">\n                                  <a class=\"nav-link active\" id=\"MyInfo-tab\" data-toggle=\"tab\" href=\"#MyInfo\" role=\"tab\" aria-controls=\"MyInfo\" aria-selected=\"true\">Perfil</a>\n                                </li>\n                                <li class = \"nav-item\">\n                                  <a class=\"nav-link\" id=\"InfoBank-tab\" data-toggle=\"tab\" href=\"#InfoBank\" role=\"tab\" aria-controls=\"InfoBank\" aria-selected=\"false\">Información Bancaria</a>\n                                </li>\n                              </ul>\n                              <div class=\"tab-content ml-l\" id=\"myTabContent\">\n                                  <div class=\"tab-pane fade show active\" id=\"MyInfo\" role=\"tabpanel\" aria-labelledby=\"MyInfo-tab\">\n                                    <table className=\"table table-striped \">\n                                        <tbody>\n                                          <tr>\n                                                <tr><th>Nombre</th>\n                                                      <td>{items.nombre}</td>\n                                                </tr>\n                                                <tr><th>Email</th>\n                                                      <td>{items.email}</td>\n                                                </tr>\n                                                <tr><th>Telefono</th>\n                                                      <td>{items.tel}</td>\n                                                </tr>\n                                            </tr>\n                                      </tbody>\n                                    </table>\n                                    <button className=\"btn btn-lg btn-danger rounded-pill mx-2\" data-toggle=\"modal\" href=\"#Modal\">Eliminar cuenta</button>\n                                    <button type=\"button\" className=\"btn btn-lg btn-primary rounded-pill mx-2\" data-toggle=\"modal\" href=\"#Editar\">Editar</button>\n                                  </div>\n                                  <div class=\"tab-pane fade\" id=\"InfoBank\" role=\"tabpanel\" aria-labelledby=\"InfoBank-tab\">\n                                    <Info/>\n                                    <button className=\"btn btn-lg btn-danger rounded-pill mx-2\" data-toggle=\"modal\" href=\"#Modal\">Eliminar cuenta</button>\n                                    <button type=\"button\" className=\"btn btn-lg btn-primary rounded-pill mx-2\" data-toggle=\"modal\" href=\"#GuardarInfoBank\">Agregar Nueva info Bancaria</button>\n                                  </div>\n                              </div>\n                              <div id=\"Modal\" class=\"modal\">\n                         <div class=\"modal-dialog\">\n                         <div class=\"modal-content\">\n                         <div class=\"modal-header\">\n                            <h4 class=\"modal-title\">¿Estás seguro?</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p>¿Seguro que quieres eliminar tu perfil ?</p>\n                            <p class=\"text-danger\"><small>Si lo borras, nunca podrás recuperarlo.</small></p>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={()=>eliminar(user.id)} data-dismiss=\"modal\" >Eliminar</button>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n                          </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n      <div id=\"Editar\" class=\"modal fade\">\n          <div class=\"modal-dialog\">\n              <div class=\"modal-content\">\n                  <div class=\"modal-header\">\n                      <h4 class=\"modal-title\">Editar Mi Información</h4>\n                  </div>\n                  <div class=\"modal-body\">\n                          <div className=\"form-group\">\n                        <label for=\"nombre\">Nombre</label>\n                        <div>\n                          <input\n                          id=\"nombre\"\n                          type=\"text\"\n                          name=\"nombre\"\n                          className=\"form-control\"\n                          value={data.nombre}\n                          onChange={updateField}\n                          ></input>\n                        </div>\n                        </div>\n                        {/* <label for=\"contra\">Contraseña</label>\n                        <div>\n                          <input\n                              id=\"contra\"\n                              type=\"text\"\n                              name=\"contra\"\n                              value={data.contra}\n                              onChange={updateField}\n                              ></input>\n                        </div> */}\n                        <div className=\"form-group\">\n                        <label for=\"tel\">Telefono</label>\n                        <div>\n                          <input\n                          id=\"tel\"\n                          type=\"text\"\n                          name=\"tel\"\n                          className=\"form-control\"\n                          value={data.tel}\n                          onChange={updateField}\n                          ></input>\n                        </div>\n                        </div>\n                  </div>\n                  <div class=\"modal-footer\">\n                      <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                      <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" onClick={()=>Guardar(user.id)}>Guardar</button>\n                  </div>\n              </div>\n          </div>\n      </div>\n      <div id=\"GuardarInfoBank\" class=\"modal fade\">\n          <div class=\"modal-dialog\">\n              <div class=\"modal-content\">\n                  <div class=\"modal-header\">\n                      <h4 class=\"modal-title\">Editar Información Bancaria</h4>\n                      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                  </div>\n                  <div class=\"modal-body\">\n                        <label for=\"nombre\">Titular de la tarjeta</label>\n                        <div>\n                          <input\n                          class=\"form-control\"\n                          id=\"nombre_titular\"\n                          type=\"text\"\n                          name=\"nombre_titular\"\n                          value={data.nombre_titular}\n                          onChange={updateField}\n                          ></input>\n                        </div>\n                        <label for=\"num_tarjeta\">Número de tarjeta</label>\n                        <p><small>Ingresa un número de tarjeta de 16 digitos eg. 5555 5555 5555 5555</small></p>\n                         <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"num_tarjeta\"\n                              type=\"tel\"\n                              name=\"num_tarjeta\"\n                              value={data.num_tarjeta}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                        <label for=\"exp_date\">Fecha Expiración</label>\n                        <p><small>eg. 04/28</small></p>\n                        <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"exp_date\"\n                              type=\"tel\"\n                              name=\"exp_date\"\n                              placeholder=\"MM / YY\"\n                              value={data.exp_date}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                        <label for=\"cvv\">Cvv</label>\n                        <p><small> Código de 3 digitos de la parte trasera de tu tarjeta</small></p>\n                        <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"cvv\"\n                              type=\"text\"\n                              name=\"cvv\"\n                              value={data.cvv}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                        <label for=\"cpp\">Código Postal</label>\n                        <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"cpp\"\n                              type=\"tel\"\n                              name=\"cpp\"\n                              value={data.cpp}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                  </div>\n                  <div class=\"modal-footer\">\n                      <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                      <button type=\"button\" class=\"btn btn-success\" data-dismiss=\"modal\" onClick={()=>GuardarInfoBank(user.id)}>Guardar</button>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </Fragment>\n)}\n\nfunction Info() {\n  const {user, setUser} = useContext(UserContext);\n  const [infobank, setInfobank] = useState([]);\n  const [data, setData] = useState({\n    nombre_titular:'',\n    num_tarjeta: '',\n    exp_date: '',\n    cvv: '',\n    cpp: ''});\n    const updateField = e => {\n      setData({\n        ...data,\n        [e.target.name]: e.target.value\n      });\n    }\n\n\n  useEffect(() =>{\n      fetchitems();\n  }, []);\n\n\n  const fetchitems = async (id)=>{\n      const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${user.id}`);\n      const  it= await data.json();\n      setInfobank(it);\n  };\n\n  const Editar = async (infobanks)=>{\n    console.log(infobanks);\n    try{\n          console.log(\"ESTO ES DATA \", data);\n          const body = data;\n          const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${infobanks.id}`,\n          {\n              method: \"PUT\",\n              headers: {\"Content-Type\":\"application/json\"},\n              body: JSON.stringify(body)\n          });\n          fetchitems();\n    }catch(err){\n      console.log(err);\n        console.error(err)\n    }\n  }\n\n  if(infobank ==null || infobank.length ==0) {\n        return(\n          <>\n            <div className=\"menu-container\">\n                <div className=\"row\">\n                    <div className=\"menuItem\">\n                        <p className=\"nomargin\">Aun no ha agregado ninguna tarjeta.</p>\n                    </div>\n                </div>\n            </div>\n            </>\n        );}\n\n    if (infobank.length > 0) {\n      return(\n          <>\n                  {infobank.map(infobanks => (\n                      <div>\n                        <Accordion>\n                          <Card>\n                            <Card.Header>\n                              <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n                                Tarjeta\n                              </Accordion.Toggle>\n                            </Card.Header>\n                            <Accordion.Collapse eventKey=\"0\">\n                              <Card.Body>\n                                <p><b>Titular: </b>{infobanks.nombre_titular}</p>\n                                <p><b>Numero Tarjeta:</b> {infobanks.num_tarjeta}</p>\n                                <p><b>Fecha expiración:</b> {infobanks.exp_date}</p>\n                                <p><b>CVV:</b> {infobanks.cvv}</p>\n                                <p><b>CPP:</b> {infobanks.cpp}</p>\n                                <CAMBIAR infobanks={infobanks}/>\n                              </Card.Body>\n                            </Accordion.Collapse>\n                          </Card>\n                        </Accordion>\n                      </div>\n                  ))}\n          </>\n      );\n    }}\n\n    function CAMBIAR(props){\n      return(\n        <>\n        <a href={\"#editar\" + props.infobanks.id} role=\"button\" className=\"btn btn-primary btn-sm\" data-toggle=\"modal\">\n        Editar\n        </a>\n        <ModalEDITAR infobanks={props.infobanks}/>\n        </>\n      )\n    }\n\n    function ModalEDITAR(props){\n        let history = useHistory();\n        const [data, setData] = useState({})\n        const updateField = e => {\n          setData({\n            ...data,\n            [e.target.name]: e.target.value\n          });\n        }\n      useEffect(() =>{\n          fetchitems();\n      }, []);\n\n\n      const fetchitems = async (id)=>{\n          const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${props.infobanks.id}`);\n          const  it= await data.json();\n      };\n\n        function validarcpp(cpp) {\n          const regex_cpp = new RegExp(/\\d{5}/);\n          if (!regex_cpp.test(cpp) ) {\n            return alert('Introduce un codigo postal valido de 5 digitos ');\n          }\n        }\n        function validarnum(num_tarjeta) {\n          const regex_numtarjeta = new RegExp(/(\\d{4} *\\d{4} *\\d{4} *\\d{4})/);\n          if(!regex_numtarjeta.test(num_tarjeta)) {\n             return alert('Introduce un numero de tarjeta valido de 16 digitos ');\n          }\n        }\n        function validarexo(exp_date) {\n          const regex_expdate =  new RegExp(/(\\d{2})\\/?(\\d{2})/);\n          if(!regex_expdate.test(exp_date)){\n            return alert('Introduce bien el mes/año');\n          }\n        }\n        function validarcvv(cvv) {\n          const regex_cvv = new RegExp(/\\d{3}/);\n          if (!regex_cvv.test(cvv)) {\n            return alert('Introduce el código de 3 digitos ');\n          }\n        }\n\n        const Guardar = async (id)=>{\n          console.log(\"PROPS INFOBANKS ID\", props.infobanks.id);\n          if (data.num_tarjeta != \"\") {\n            if (validarnum(data.num_tarjeta) != true) {\n            }\n          }\n          if (data.exp_date !='') {\n            if (validarexo(data.exp_date) != true ) {\n            }\n          }\n          if (data.cvv != '') {\n            if (validarcvv(data.cvv) != true) {\n            }\n          }\n          if (data.cpp != '') {\n            if (validarcpp(data.cpp) != true ) {\n            }\n          }\n                try{\n\n                      const body = data;\n                      const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${props.infobanks.id}`,\n                      {\n                          method: \"PUT\",\n                          headers: {\"Content-Type\":\"application/json\"},\n                          body: JSON.stringify(body)\n                      });\n                }catch(err){\n                    console.error(err)\n                }\n        }\n\n      return(\n        <div id={\"editar\" + props.infobanks.id} class=\"modal fade\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"modal-title\">Editar</h4>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div class=\"modal-body\">\n                      <label for=\"nombre\">Titular de la tarjeta</label>\n                      <div>\n                        <input\n                        class=\"form-control\"\n                        id=\"nombre_titular\"\n                        type=\"text\"\n                        name=\"nombre_titular\"\n                        value={data.nombre_titular}\n                        onChange={updateField}\n                        ></input>\n                      </div>\n                      <label for=\"num_tarjeta\">Número de tarjeta</label>\n                      <p><small>Ingresa un número de tarjeta de 16 digitos eg. 5555 5555 5555 5555</small></p>\n                       <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"num_tarjeta\"\n                            type=\"text\"\n                            name=\"num_tarjeta\"\n                            value={data.num_tarjeta}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                      <label for=\"exp_date\">Fecha Expiración</label>\n                      <p><small>eg. 04/28</small></p>\n                      <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"exp_date\"\n                            type=\"text\"\n                            name=\"exp_date\"\n                            placeholder=\"MM / YY\"\n                            value={data.exp_date}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                      <label for=\"cvv\">Cvv</label>\n                      <p><small> Código de 3 digitos de la parte trasera de tu tarjeta</small></p>\n                      <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"cvv\"\n                            type=\"text\"\n                            name=\"cvv\"\n                            placeholders={data.cvv}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                      <label for=\"cpp\">Código Postal</label>\n                      <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"tel\"\n                            type=\"text\"\n                            name=\"cpp\"\n                            value={data.cpp}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" >Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-success\" data-dismiss=\"modal\"onClick={()=>Guardar()} >Editar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n    }\nexport default PerfilCliente;\n","import React, {Fragment, useContext, useEffect, useState} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\n\n\n\nconst StarIcon = (props)=>{\n    const {fill=false}=props;\n    return(\n        <Fragment>\n            {fill?\n            <FontAwesomeIcon color=\"gold\" icon={faStar} />\n            :\n            <FontAwesomeIcon icon={faStar} />\n}\n        </Fragment>\n    )\n}\nexport default StarIcon;","import React, {Fragment, useEffect, useState,useContext} from 'react';\nimport {useParams, useHistory, Link} from 'react-router-dom'\nimport { UserContext } from '../../UserContext';\nimport {Modal, Button} from 'react-bootstrap';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faCheckCircle} from '@fortawesome/free-solid-svg-icons'\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow, InfoBox} from 'react-google-maps';\nimport MapStyles from '../MapStyles';\nimport StarIcon from './StarIcon';\n\n\n\n\nconst TiendaInfo = () => {\n  const history = useHistory();\n  const [data, setData] = useState({});\n  const {user , setUser} = useContext(UserContext);\n  const [validacion, setValidacion] = useState(false);\n  const {id} = useParams();\n  const [markerPosition, setMarkerPosition] = useState();\n  const [stars, setStars] = useState([])\n\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  useEffect(()=>{\n    let isMounted = true;\n    fetchdata()\n    .then(json=>{\n      if(isMounted){\n      if(json.validada===false){\n        fetchValidar();\n    }\n    setData(json)\n    setMarkerPosition({\n      lat: parseFloat(json.ubicacion.lat),\n      lng: parseFloat(json.ubicacion.lng)\n    })\n    calculaRating(json.review_tiendas)\n    \n  }\n  return ()=> isMounted=false;\n    })\n    // fetchValidar();\n  }, [])\n\n  const fetchValidar = async ()=>{\n    const response = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/${user.id}/tiendas/${id}`)\n    const json = await response.json();\n    console.log(\"tienda validacion personal:\"+json.status);\n    if(json.status=='false'){\n      handleShow();\n    }\n    else{\n    setValidacion(true)\n    }\n  }\n\n  const calculaRating = (reviews)=>{\n    let total = 0;\n    reviews.map(review=>{\n        total += review.calificacion\n    })\n    total = total / reviews.length\n    let array = [];\n    for(let i=0; i<total; i++){\n        array.push(i);\n    }\n    setStars(array)\n    return\n}\n\n  const fetchdata = async ()=>{\n    const prom = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/${id}`);\n    const record = await prom.json();\n    console.log(record.tienda)\n    return record.tienda[0];\n  //   setData(record.tienda[0]);\n  //   console.log(\"tienda validacion general:\"+record.tienda[0].validada)\n  //   if(record.tienda[0].validada===false){\n  //     fetchValidar();\n  // }\n  //   console.log(record.tienda[0])\n\n}\n\nconst reportar = async()=>{\n  const response = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/${user.id}/${data.id}`,{\n    method: \"POST\"\n  })\n  const json = await response.json();\n  console.log(json)\n  console.log(response)\n}\n\nconst validar = async(id_usuario,id_tienda)=>{\n  const response = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/${user.id}/${id}`,{\n    method: \"POST\"\n  });\n  const json = await response.json()\n  console.log(json)\n  handleClose();\n}\n\n\n\n  const mystyle = {\n    height: \"100%\"\n  }\n  const imgStyle={\n    maxWidth:\"100%\"\n  }\n  const bgStyle={\n    backgroundColor: \"#29698f\",\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n\n  return (\n  <Fragment>\n    \n    <div className='container py-4 my-2'>\n      <div>\n        {/* <button className=\"my-2 ml-2 btn btn-lg btn-warning\" onClick={()=>history.push('/tiendas')}>Volver</button> */}\n        <h1 className='my-2 display-4 text-dark text-center'>Tienda {data.nombre}</h1>\n        {data.validada ?\n        <h5 className=\"text-center\">Verificada <FontAwesomeIcon icon={faCheckCircle} className=\"text-primary\"/></h5>\n        :\n        <h5 className=\"text-center\">(Pendiente de verificación)</h5>\n        }\n        \n      </div>\n      <div className=\"row my-5\">\n      <div className=\"my-5 col-md-6 text-left\">\n        <h2 className=\"text-left mb-4\">Información General</h2>\n        <div className=\"my-4\">\n        <h5>Horario</h5>\n        <p>{data.horario}</p>\n        </div>\n        <div className=\"my-4\">\n\n        <h5>¿Aceptan tarjeta?</h5>\n        <p>{data.tarjeta ?'Si':'No'}</p>\n        </div>\n        <h5 className=\"my-2\">Calificacion</h5>\n        <div>\n          {stars.length>0 ? stars.map(star=>(<StarIcon fill={true}/>)):null}\n        </div>\n        <Link to={`/tiendas/${id}/menu`}>\n        <button className=\"mx-auto text-center btn btn-lg rounded-pill btn-primary shadow btn-block my-4 ml-0 pl-0\"> Ver menú </button>\n        </Link>\n        <div className=\"text-center\">\n        <button className=\"btn btn-lg btn-outline-danger rounded-pill mx-2 shadow\" data-toggle=\"modal\" href=\"#reportar\">Reportar</button>\n        {validacion ? null :\n        <button  class=\"btn btn-outline-primary btn-lg rounded-pill mx-2 shadow\" data-toggle=\"modal\" href=\"#validar\">Verificar tienda</button>\n        }\n        </div>\n         \n      </div>\n      <div className=\"col-md-6 border rounded py-auto\" style={bgStyle}>\n            <img alt=\"Tienda\" className=\"border my-auto py-auto\" style={imgStyle} src={data.url_imagen}></img>\n        </div>\n        <div className=\"col-12 my-2 border rounded\">\n          <h1 className=\"my-4 text-dark\">Ubicacion</h1>\n          <MapaTienda markerPosition={markerPosition}/>\n        </div>\n        </div>\n        \n        \n\n          <div id=\"reportar\" class=\"modal\">\n                         <div class=\"modal-dialog\">\n                         <div class=\"modal-content\">\n                         <div class=\"modal-header\">\n                          \n                              <h4 class=\"modal-title\">Reporte de tienda</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                             <p>En caso de que la tienda no exista, ayúdanos con tu reporte para evitar fraudes, al enviarlo estás afirmando que la tienda no existe </p>\n                             <div class=\"md-form\">\n                             <input type=\"text\" id=\"inputMDEx\" class=\"form-control\"/>\n                            <label for=\"inputMDEx\">Razón de reporte</label>\n                            </div>\n                             <div class=\"custom-control custom-checkbox mr-sm-2\">\n                        <input type=\"checkbox\" required class=\"custom-control-input\" id=\"customControlAutosizing\"/>\n                        <label class=\"custom-control-label\" for=\"customControlAutosizing\">Ok, entiendo.</label>\n                        </div>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancelar</button>\n                            <button type=\"button\" class=\"btn btn-primary\" onClick={reportar} data-dismiss=\"modal\" >Enviar reporte</button>\n </div>\n                    </div>\n                </div>\n            </div>\n            \n        <Modal show={show} onHide={handleClose} animation={true}>\n                <Modal.Header closeButton>\n                  <Modal.Title>Verificación de Tienda</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                <p>¡Con tu información ayudas a las tiendas y a que los usuarios tengan compras más seguras! <br/>\n                Al enviar este informe estas afirmando que la tienda si existe.  </p>   \n                  </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"primary\"  className=\"mx-auto\" onClick={validar}>\n                    Verificar\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n                     \n                          \n                     \n        \n    </div>\n    \n  </Fragment>)\n}\n\nconst Map = (props)=>{\n\n  const options ={\n    styles: MapStyles,\n    disableDefaultUI: true,\n\n}\n\n  return(\n    <GoogleMap\n          defaultZoom={16.5} \n          center={props.markerPosition}\n          options={options}\n          >\n\n          <Marker\n          position={props.markerPosition}\n          icon={{\n              url: \"/store-solid.svg\",\n              scaledSize: new window.google.maps.Size(30,30),\n              origin: new window.google.maps.Point(0,0),\n              anchor: new window.google.maps.Point(15,15)\n          }}\n          />     \n          </GoogleMap>\n      )\n}\nconst MyMapComponent = withScriptjs(withGoogleMap(Map))\n\nconst MapaTienda = (props)=>{\n  console.log(props.markerPosition)\n  return(\n    <div>\n      <MyMapComponent\n      googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo`}\n      loadingElement={<div style={{ height: `100%` }} />}\n      containerElement={<div style={{ height: `400px` }} />}\n      mapElement={<div style={{ height: `100%` }} />}\n      markerPosition={props.markerPosition}\n    />\n</div>\n)\n}\n\nexport default TiendaInfo;\n\n// este es pra la validacion \n/*<button class=\"btn btn-info btn-lg\" data-toggle=\"modal\" href=\"#Modal\">Validar tienda</button>\n<div id=\"Modal\" class=\"modal\">\n<div class=\"modal-dialog\">\n<div class=\"modal-content\">\n<div class=\"modal-header\">\n \n     <h4 class=\"modal-title\">Validación de tienda</h4>\n</div>\n<div class=\"modal-body\">\n <p>Con tu información ayudas a las tiendas y a que los usuarios tengan compras más seguras, al enviar este informe estas afirmando que la tienda si existe.  </p>    <div class=\"custom-control custom-checkbox mr-sm-2\">\n<input type=\"checkbox\" required class=\"custom-control-input\" id=\"customControlAutosizing\"/>\n<label class=\"custom-control-label\" for=\"customControlAutosizing\">Ok, entiendo.</label>\n</div>\n</div>\n<div class=\"modal-footer\">\n   <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancelar</button>\n   <button type=\"button\" class=\"btn btn-primary\" onClick={validar} data-dismiss=\"modal\" >Enviar informe</button>\n</div>\n</div>\n</div>\n</div>  */ ","import React, {Fragment, useContext, useEffect, useState} from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport {Modal, Button, Row, Col} from 'react-bootstrap';\nimport { UserContext } from '../../UserContext';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faCartArrowDown} from '@fortawesome/free-solid-svg-icons';\nimport StarIcon from './StarIcon'\n\nconst Menu = ()=>{\n    const {user , setUser} = useContext(UserContext);\n\n    useEffect(()=>{\n        let isMounted = true\n        if(isMounted){\n        fetchitems()\n        .then(json=>{\n            setItems(json)\n        })\n        fetchValidacionGeneral()\n        .then(json=>{\n            setTienda(json);\n            if(json.validada===false){\n                fetchValidar()\n                .then(response=>{\n                    setValidada(response)\n                })\n            }\n        })\n        }\n    }, []);\n\n    const {id} = useParams();\n    const [items, setItems] = useState([]);\n    const [filter, setFilter] = useState([]);\n    const [modaldata, setmodalData] = useState({});\n    const [tienda, setTienda] = useState({});\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [data, setData] = useState([]);\n    const [sortType, setSortType] = useState('items');\n    const [categoria, setCategoria] = useState();\n    const [validada, setValidada] = useState()\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = (item) => {\n        setmodalData(item)\n        setShow(true);\n    }\n\n\n    useEffect(() => {\n      const sortArray = type => {\n        const types = {\n          nombre: 'nombre',\n          precio: 'precio',\n          \n        };\n        const sortProperty = types[type];\n        const sorted = [...items].sort((a, b) => b[sortProperty] - a[sortProperty]);\n        setData(sorted);\n      };\n  \n      sortArray(sortType);\n    }, [sortType]); \n\n  \n\n  \n\n    const fetchValidar = async ()=>{\n        const response = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/${user.id}/tiendas/${id}`)\n        const json = await response.json();\n        console.log(\"tienda validacion personal:\"+json.status);\n        if(json.status=='false'){\n          handleShow2();\n          return json.status\n        }\n        else{\n        return json.status\n        }\n      }\n\n    const fetchValidacionGeneral = async()=>{\n        const datatienda = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/${id}`);\n        const itemtienda = await datatienda.json();\n        return itemtienda.tienda[0]\n\n    }\n    const fetchitems = async ()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/${id}`);\n        const items = await data.json();\n        console.log(items)\n        return items\n        console.log(items);\n        setItems(items);\n        const datatienda = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/${id}`);\n        const itemtienda = await datatienda.json();\n        setTienda(itemtienda.tienda[0]);\n        console.log(itemtienda.tienda[0]);\n        if(itemtienda.tienda[0].validada===false){\n            fetchValidar();\n        }\n    };\n    const validar = async(id_usuario,id_tienda)=>{\n        const response = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/validar_tienda/${user.id}/${id}`,{\n          method: \"POST\"\n        });\n        const json = await response.json()\n        console.log(json)\n        setValidada(\"true\")\n        handleClose2();\n      }\n    const [show2, setShow2] = useState(false);\n\n\n\n\n  const handleClose2 = () => setShow2(false);\n  const handleShow2 = () => setShow2(true);\n\n\n    const styleImgTienda={\n        maxWidth: '100%',\n        height: '100px',\n        objectFit: 'cover'\n    }\n    const styleImg={\n        maxWidth: '100%',\n        height: '175px',\n        objectFit: 'cover'\n    }\n\n    const editSearchTerm = (e) => {\n        setSearchTerm(e.target.value);\n    }\n\n   \n\n    const dynamicSearch = () => {\n        return items.filter(item => item.nombre.toLowerCase().includes(searchTerm.toString().toLowerCase()))\n    }\n\n    const dynamicFilter = ()=>{\n        return items.filter(item=>item.categoria.includes(categoria))\n    }\n\n    return(\n        <Fragment>\n            <div className=\"container my-4 text-center\">\n                \n                \n            <Row className=\"my-2\">\n                <Col></Col>\n                <Col>\n                <Link to={`/tiendas/${id}`}>\n                <img src={\"https://via.placeholder.com/300x300\"||tienda.url_imagen} className=\"rounded-circle\" style={styleImgTienda}></img>\n                </Link>\n                    <h1 className=\"text-dark my-0\">{tienda.nombre}</h1>\n                    <h4 className=\"text-dark my-0\">Menú</h4>\n                </Col>\n                <Col>\n                    \n                </Col>\n            </Row>\n            <label for=\"search\">Buscar: </label>\n                    <input type=\"text\" id=\"search\" className=\"mx-2 rounded-pill border border-dark px-2\" placeholder=\"Ej. Brownie de mota\" value={searchTerm} onChange={editSearchTerm}></input>\n                    <div className=\"mx-5\">\n                    <label for=\"ordenar\">Ordenar por:</label>\n                    <select className=\"mx-2\" id=\"ordenar\" onChange={(e) => setSortType(e.target.value)}> \n                        <option value=\"abc\">Nombre</option>\n                        <option value=\"mayor\">Precio</option>\n                    </select>\n                    <label for=\"ordenar\">Filtrar por:</label>\n                    <select className=\"mx-2\" id=\"ordenar\" onChange={(e) => setCategoria(e.target.value)}> \n                        <option value=\"Postre\">Sin filtro</option>\n                        <option value=\"Postre\">Postre</option>\n                        <option value=\"Comida\">Comida</option>\n                        <option value=\"Botana\">Botana</option>\n                    </select>\n                    </div>\n                \n            <div className=\"row\">\n            \n                <Producto name={dynamicSearch()} validada={validada} validar={validar} categoria={categoria}/>\n                {/* {items.map(item =>(\n\n                <div key={item.id} className=\"col-md-3 my-2\">        \n\n                    <div className=\"card rounded shadow text-center h-100\" style={style}>\n                        <img src={item.url_imagen||\"https://via.placeholder.com/300x300\"} style={styleImg} className=\"card-img-top\"/>\n                        <div className=\"card-body h-75\">\n                            <div className=\"container h-50\">\n                            <h6 className=\"card-title\">{item.nombre}</h6>\n                            </div>\n\n                            <div className=\"card-text\">\n                                ${item.precio}\n                            </div>\n                        </div>\n                        <button className=\"btn btn-block btn-info w-75 my-2 mx-auto\" onClick={()=>handleShow(item)}>Mas info</button>\n                        <AgregarCarrito item={item}/>\n\n                    </div>\n                </div>\n                ))} */}\n\n            </div>\n            \n            <div>\n            <Modal show={show2} onHide={handleClose2} animation={true}>\n                <Modal.Header closeButton>\n                  <Modal.Title>Verificación de Tienda</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                <p>¡Con tu información ayudas a las tiendas y a que los usuarios tengan compras más seguras! <br/>\n                Al enviar este informe estas afirmando que la tienda si existe.  </p>\n                  </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"primary\"  className=\"mx-auto\" onClick={validar}>\n                    Verificar\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n            \n            </div>\n            </div>\n        </Fragment>\n    )\n}\n\nfunction Producto(props) {\n\n    const [modaldata, setmodalData] = useState({});\n    const [show, setShow] = useState(false);\n    const [items, setItems] = useState([]);\n\n    console.log(props.name)\n\n    const style = {\n        width: '12rem'\n    }\n    const styleImg={\n        maxWidth: '100%',\n        height: '175px',\n        objectFit: 'cover'\n    }\n\n    const calculaRating = (reviews)=>{\n        let total = 0;\n        reviews.map(review=>{\n            total += review.calificacion\n        })\n        total = total / reviews.length\n        let array = [];\n        for(let i=0; i<total; i++){\n            array.push(i);\n        }\n        return array\n    }\n\n\n    const handleShow = (item) => {\n        setmodalData(item)\n        setShow(true);\n    }\n\n    const handleClose = () => setShow(false);\n\n    const btnStyle={\n        backgroundColor: \"#FF9500\"\n    }\n\n    return(\n        <Fragment>\n            {props.name.map(item =>(\n                <Fragment>\n                    {props.categoria ?\n                    <Fragment>\n                    {props.categoria==item.categoria?\n                    <div className=\"col-md-3 my-2\">        \n                        <div className=\"card rounded shadow text-center h-100\" style={style}>\n                            <img src={item.url_imagen||\"https://via.placeholder.com/300x300\"} style={styleImg} className=\"card-img-top\"/>\n                            <div className=\"card-body h-75\">\n                                <div className=\"container\">\n                                <h6 className=\"card-title\">{item.nombre}</h6>\n                                </div>\n                                <div>{calculaRating(item.reviews).map(star=>(<StarIcon fill={true}/>))}</div>\n                                <div className=\"card-text\">\n                                    ${item.precio}\n                                </div>\n                            </div>\n                            <button className=\"btn btn-block btn-info w-75 my-2 mx-auto\" style={btnStyle}  onClick={()=>handleShow(item)}>Mas info</button> \n                            <AgregarCarrito validada={props.validada} validar={props.validar} item={item}/> \n\n                        </div>   \n                    </div>\n                    :\n                    null}\n                    </Fragment>\n                    : <div className=\"col-md-3 my-2\">        \n                    <div className=\"card rounded shadow text-center h-100\" style={style}>\n                        <img src={item.url_imagen||\"https://via.placeholder.com/300x300\"} style={styleImg} className=\"card-img-top\"/>\n                        <div className=\"card-body h-75\">\n                            <div className=\"container\">\n                            <h6 className=\"card-title\">{item.nombre}</h6>\n                            </div>\n                            <div>{calculaRating(item.reviews).map(star=>(<StarIcon fill={true}/>))}</div>\n                            <div className=\"card-text my-2\">\n                                ${item.precio}\n                            </div>\n                        </div>\n                        <button style={btnStyle}  className=\"btn btn-block btn-info w-75 my-2 mx-auto\" onClick={()=>handleShow(item)}>Mas info</button> \n                        <AgregarCarrito validada={props.validada} validar={props.validar} item={item}/> \n\n                            </div>   \n                        </div>\n                }\n                    </Fragment>\n                ))}\n                {(show)?\n            <Modal show={show} onHide={handleClose} className=\"text-center\">\n                <Modal.Header closeButton>\n            <Modal.Title>{modaldata.nombre}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <div className=\"container\">\n                    <img src={modaldata.url_imagen||\"https://via.placeholder.com/300x300\"} style={styleImg}></img>\n                    </div>\n                    <div>{calculaRating(modaldata.reviews).map(star=>(<StarIcon fill={true}/>))}</div>\n                    <p>\n                    $ {modaldata.precio}\n                    <br/>\n                     Categoría: {modaldata.categoria}\n                    <br/>\n                    Descripción: {modaldata.descripcion}\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>\n                    Cerrar\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            :\n\n            ''\n\n\n            }\n        </Fragment>\n    );\n}\n\nfunction AgregarCarrito(props) {\n    const btnStyle={\n        backgroundColor: \"#FF9500\"\n    }\n\n    return(\n        <Fragment>\n            <a href={\"#agregar\" + props.item.id} role=\"button\" style={btnStyle} className=\"btn btn-block btn-info w-75 my-2 mx-auto\" data-toggle=\"modal\">\n                Agregar <FontAwesomeIcon icon={faCartArrowDown}/>\n            </a>\n            <Agregar validada={props.validada} validar={props.validar} item={props.item} cantidad=\"1\" ></Agregar>\n\n        </Fragment>\n\n    );\n}\n\nfunction Agregar(props){\n\n    const {user , setUser} = useContext(UserContext);\n    const [data, setData] = useState({\n        cantidad: props.cantidad\n      });\n\n    const updateField = e => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        });\n    }\n    const agregarCarrito = async(id_producto, cantidad) => {\n        const itemCarrito = {\n            id_producto: id_producto,\n            cantidad: cantidad\n        }\n        const data = await fetch (`https://tiendas-unison-web.herokuapp.com/api/v1/agregarCarrito/${user.id}`, {\n            method: \"POST\",\n            headers: {\"Content-Type\":\"application/json\"},\n            body: JSON.stringify(itemCarrito)\n        });\n        const response = await data.json()\n        console.log(response)\n    }\n\n\n    return(\n        <Fragment>\n            {props.validada!=='false' ?\n        <div id={\"agregar\" + props.item.id} class=\"modal fade\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h4 className=\"modal-title\">Cantidad a agregar</h4>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <p>¿Cuantos {props.item.nombre} deseas agregar?</p>\n                        <input type=\"number\" name=\"cantidad\" value={data.cantidad} min=\"1\" max=\"10\" onChange={updateField} />\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"  onClick={()=>agregarCarrito(props.item.id, data.cantidad)}>Agregar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        : \n        <div id={\"agregar\" + props.item.id} class=\"modal fade\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h4 className=\"modal-title\">Advertencia</h4>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <h4>¡La tienda no esta validada!</h4>\n                        <p>Estas intentando agregar productos de una tienda que no has validado, si\n                            conoces esta tienda validala para poder agregar sus productos a tu carrito\n                        </p>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"  onClick={()=>props.validar()}>Validar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        }\n        </Fragment>\n    );\n}\n\nexport default Menu;\n\n","import React, { Fragment } from 'react';\nimport {CardElement} from '@stripe/react-stripe-js';\nimport './CardSectionStyles.css'\n\nconst CARD_ELEMENT_OPTIONS = {\n  style: {\n    base: {\n      color: \"#32325d\",\n      fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n      fontSmoothing: \"antialiased\",\n      fontSize: \"16px\",\n      \"::placeholder\": {\n        color: \"#aab7c4\",\n      },\n    },\n    invalid: {\n      color: \"#fa755a\",\n      iconColor: \"#fa755a\",\n    },\n  },\n};\n\nfunction CardSection() {\n  return (\n    <Fragment>\n    <label htmlFor=\"card\">\n      Información Bancaria\n    </label>\n    <CardElement id=\"card\" className=\"my-4\" options={CARD_ELEMENT_OPTIONS} />\n    </Fragment>\n  );\n};\n\nexport default CardSection;","import React , {useContext, Fragment, useState} from 'react';\nimport {useStripe, useElements, CardElement} from '@stripe/react-stripe-js';\nimport { UserContext } from '../../UserContext'\nimport {Spinner, Table} from 'react-bootstrap';\nimport CardSection from './CardSection';\nimport {Link} from 'react-router-dom'\n\nexport default function CheckoutForm(props) {\n  const stripe = useStripe();\n  const elements = useElements();\n  const {user, setUser} = useContext(UserContext)\n  const [processing, setProcessing] = useState(null)\n  const [success, setSuccess] = useState()\n  const [error, setError] = useState()\n  const [orden, setOrden] = useState(null)\n\n  function setProductosNull(){\n    props.setProductos(null)\n  }\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  \n\n  const handleSubmit = async (event) => {\n    // We don't want to let default form submission happen here,\n    // which would refresh the page.\n    \n    event.preventDefault();\n    setProcessing(true)\n    if (!stripe || !elements) {\n      // Stripe.js has not yet loaded.\n      // Make sure to disable form submission until Stripe.js has loaded.\n      return;\n    }\n    const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/paySecret/${props.ID}/${user.id}`)\n    const intent = await data.json()\n    let results = []\n    console.log(intent.client_secrets)\n\n    for(const secret of intent.client_secrets) {\n      console.log(\"before result\")\n      const result = await stripe.confirmCardPayment(secret, {\n        payment_method: {\n          card: elements.getElement(CardElement),\n          billing_details: {\n            name: user.nombre,\n          },\n        }\n    })\n    console.log(\"after result\")\n    results.push(result)\n  }\n  console.log(results)\n      // intent.client_secrets.map(async secret=>{\n      // const result = await stripe.confirmCardPayment(secret, {\n      //   payment_method: {\n      //     card: elements.getElement(CardElement),\n      //     billing_details: {\n      //       name: user.nombre,\n      //     },\n      //   }\n      // })\n    \n     \n     \n    \n  \n\n    for(let i=0; i<results.length; i++){\n      if (results[i].error) {\n        // Show error to your customer (e.g., insufficient funds)\n        setProcessing(false);\n        setError(results[i].error.message)\n        console.log(results[i].error.message);\n        break;\n      } else {\n      if (results[i].paymentIntent.status === 'succeeded') {\n        console.log(\"success\")\n        console.log(results[i])\n        if((i+1)==results.length){\n          setOrden(props.productos)\n          setProductosNull();\n          setProcessing(false)\n          setSuccess(true)\n         \n        }\n        \n\n        \n    }\n  }}\n    \n\n    \n      // The payment has been processed!\n      \n      \n        // const orden = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/nuevaOrden', {\n        //   method: \"POST\",\n        //   headers: {\"Content-Type\":\"application/json\"},\n        //   body: JSON.stringify(body)\n        // })\n        // const resp = await orden.json();\n        // console.log(resp)\n\n        // Show a success message to your customer\n        // There's a risk of the customer closing the window before callback\n        // execution. Set up a webhook or plugin to listen for the\n        // payment_intent.succeeded event that handles any business critical\n        // post-payment actions.\n      \n    \n  };\n\n\n  return (\n    <Fragment>\n      {success?\n      <div className=\"text-center py-5\">\n      <h2 className=\"text-dark\">¡Tu compra ha sido realizada!</h2>\n      <p>Puedes ir a recoger tu orden a la tienda correspondiente.</p>\n      <Table striped bordered hover size=\"sm\" responsive borderless className=\"my-4\">\n  <thead>\n    <tr>\n      <th>Producto</th>\n      <th>Cantidad</th>\n      <th>Nombre de Tienda</th>\n    </tr>\n  </thead>\n  <tbody>\n    {orden.map(producto=>(\n      <tr key={producto.producto.id}>\n      <td scope=\"row\">{producto.producto.nombre}</td>\n      <td>{producto.cantidad}</td>\n      <td>{producto.producto.tienda.nombre}</td>\n      </tr>\n    ))}\n    \n  </tbody>\n</Table>\n      <Link to=\"/pedidos\">\n      <button className=\"btn btn-lg btn-primary\">Ver mi Orden</button>\n      </Link>\n      </div>\n      :\n      <div className=\"text-center\">\n    <form onSubmit={handleSubmit}>\n      \n      <CardSection disabled={processing}/>\n      {error ? <p className=\"text-danger\">{error}</p> : null}\n      {processing ? <div> <p>Realizando compra...</p><Spinner animation=\"border\" variant=\"primary\" /> </div>:\n      <button className=\"btn btn-lg btn-primary\" disabled={!stripe || processing}>Confirmar orden</button>\n      }\n    </form>\n    </div>\n}\n    </Fragment>\n  );\n}","import React, {Fragment, useState, useContext, useEffect} from 'react';\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport CheckoutForm from './CheckoutForm';\nimport {Modal, Button} from 'react-bootstrap'\nconst sgMail = require(\"@sendgrid/mail\");\nsgMail.setApiKey('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');\n\n\nconst stripePromise = loadStripe(\"pk_test_51HoJ01K9hN8J4SbUqEiL2Amsb8RleP8IsJYQndlu4PcDJ1vVRC7dCX2wOKvO1WSGQ0NCvxejBlDxiFVjb6mippAO00wL2DOUxs\");\nconst options = {\n  locale: \"es-MX\"\n}\nconst ModalPagar = (props)=>{\n  return (\n    <Elements options={options} stripe={stripePromise}>\n    <Fragment>\n      <Modal show={props.show} onHide={props.handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Realizar la compra</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <CheckoutForm setProductos={props.setProductos} productos={props.productos} ID={props.id_stripe} total={props.total}/>\n        </Modal.Body>\n        \n      </Modal>\n      </Fragment>\n      </Elements>\n  );\n}\n\nexport default ModalPagar;","import React, {Fragment, useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport { Component } from 'react';\nimport { render } from '@testing-library/react';\nimport StripeCheckout from 'react-stripe-checkout'\nimport { toast } from 'react-toastify'\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport ModalPagar from './ModalPagar';\nimport { UserContext } from '../../UserContext'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faTrash, faShoppingCart} from '@fortawesome/free-solid-svg-icons';\n\n\nimport {Modal, Button, Col, Row} from 'react-bootstrap';\nconst sgMail = require(\"@sendgrid/mail\");\nsgMail.setApiKey('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');\n\n\n\ntoast.configure();\nconst Carrito = ()=>{\n    const [show, setShow] = useState(false);\n    const handleClose = () => {\n        setShow(false)\n    };\n    const handleShow = () => setShow(true);\n    const [ID, setIDStripe] = useState();\n    const [productos, setProductos] = useState()\n   \n    \n\n        return(\n\n            <Fragment>\n                <div className=\"mainContainer h\">\n                    <div className=\"top-container\">\n                        <div className=\"container\">\n                            \n                            <div className=\"container mt-4\">\n                                <Tabla setIDStripe={setIDStripe} handleShow={handleShow} setProductos={setProductos} productos={productos}/>\n                            </div>\n                            <ModalPagar show={show} handleClose={handleClose} setProductos={setProductos} productos={productos} handleShow={handleShow} id_stripe={ID}/>\n                        </div>\n                    </div>\n                </div>\n            </Fragment>\n        );\n\n    }\n\n\nfunction Tabla (props) {\n\n    const {user, setUser} = useContext(UserContext);\n    const [items, setItems] = useState([]);\n    const [variasTiendas, setVariasTiendas] = useState(false)\n    const handleClose = () => setVariasTiendas(false)\n    const handleShow = () => setVariasTiendas(true);\n\n    useEffect(() =>{\n        let isMounted = true;\n        if(isMounted){\n            fetchitems()\n            .then(json=>{\n                let arrayTiendas = []\n                console.log(json)\n                //Obtiene las diferentes tiendas de los items\n                json.map(item=>{\n                    if(!arrayTiendas.includes(item.producto.id_tienda)){\n                        arrayTiendas.push(item.producto.id_tienda)\n                    }\n                })\n                if(arrayTiendas.length>1){\n                    setVariasTiendas(true);\n                }\n                // //Iteracion sobre tiendas y sementa los productos por tienda\n                // arrayTiendas.map(tienda=>{\n                //     let total = 0;\n                //     let productArray = []\n                //     let id_stripe= \"\"\n                //     let nombre_tienda= \"\"\n                //     json.carrito_items.map(async item=>{\n                //         if(item.producto.id_tienda == tienda){\n                //             nombre_tienda = item.producto.tienda.nombre\n                //             id_stripe = item.producto.tienda.info_stripes[0].id_stripe\n                //             productArray.push(item);\n                //             total += (item.producto.precio*item.cantidad)\n                //         }\n                //     })\n                //     carritoArray.push({id_tienda: tienda, nombre: nombre_tienda, id_stripe: id_stripe, total: total, productos: productArray})\n                // })\n                // console.log(carritoArray)\n                props.setProductos(json)\n                console.log(json)\n            })  \n        }\n        return ()=> isMounted=false;\n        \n    },[]);\n\n    const handleDelete = (id)=>{\n        props.setProductos(props.productos.filter(item => item.id !== id));\n    }\n    \n    const fetchitems = async ()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/carrito/payment/${user.id}`)\n        const json = await data.json();\n        return json.result[0].carrito_items;\n    }\n    \n\n\nfunction handleClick(productos){\n    let total=0;\n    // productos.productos.map(p=>{\n    //     total += p.cantidad*p.producto.precio\n    // })\n    // props.setProductos(productos.productos);\n    // props.setIDStripe(productos.id_stripe);\n    // props.setTotal(total)\n    props.handleShow();\n}\nconst calculaTotal = ()=>{\n    let total = 0\n    props.productos.map(item=>{\n        total += item.producto.precio * item.cantidad\n    })\n    return total\n}\n\nconst styleImg={\n    maxWidth: '100%',\n    height: '50px',\n    objectFit: 'cover'\n} \n\nconst checkoutStyle={\n    backgroundColor: \"#29698f\"\n}\n\nconst btnStyle={\n    backgroundColor: \"#FF9500\"\n}\n\n        return(\n            <Fragment>\n                {props.productos ? \n                <Fragment>\n                   \n                    <Row>\n                    <Col md={8}>\n                    <h2 className=\"my-4\">Carrito de compras</h2>\n                        <table className=\"table\">\n                                    <thead>\n                                        <tr>\n                                            <th></th>\n                                        <th scope=\"col\">Producto</th>\n                                        <th scope=\"col\">Precio</th>\n                                        <th scope=\"col\">Cantidad</th>\n                                        <th scope=\"col\">Tienda</th>\n                                        <th scope=\"col\">Total</th>\n                                        <th scope=\"col\">•</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                        \n                                        {props.productos.map(item =>(\n                                        <tr key={item.producto.id} className=\"py-auto\">\n                                            <td scope=\"row\">{item.producto.url_imagen ? \n                                            <img src={item.producto.url_imagen} style={styleImg}></img>\n                                            :\n                                            <img src=\"https://via.placeholder.com/300\" style={styleImg}></img>\n                                            }</td>\n                                                <td>{item.producto.nombre}</td>\n                                            <td className=\"my-auto py-auto\">${Number.parseFloat(item.producto.precio).toFixed(2)}</td>\n                                            <td>{item.cantidad}</td>\n                                            <td>{item.producto.tienda.nombre}</td>\n                                            <td>${Number.parseFloat(item.producto.precio*item.cantidad).toFixed(2)}</td>\n                                            <td><Eliminar handleDelete={handleDelete} item={item}/></td>\n                                        </tr>\n                                        ))}\n                                    </tbody>\n                            </table>\n                            </Col>\n\n                    \n                            <Col md={4} className=\"rounded\" style={checkoutStyle}>\n                            <div className= \" px-2 container text-light text-left\">\n                            <h2 className=\"my-4 text-center\">Checkout <FontAwesomeIcon icon={faShoppingCart}></FontAwesomeIcon></h2>\n                            <div><h5>Subtotal: </h5>\n                            <h6>${Number.parseFloat(calculaTotal()).toFixed(2)}</h6>\n                            </div>\n                            <div><h5>Comisiones: </h5>\n                                <h6>$12</h6>\n                                </div>\n                            <div><h5>Total a pagar: </h5>\n                                <h6>${Number.parseFloat(calculaTotal()+12).toFixed(2)}</h6></div>\n                            \n                            </div>\n                            <div>\n                          <button type=\"button\" className=\"btn btn-lg rounded-pill text-light my-4\" style={btnStyle} data-dismiss=\"modal\" onClick={()=>handleClick()}>Pagar</button>\n                        </div>\n                        </Col>\n                        </Row>\n                        <Modal show={variasTiendas} onHide={handleClose}>\n                            <Modal.Header closeButton>\n                            <Modal.Title>Aviso</Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                <p>\n                                    Has agregado productos de tiendas distintas, \n                                    por lo que se generará una orden por cada \n                                    tienda cuando realices la compra.\n                                </p>\n\n                            </Modal.Body>\n                            <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                                Cerrar\n                            </Button>\n                            \n                            </Modal.Footer>\n                        </Modal>\n                        </Fragment>\n                        : <h4>Aun no a agregado nada al carrito.</h4>\n                    }\n            </Fragment>\n        );\n    } \n\nasync function handleToken(token)  {\n  //console.log(token,  addresses);\n\n}\n\n\n\nfunction Eliminar (props){\n\n    return(\n        <Fragment>\n            <a href={\"#eliminar\" + props.item.id} role=\"button\" className=\"btn btn-danger btn-sm\" data-toggle=\"modal\">\n               <FontAwesomeIcon icon={faTrash}></FontAwesomeIcon>\n            </a>\n            <ModalDelete handleDelete={props.handleDelete} item={props.item}></ModalDelete>\n\n        </Fragment>\n\n    );\n\n}\n\n\nfunction ModalDelete(props){\n\n\n\n\n    const eliminarClick = async(idProducto,idTienda) => {\n        const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/eliminarCarritoItem/${props.item.id}`, {\n            method: \"DELETE\"\n        });\n        props.handleDelete(props.item.id);\n    }\n\n    return(\n        <div id={\"eliminar\" + props.item.id} className=\"modal fade\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h4 className=\"modal-title\">¿Estás seguro?</h4>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <p>¿Seguro que quieres quitar {props.item.nombre} del carrito?</p>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\"  onClick={eliminarClick}>Quitar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Carrito;\n","import React, {Fragment, useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport { Component } from 'react';\nimport { render } from '@testing-library/react';\nimport StripeCheckout from 'react-stripe-checkout'\nimport { toast } from 'react-toastify'\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport { UserContext } from '../../UserContext'\n\n\nimport {Modal, Button} from 'react-bootstrap';\n\n\n\nconst ComprasR = ()=>{\n\n\n        return(\n\n            <Fragment>\n                <div className=\"mainContainer h\">\n                    <div className=\"top-container\">\n                        <div className=\"container\">\n                            <h2>Pedidos recientes</h2>\n                            <div className=\"container mt-4\">\n                                <Tabla/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Fragment>\n        );\n\n}\n\n\nfunction Tabla () {\n\n    const {user, setUser} = useContext(UserContext);\n    const [items, setItems] = useState([]);\n    const [variasTiendas, setVariasTiendas] = useState(false)\n    const handleClose = () => setVariasTiendas(false)\n    const handleShow = () => setVariasTiendas(true);\n\n    useEffect(() =>{\n        let isMounted = true;\n        if(isMounted){\n        fetchitems()\n        .then(json=>{\n            setItems(json)\n        })\n        }\n        return ()=>isMounted=false\n    },[]);\n    \n    const fetchitems = async ()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/pedidos/${user.id}`)\n        const json = await data.json();\n        return json.result\n    }\n    \n\n    \n\n        return(\n            <Fragment>\n                <Fragment>\n                <table className=\"table\">\n                            <thead>\n                                <tr>\n                                <th scope=\"col\">Productos / Cantidad</th>\n                                <th scope=\"col\">Tienda</th>\n                                <th scope=\"col\">Fecha</th>\n                                <th scope=\"col\">Estatus</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {items.map(item => \n                                    <tr className=\"fjcc\">\n                                        {item.orden_items.map(orden => \n                                        <div>\n                                            <td className=\"fjcc2\">{orden.producto.nombre}</td>\n                                            <td className=\"fjcc2\">{orden.cantidad}</td>\n                                        </div>\n                                        )}\n                                        <td>{item.tienda.nombre}</td>\n                                        <td>{item.fecha}</td>\n                                        <td>Pendiente de entregar</td>\n                                    </tr>\n                            )}\n                            </tbody>\n                    </table>\n                    <hr/>\n                            \n                \n                        <Modal show={variasTiendas} onHide={handleClose}>\n                            <Modal.Header closeButton>\n                            <Modal.Title>Aviso</Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                <p>\n                                    Has agregado productos de tiendas distintas, \n                                    por lo que se generará una orden por cada \n                                    tienda cuando realices la compra.\n                                </p>\n\n                            </Modal.Body>\n                            <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                                Cerrar\n                            </Button>\n                            \n                            </Modal.Footer>\n                        </Modal>\n                        </Fragment>\n            </Fragment>\n        );\n} \n\nasync function handleToken(token)  {\n  //console.log(token,  addresses);\n\n}\n\n\n\nfunction Entregar (props){\n\n    return(\n        <Fragment>\n            <a href={\"#eliminar\" + props.orden.id} role=\"button\" className=\"btn btn-info btn-sm\" data-toggle=\"modal\">\n               Entregar\n            </a>\n            <ModalDelete orden={props.orden}></ModalDelete>\n\n        </Fragment>\n\n    );\n\n}\n\n\nfunction ModalDelete(props){\n\n\n\n\n    const eliminarClick = async() => {\n        const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/entregar/${props.orden.id}`, {\n            method: \"PUT\"\n        });\n        \n    }\n\n    return(\n        <div id={\"eliminar\" + props.orden.id} className=\"modal fade\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h4 className=\"modal-title\">Confirmación de entrega de pedido</h4>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <p>Entregar pedido al cliente: {props.orden.usuario.nombre} {props.orden.id}</p>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\"  onClick={eliminarClick}>Confirmar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ComprasR;\n","import React, {Fragment, useContext, useEffect, useState, useMemo} from 'react';\nimport StarIcon from './StarIcon';\n\nfunction RatingIcon(props) {\n    const {\n      index,\n      rating,\n      hoverRating,\n      onMouseEnter,\n      onMouseLeave,\n      onSaveRating,\n    } = props;\n    \n    const fill = useMemo(() => {\n      if (hoverRating >= index) {\n        return true;\n      } else if (!hoverRating && rating >= index) {\n        return true;\n      }\n      return false;\n    }, [rating, hoverRating, index]);\n    return (\n        <div \n          className=\"cursor-pointer\"\n          onMouseEnter={() => onMouseEnter(index)} \n          onMouseLeave={() => onMouseLeave()} \n          onClick={() => onSaveRating(index)}>\n          <StarIcon fill={fill} />\n        </div>\n    )\n  }\n\n  \n\n  export default RatingIcon;","import React, {Fragment, useContext, useEffect, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport { UserContext } from '../../UserContext';\nimport {Button, Modal, Card, Form, Row, Col} from 'react-bootstrap';\nimport RatingIcon from './RatingIcon';\n\nconst ReviewTienda= (props)=>{\n    const [show, setShow] = useState(false);\n    const [comment, setComment] = useState(null)\n\n    const {user, setUser} = useContext(UserContext)\n    \n        const [rating, setRating] = useState(0);\n        const [hoverRating, setHoverRating] = useState(0);\n        const onMouseEnter = (index) => {\n          setHoverRating(index);\n        };\n        const onMouseLeave = () => {\n          setHoverRating(0);\n        };\n        const onSaveRating = (index) => {\n          setRating(index);\n        };\n \n        const handleClose = ()=>setShow(false);\n        const handleShow = ()=>setShow(true);\n        const handleComment = e =>{\n            setComment(e.target.value);\n            console.log(e.target.value)\n        }\n\n\n    const handleSubmit = async ()=>{\n        if(rating!==0 && rating!==null){\n            const body = {\n                calificacion: rating,\n                comment: comment,\n                id_usuario: user.id,\n                id_tienda: props.id_tienda\n\n            }\n            const sendReview = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/reviews/tienda', {\n                method: \"POST\",\n                headers: {\"Content-Type\": \"application/json\"},\n                body: JSON.stringify(body)\n            });\n            const json = await sendReview.json();\n            if(json.status==\"success\"){\n                handleClose();\n                console.log(json)\n            }else{\n                console.log(json.err)\n            }\n        }\n        \n    }\n\n    \n\nreturn(\n<Fragment>\n<Card.Title><button className=\"btn btn-sm btn-primary rounded pill\" onClick={handleShow}>Calificar tienda</button></Card.Title>\n    <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n        <Modal.Title>Califica Tienda</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <div className=\"my-4\">\n            <p className=\"my-0\">Nombre de Tienda</p>\n            <h5 className=\"my-0\">{props.nombre}</h5>\n            </div>\n            <Form>\n                <Form.Group controlId=\"exampleForm.ControlInput1\">\n                    <Form.Label>Calificación</Form.Label>\n                    <div className=\"box flex\">\n                    <Row>\n                        <Col xs={2}/>\n                        {[1, 2, 3, 4, 5].map((index) => {\n                        return (\n                            <Col>\n                            <RatingIcon \n                            index={index} \n                            rating={rating} \n                            hoverRating={hoverRating} \n                            onMouseEnter={onMouseEnter} \n                            onMouseLeave={onMouseLeave} \n                            onSaveRating={onSaveRating} />\n                            </Col>\n                        )\n                        })}\n                        <Col xs={2}/>\n                        </Row>\n                    </div>\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                    <Form.Label>Comentario</Form.Label>\n                    <Form.Control as=\"textarea\" placeholder=\"Agrega un comentario...\" rows={3} onChange={handleComment}/>\n                </Form.Group>\n            </Form>\n\n        </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"primary\" onClick={handleSubmit}>\n            Calificar\n        </Button>\n        </Modal.Footer>\n    </Modal>\n</Fragment>\n)\n\n}\nexport default ReviewTienda;","import React, {Fragment, useEffect, useState, useContext} from 'react';\nimport { UserContext } from '../../UserContext';\nimport {Modal, Button, Form,Table, Container, Col, Row, ListGroup, Card, Image} from 'react-bootstrap';\nimport ReviewTienda from './ReviewTienda';\nimport StarIcon from './StarIcon'\n\n\nconst MisCompras = ()=>{\nconst [compras, setCompras] = useState()\nconst {user, setUser} = useContext(UserContext);\nconst [selectedCompra, setSelectedCompra] = useState();\n\n\nuseEffect(()=>{\n    let isMounted = true;\n    if(isMounted){\n        fetchVentas()\n        .then(json=>{\n            console.log(json)\n            setCompras(json);\n        })\n    }\n    return ()=>isMounted=false\n},[])\n\n\n\nconst calculaRating = (reviews)=>{\n    let total = 0;\n    reviews.map(review=>{\n        total += review.calificacion\n    })\n    total = total / reviews.length\n    let array = [];\n    for(let i=0; i<total; i++){\n        array.push(i);\n    }\n    return array\n}\n\nconst fetchVentas = async()=>{\n    const datos = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/compras/cliente/${user.id}`)\n    const json = await datos.json()\n    return json.compras\n}\nconst bgStyle={\n    backgroundColor: \"#29698f\"\n}\n\nconst scroll={\n    overflowY: \"scroll\",\n    height: \"80vh\"\n}\nconst styleImg={\n    maxWidth: '100%',\n    height: '175px',\n    objectFit: 'cover'\n}\n\nreturn (\n    <Fragment>\n    <div className=\"text-center my-4\">\n    <h2>Mis Compras</h2>\n    \n    <hr/>\n    {compras ? \n    <div>\n        <Container style={bgStyle} className=\"py-2 rounded\">\n            <Row>\n                <Col className=\"bg-light mx-2 rounded my-2\" style={scroll}>\n                    <h4 className=\"my-4\">Compras recientes</h4>\n                <Table>\n                    <thead>\n                        <tr>\n                        <th>Fecha</th>\n                        <th>Total</th>\n                        <th>Estado</th>\n                        <th>Ver Compra</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {compras.slice(0).reverse().map(orden=>(\n                        <Fragment>\n                        {orden.ventum  ?\n                        \n                        <tr>\n                        <td>{orden.fecha}</td>\n                        <td>${Number.parseFloat(orden.ventum.amount/100).toFixed(2)}</td>\n                        <td>{orden.entregado ? \"Entregado\":\"Sin entregar\"}</td>\n                        <td><Button className=\"my-auto\" size=\"sm\" variant=\"outline-primary\" onClick={()=>setSelectedCompra(orden)}>Ver compra</Button></td>\n                        </tr>\n                        \n                        : null}\n                        </Fragment>\n                    ))}\n                    </tbody>\n                </Table>\n                </Col>\n                <Col className=\"bg-light mx-2 rounded\">\n                    {selectedCompra?\n                    <Fragment>\n                        <Card>\n                            <Card.Header>{selectedCompra.fecha}</Card.Header>\n                            <Card.Body className=\"text-left\">\n                               \n                                    <Row>\n                                        <Col>\n                                            <Card.Title>ID de Orden</Card.Title>\n                                            <Card.Subtitle className=\"mb-2 text-muted\">{selectedCompra.id}</Card.Subtitle>\n                                            <Card.Title>Total</Card.Title>\n                                            <Card.Subtitle className=\"mb-2 text-muted\">${Number.parseFloat(selectedCompra.ventum.amount/100).toFixed(2)}</Card.Subtitle>\n                                            <Card.Title>Tienda</Card.Title>\n                                            <Card.Subtitle className=\"mb-2 text-muted\">{selectedCompra.orden_items[0].producto.tienda.nombre}</Card.Subtitle>\n                                            <Card.Title>Calificación</Card.Title>\n                                            <Card.Subtitle>{calculaRating(selectedCompra.tienda.review_tiendas).map(star=>(<StarIcon fill={true}/>))}</Card.Subtitle>\n                                            <Card.Title className=\"my-4\">                                 \n                                                <ReviewTienda id_tienda={selectedCompra.orden_items[0].producto.id_tienda} nombre={selectedCompra.orden_items[0].producto.tienda.nombre}/>\n                                            </Card.Title>\n                                        </Col>\n                                        <Col>\n                                        <Container className=\"my-4\">\n                                        <Image src={selectedCompra.orden_items[0].producto.tienda.url_imagen} style={styleImg} rounded />\n                                        </Container>\n                                        </Col>\n                                    </Row>\n                                    <Row>\n                                        <Col>\n                                        <Card.Text>\n                                        <Table striped hover>\n                                            <thead>\n                                                <tr>\n                                                <th>Nombre</th>\n                                                <th>Precio</th>\n                                                <th>Cantidad</th>\n                                                <th>Calificacion</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {selectedCompra.orden_items.map(item=>(\n                                                    <tr>\n                                                        <td>{item.producto.nombre}</td>\n                                                        <td>${Number.parseFloat(item.producto.precio).toFixed(2)}</td>\n                                                        <td>{item.cantidad}</td>\n                                                        <td><Calificar item={item} selected={selectedCompra}/></td>\n                                                    </tr>\n                                                ))}\n                                                \n                                            </tbody>\n                                        </Table>\n                                    </Card.Text>\n                                        </Col>\n                                    </Row>\n                                \n                                \n                            </Card.Body>\n                        </Card>\n                    </Fragment>\n                    :\n                    <h4 className=\"my-4\">Selecciona una compra para ver su informacion completa</h4>}\n                </Col>\n            </Row>\n        </Container>\n    </div>\n    : \n    null}\n    </div>\n    </Fragment>\n)\n}\n\nfunction Calificar (props) {\n    const {user, setUser} = useContext(UserContext);\n    const [review, setReview] = useState(null)  \n    useEffect(() =>{\n        let isMounted = true;\n        if(isMounted){\n            console.log(props)\n        fetchitems()\n        .then(json=>{\n            setReview(json)\n        })\n    }\n    return ()=>isMounted=false\n    }, [props.selected]);\n    \n    \n    const fetchitems = async () => {\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/calificacion/${props.item.producto.id}/${user.id}`);\n        const  it= await data.json();\n        console.log(it.result)\n        return it.result\n    }\n\n\n    if (review == null) {\n        return(\n            <Fragment>\n                <a href={\"#calificar\" + props.item.producto.id} role=\"button\" className=\"btn btn-warning\" data-toggle=\"modal\">\n                    Calificar\n                </a>\n                <ModalC item={props.item} review={review}></ModalC>\n            </Fragment>\n        );\n\n    } else {\n        return(\n            <Fragment>\n                <a href={\"#editar\" + props.item.producto.id} role=\"button\" className=\"btn btn-warning\" data-toggle=\"modal\">\n                    Editar\n                </a>\n                <ModalE item={props.item} review={review}></ModalE>\n            </Fragment>\n        );\n    }\n}\n\nfunction ModalC(props){\n    console.log(props.review)\n    const [rating, setRating] = useState(0);\n    const [hoverRating, setHoverRating] = useState(0);\n    const {user, setUser} = useContext(UserContext);\n    const stars = [1, 2, 3, 4, 5];\n    const [comment, setComment] = useState('');\n\n\n\n    const [data, setData] = useState({\n        id_producto: props.item.producto.id,\n        id_usuario: user.id,\n        calificacion: stars[rating],\n        comentario: \"\"\n    });\n\n    const updateField = e => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        });\n    }\n\n    \n\n\n    //console.log(data.calificacion)\n\n\n    const calificarClick = async() => {\n        data.calificacion = stars[rating];\n        console.log(props.item.producto.id)\n        const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/calificar/${props.item.producto.id}`, {\n            method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n            body: JSON.stringify(data)\n        });\n    }\n\n    return(\n        <div id={\"calificar\" + props.item.producto.id} class=\"modal fade\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"modal-title\">Calificar producto</h4>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <p>¿Que te parecio el producto: {props.item.producto.nombre}? {props.item.producto.id}</p>\n                        <p class=\"text-warning\"><small>Ayudanos a calificarlo</small></p>\n                        <div class=\"flex-container\">\n                            {stars.map((star, i) => (\n                            <Star\n                                clase=\"fjcp\"\n                                key={i}\n                                starId={i}\n                                rating={hoverRating || rating}\n                                onMouseEnter={() => setHoverRating(i)}\n                                onMouseLeave={() => setHoverRating(0)}\n                                onClick={() => setRating(i)}\n                            />\n                            ))}\n                        </div>\n                        <p><small>Comentario (opcional)</small></p>\n                        <textarea class=\"form-control\" id=\"comentario\" name=\"comentario\" value={data.comentario} onChange={updateField} rows=\"3\"></textarea>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\" onClick={calificarClick} >Calificar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction ModalE(props){\n    console.log(props.review)\n    const [rating, setRating] = useState(props.review.calificacion - 1);\n    const [hoverRating, setHoverRating] = useState(0);\n    const {user, setUser} = useContext(UserContext);\n    const stars = [1, 2, 3, 4, 5];\n    const [comment, setComment] = useState('');\n\n    useEffect(()=>{\n        let isMounted = true;\n        if(isMounted){\n            setRating(props.review.calificacion - 1)\n            setData({...data, comentario: props.review.comentario, calificacion: props.review.calificacion - 1})\n        }\n        return ()=>isMounted=false;\n    },[props.review])\n\n\n    const [data, setData] = useState({\n        id_producto: props.item.producto.id,\n        id_usuario: user.id,\n        calificacion: stars[rating],\n        comentario: props.review.comentario\n    });\n\n    const updateField = e => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        });\n    }\n\n    const editarClick = async() => {\n        data.calificacion = stars[rating];\n        console.log(props.item.producto.id)\n        const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/usuarios/calificarEditar/${props.item.producto.id}`, {\n            method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n            body: JSON.stringify(data)\n        });\n    }\n\n    return(\n        <div id={\"editar\" + props.item.producto.id} class=\"modal fade\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"modal-title\">Calificar producto</h4>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <p>¿Que te parecio el producto: {props.item.producto.nombre}? {props.item.producto.id}</p>\n                        <p class=\"text-warning\"><small>Ayudanos a calificarlo</small></p>\n                        <div class=\"flex-container\">\n                            {stars.map((star, i) => (\n                            <Star\n                                clase=\"fjcp\"\n                                key={i}\n                                starId={i}\n                                rating={hoverRating || rating}\n                                onMouseEnter={() => setHoverRating(i)}\n                                onMouseLeave={() => setHoverRating(0)}\n                                onClick={() => setRating(i)}\n                            />\n                            ))}\n                        </div>\n                        <p><small>Comentario (opcional)</small></p>\n                        <textarea class=\"form-control\" id=\"comentario\" name=\"comentario\" value={data.comentario} onChange={updateField} rows=\"3\"></textarea>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\" onClick={editarClick} >Editar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\n\nconst Star = ({ starId, rating, onMouseEnter, onMouseLeave, onClick, clase }) => {\n    let styleClass = \"star-rating-blank\";\n    if (rating >= starId) {\n      styleClass = \"star-rating-filled\";\n    }\n  \n    return (\n      <div\n        className={\"star \" + clase}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n        onClick={onClick}\n      >\n        <svg\n          height=\"55px\"\n          width=\"53px\"\n          class={styleClass}\n          viewBox=\"0 0 25 23\"\n          data-rating=\"1\"\n        >\n          <polygon\n            stroke-width=\"0\"\n            points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\"\n          />\n        </svg>\n      </div>\n    );\n  };\nexport default MisCompras;","import React, { Fragment, useReducer, useContext, useState, Component, useEffect} from \"react\";\nimport \"./Contenido.css\";\nimport IndexTiendas from './IndexTiendas'\nimport { UserContext } from '../../UserContext';\nimport MapaCliente from './MapaCliente';\nimport MapaTiendas from './MapaTiendas';\nimport {Form, Button, Container, Col} from 'react-bootstrap'\nimport {Link, useLocation} from 'react-router-dom';\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n  }\n\nconst Productos = () => {\n  const {user, setUser} = useContext(UserContext)\n  const [items, setItems] = useState([])\n  const [busqueda, setBusqueda] = useState(\"\")\n  let query = useQuery();\n\nuseEffect(()=>{\n  let isMounted = true;\n    fetchitems()\n    .then(json=>{\n      if(isMounted) setItems(json.productos)\n    })\n    return ()=>isMounted=false;\n}, []);\n\n\nconst fetchitems = async()=>{\n    const nombre = query.get(\"producto\")\n    const info = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidad/${user.id_universidad}/productos/${nombre}`)\n    const json = await info.json()\n    return json\n}\n\nconst handleBusqueda = e =>{\n  setBusqueda(e.target.value)\n}\n  \nconst bgStyle = {\n  backgroundColor: \"#29698f\"\n}\n\n  return (\n    <Fragment>\n        \n        \n                {/* <button  className=\"btn btn-lg btn-primary rounded-pill my-4\">Ver listado de todas las tiendas</button> */}\n                <div style={bgStyle} className=\"text-center mx-auto py-2\">\n                <Form className=\"my-4\">\n                <Form.Group controlId=\"formBasicPassword\">\n                  <Form.Label><h5 className=\"text-light\">Buscar un producto</h5></Form.Label>\n                  \n                  <Form.Control size=\"lg\" type=\"text\" placeholder=\"Brownie\" className=\"rounded-pill mx-auto w-50\" onChange={handleBusqueda} />\n                 \n                </Form.Group>\n                <Link to={`/productos?producto=${busqueda}`}>\n                <Button variant=\"warning\" type=\"submit\">\n                  Buscar\n                </Button>\n                </Link>\n                </Form>\n                </div>\n\n                <div className=\"text-center my-4 container\">\n                <hr className=\"my-4\"/>\n                {items.map(producto=>(\n                    <h1 className=\"text-dark\">producto.nombre</h1>\n                ))}\n\n        </div>\n    </Fragment>\n  )\n};\n\nexport default Productos;\n","import React, {Fragment, useContext, useMemo} from 'react';\nimport ClienteNavBar from './ClienteNavBar';\nimport Contenido from './Contenido'\nimport { UserContext } from '../../UserContext'\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport IndexTiendas from './IndexTiendas';\nimport PerfilCliente from './PerfilCliente';\nimport TiendaInfo from './TiendaInfo';\nimport Menu from './Menu';\nimport Carrito from './Carrito';\n\nimport ComprasR from './ComprasR';\nimport MisCompras from './MisCompras'\nimport Productos from './Productos';\n\n\nconst Home = (props)=>{\n\n    const {user, setUser} = useContext(UserContext);\n    const value = useMemo(() => ({ user, setUser}), [user, setUser]);\n\n    return(\n        <Router>\n            <UserContext.Provider value={value}>\n            <ClienteNavBar/>\n            <Switch>\n                <Route path='/home' exact component={Contenido}/>\n                <Route path='/tiendas' exact component={IndexTiendas}/>\n                <Route path='/PerfilCliente' exact component={PerfilCliente}/>\n                <Route path='/tiendas/:id' exact component={TiendaInfo}/>\n                <Route path='/tiendas/:id/menu' exact component={Menu}/>\n                <Route path='/carrito' exact component={Carrito}/>\n\n                <Route path='/pedidos' exact component={ComprasR}></Route>\n\n                <Route path=\"/misCompras\" exact component={MisCompras}/>\n\n                <Route path=\"/productos\" exact component={Productos}/>\n\n                <Redirect from=\"/\" to=\"/home\"/>\n            </Switch>\n            \n            </UserContext.Provider>\n        </Router>\n\n    )\n}\n\nexport default Home;\n","import React, {Fragment, useContext} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport { UserContext } from '../../UserContext';\n\nconst AdminNavBar = ()=>{\n  const {user, setUser} = useContext(UserContext);\n  const history = useHistory();\n\n  const logout = ()=>{\n    localStorage.removeItem('token.tuw')\n    alert('Hiciste logout')\n    setUser(null);\n    history.push('/')\n}\n\n    return(\n        <Fragment>\n        <div className=\"col-md-3 bg-primary h-100\">\n          <Link to='/admin'>\n        <li className=\"nav-link my-4 border-bottom\"><h1>Tiendas UNI <span className='small'>Admin</span></h1></li>\n        </Link>\n          <div className=\"nav flex-column nav-pills bg-primary py-4 text-justify border-bottom\" role=\"tablist\" aria-orientation=\"vertical\">\n          <Link to='/admin/reportes'>\n          <button className=\"nav-link btn btn-primary py-4 h1 text-left w-100\">Reportes</button>\n            </Link>\n          <Link to='/admin/tiendas'>\n          <button className=\"nav-link btn btn-primary py-4 h1 text-left w-100\">Tiendas</button>\n            </Link>\n            <Link to='/admin/universidades'>\n            <button className=\"nav-link btn btn-primary py-4 text-left w-100\">Universidades</button>\n            </Link>\n            \n\n          </div>\n          <button className=\"nav-link text-left btn btn-primary w-100 py-4 text-light my-4\" onClick={()=>logout()}>Cerrar Sesión</button>\n\n        </div>\n        </Fragment>\n    )\n}\n\nexport default AdminNavBar;","import React, {Fragment, useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\n\nconst TiendaTable = ()=>{\n\n    const style = {\n        color: 'blue'\n    }\n    const [universidad, setUniversidad] = useState(null)\n    const [items, setItems] = useState([])\n    const [unis, setUnis] = useState([])\n\n    useEffect(()=>{\n        fetchUniversidades();\n        fetchitems();\n    }, [universidad]);\n\n  \n\n    const fetchitems = async ()=>{\n        if(universidad){\n            const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/tiendas/${universidad}/all`);\n            const json = await data.json();\n            console.log(json)\n            setItems(json)\n        }else{\n        const data = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/tiendas');\n        const json = await data.json();\n        console.log()\n        console.log(json)\n        setItems(json)\n        }\n    };\n\n    const fetchUniversidades = async ()=>{\n        const data = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/universidades')\n        const json = await data.json();\n        console.log(json)\n        setUnis(json);\n      }\n\n    const updateUniversidad = e =>{\n        if(e.target.value=='0'){\n            setUniversidad(null)\n        }else{\n            setUniversidad(e.target.value)\n        }\n    }\n\n    let tablaitems;\n    if(universidad==null){\n        tablaitems = <Fragment>\n            {items.map(item => (\n                        <tr key={item.id}>\n                            <td>{item.id}</td>\n                            <td>\n                            <Link style={style} to={`/admin/tiendas/${item.id_usuario}`}>\n                            {item.nombre}\n                            </Link>\n                            </td>\n                            <td>{item.horario}</td>\n                            <td>{item.id_usuario}</td>\n                       </tr>\n                    ))}\n        </Fragment>\n    }else{\n        tablaitems = \n        <Fragment>\n            {items.map(item => (\n                        <tr key={item['tienda.id']}>\n                            <td>{item['tienda.id']}</td>\n                            <td>\n                            <Link style={style} to={`/admin/tiendas/${item.id}`}>\n                            {item['tienda.nombre']}\n                            </Link>\n                            </td>\n                            <td>{item['tienda.horario']}</td>\n                            <td>{item.id}</td>\n                       </tr>\n                    ))}\n        </Fragment>\n    }\n    \n\n    return(\n        <Fragment>\n        <div className=\"col-9 border-left text-dark\">\n            <div className=\"container m-4\">\n                <h1 className='my-4 display-4 text-dark'>Tiendas</h1>\n                <div className=\"form-group w-50\">\n                <select id=\"universidad\" name=\"universidad\" className=\"form-control\" onChange={updateUniversidad}>\n                      <option value=\"0\" selected>Todas</option>\n                       {unis.map(uni=>(\n                         <option key={uni.id} value={uni.id}>{uni.nombre}</option>\n                       ))}\n                      </select>\n                      </div>\n          <table className=\"table table-striped\">\n              <thead className=\"thead-dark\">\n                  <tr>\n                      <th scope=\"col\">ID</th>\n                      <th scope=\"col\">Nombre</th>\n                      <th scope=\"col\">Horario</th>\n                      <th scope=\"col\">ID Encargado</th>\n\n                  </tr>\n              </thead>\n              <tbody>\n                    {tablaitems}\n              </tbody>\n\n          </table>\n        </div>\n        </div>\n        </Fragment>\n    )\n}\n\nexport default TiendaTable;\n","import React, {Fragment, useState, useEffect} from 'react';\nimport {Link, useHistory} from 'react-router-dom'\n\n\nconst UniversidadesTable = ()=>{\n    const history = useHistory();\n    const style = {\n        color: 'blue'\n    }\n\n    useEffect(()=>{\n        fetchitems();\n    }, []);\n\n    const [items, setItems] = useState([])\n    const [data, setData] = useState({})\n\n    const fetchitems = async ()=>{\n        const data = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/universidades');\n        const items = await data.json();\n        console.log(items)\n        setItems(items)\n    };\n\n    const eliminar = async (id)=>{\n        try{\n            const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/${id}`,\n            {\n                method: \"DELETE\",\n            });\n            setItems(items.filter(item => item.id !== id));\n        }catch(err){\n            console.error(err)\n        }\n    }\n\n    const validar = async (item)=>{\n        let body = {}\n        if(item.validada){\n            body = {\"validada\":\"false\"}\n        }else{\n            body= {\"validada\":\"true\"}\n        }\n        console.log(item)\n        try{\n            console.log(body)\n            const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/${item.id}`,\n            {\n                method: \"PUT\",\n                headers: {\"Content-Type\":\"application/json\"},\n                body: JSON.stringify(body)\n            });\n            fetchitems();            \n        }catch(err){\n            console.error(err)\n        }\n    }\n\n    return(\n        <Fragment>\n        <div className=\"col-9 border-left\">\n            <div className=\"container my-4 mx-4\">\n                <h1 className='my-4 display-4'>Universidades</h1>\n          <table className=\"table table-striped\">\n              <thead className=\"thead-dark\">\n                  <tr>\n                      <th scope=\"col\">ID</th>\n                      <th scope=\"col\">Nombre</th>\n                      <th scope=\"col\">Ciudad</th>\n                      <th scope=\"col\">Estado</th>\n                      <th scope=\"col\">Validada</th>\n                      <th scope=\"col\">Validar</th>\n                      <th scope=\"col\">Eliminar</th>\n                  </tr>\n              </thead>\n              <tbody>\n              {items.map(item => (\n                     <tr key={item.id}>\n                         <td>{item.id}</td>                       \n                         <td>{item.nombre}</td>                       \n                         <td>{item.ciudad}</td>\n                         <td>{item.estado}</td>\n                         <td>{item.validada ? 'si':'no'}</td>\n                         <td><button className=\"btn btn-sm btn-info\" onClick={() => validar(item)}>{item.validada ? 'Desvalidar':'Validar'}</button></td>\n                         <td><button className=\"btn btn-sm btn-danger\" onClick={()=>eliminar(item.id)}>Eliminar</button></td>\n                    </tr>\n                 ))}\n              </tbody>\n            \n          </table>\n        </div>\n        </div>\n        </Fragment>\n    )\n}\n\nexport default UniversidadesTable;","import React, {Fragment, useContext} from 'react';\nimport { UserContext } from '../../UserContext'\n\n\nconst MainAdmin = ()=>{\n    const {user, setUser} = useContext(UserContext);\n    const mystyle = {\n        height: \"100%\",\n    }\n    console.log(user)\n    return(\n        <Fragment>\n        <div className=\"col-9 border-left\" style={{mystyle}}>\n            <div className=\"container my-4 mx-4\">\n                <h1 className='my-4 display-4 text-dark'>Módulo de Administrador</h1>\n                <h1 className=\"my-4 text-dark\">{user.nombre}</h1>\n            </div>\n        </div>\n        </Fragment>\n    )\n}\n\nexport default MainAdmin;\n","import React, {Fragment, useEffect, useState} from 'react';\nimport {useParams, useHistory} from 'react-router-dom'\n\nconst Tienda1 = () => {\n  const history = useHistory();\n  const [dataUser, setDataUser] = useState({});\n  const [dataTienda, setDataTienda] = useState({});\n  const [dataReportes, setDataReportes] = useState([]);\n\n  const {id} = useParams();\n\n  useEffect(()=>{\n    fetchdata();\n  }, [])\n\n  const fetchdata = async ()=>{\n    const prom = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/usuario/${id}`);\n    const record = await prom.json();\n    setDataUser(record.result[0]);\n    const tienda = await record.result[0].tienda\n    setDataTienda(tienda)\n    const reportes = await tienda.reporte_tiendas\n    setDataReportes(reportes)\n    console.log(reportes)\n    console.log(tienda)\n    console.log(record.result[0])\n};\n\nconst deleteAll = async()=>{\n  const prom = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/all/${dataTienda.id}`,\n  {\n    method: \"DELETE\"\n  });\n  setDataReportes([])\n}\n\nconst deleteOne = async(id)=>{\n  const prom = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/${id}`,\n  {\n    method: \"DELETE\"\n  });\n  fetchdata();\n}\n\nconst imgStyle={\n  maxWidth:\"100%\"\n}\n  const mystyle = {\n    height: \"100%\"\n  }\n  return (\n  <Fragment>\n    <div className=\"col-md-9 border-left\">\n    <div className='container'>\n      <div>\n        <button className=\"my-5 ml-5 btn btn-lg btn-warning\" onClick={()=>history.push('/admin/tiendas')}>Atras</button>\n        <h1 className='my-2 ml-5 display-4 text-dark'>Tienda {dataTienda.nombre}</h1>\n      </div>\n      <div className=\"row\">\n      <div className=\"my-5 col-md-8 text-left\">\n      <table className=\"table table-bordered table-striped\">\n          <tbody>\n            <tr>\n              <th scope=\"col\">Encargado</th>\n              <td>{dataUser.nombre}</td>\n            </tr>\n            <tr>\n              <th>Telefono</th>\n              <td>{dataUser.tel}</td>\n            </tr>\n            <tr>\n              <th>Horario</th>\n              <td>{dataTienda.horario}</td>\n            </tr>\n            <tr>\n              <th>Terminal</th>\n              <td>{dataTienda.tarjeta ?'Si':'No'}</td>\n            </tr>\n            <tr>\n              <th>Validada</th>\n              <td>{dataTienda.validada?'Si':'No'}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div className=\"col-md-4\">\n            <label for=\"img_tienda\">Imagen Tienda</label>\n            <img src={dataTienda.url_imagen} style={imgStyle} alt=\"Tienda\"></img>\n        </div>\n        </div>\n\n        <h2 className=\"text-center\">Reportes</h2>\n        <p><strong>Reportes totales:{dataReportes.length}</strong></p>\n        <table className=\"table table-striped\">\n          <thead>\n            <th>ID</th>\n            <th>Id Usuario</th>\n            <th>Reporte</th>\n            <th><button className=\"btn btn-danger btn-sm btn-rounded\" onClick={()=>deleteAll()}>Eliminar todos</button></th>\n          </thead>\n          <tbody>\n          {dataReportes.map(item=>(\n       \n            <tr>\n              <td>{item.id}</td>\n              <td>{item.id_usuario}</td>\n              <td>No existe la tienda</td>\n              <td>\n            <button className=\"btn btn-outline-danger btn-sm btn-rounded\" onClick={()=>deleteOne(item.id)}>Eliminar</button>\n            </td>\n              </tr>\n              \n          ))}\n            \n          </tbody>\n        </table>\n    </div>\n    </div>\n  </Fragment>)\n}\n\nexport default Tienda1;\n","import React, {Fragment, useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\n\nconst ReportesTable = ()=>{\n\n    const style = {\n        color: 'blue'\n    }\n\n    const [items, setItems] = useState([])\n    const [data, setData] = useState({})\n\n    useEffect(()=>{\n        fetchitems()\n    }, []);\n\n\n    const fetchitems = async ()=>{\n        const data = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda');\n        const json = await data.json();\n        console.log(json)\n        setItems(json.result)\n    };\n    \n    \n    \n\n    return(\n        <Fragment>\n        <div className=\"col-9 border-left\">\n            <div className=\"container m-4\">\n                <h1 className='my-4 display-4 text-dark'>Reportes de Tiendas</h1>\n          <table className=\"table table-striped\">\n              <thead className=\"thead-dark\">\n                  <tr>\n                      <th scope=\"col\">ID</th>\n                      <th scope=\"col\">Nombre</th>\n                      <th scope=\"col\">Horario</th>\n                      <th scope=\"col\">ID Encargado</th>\n                      <th scope=\"col\">Reportes</th>                  \n                  </tr>\n              </thead>\n              <tbody>\n                 {items.map(item => (\n                     <tr key={item.id}>\n                         <td>{item.id}</td>\n                         <td>\n                         <Link style={style} to={`/admin/tiendas/${item.id_usuario}`}>\n                         {item.nombre}\n                         </Link>\n                         </td>\n                         <td>{item.horario}</td>\n                         <td>{item.id_usuario}</td>\n                         <td>{item.reporte_tiendas.length}</td>\n                    </tr>\n                 ))}\n              </tbody>\n            \n          </table>\n        </div>\n        </div>\n        </Fragment>\n    )\n}\n\nexport default ReportesTable;","import React, {Fragment, useEffect, useState} from 'react';\n\n\nfunction InfoUni({match}){\n\n    const mystyle = {\n        height: \"100%\",\n    }\n\n        useEffect(()=>{\n            fetchinfo();\n            console.log(match)\n        }, []);\n    \n\n    const [item, setItem] = useState({\n        sprites:{}\n    })\n\n    const fetchinfo = async ()=>{\n        const data = await fetch(`https://pokeapi.co/api/v2/pokemon/${match.params.id}`)\n        const item = await data.json();\n        setItem(item)\n    }\n\n    return(\n       \n        <div className=\"col-9 border-left\" style={{mystyle}}>\n            <div className=\"container my-4 mx-4\">\n                <h1 className='my-4 display-4'>Información de {match.params.id}</h1>\n                <h1>{item.name}</h1>\n                <img src={item.sprites.front_default}></img>\n            </div>\n        </div>\n       \n    )\n}\n\nexport default InfoUni;","import React, {Fragment} from 'react'\nimport AdminNavBar from './AdminNavBar';\nimport TiendaTable from './TiendaTable';\nimport UniversidadTable from './UniversidadesTable'\nimport MainAdmin from './MainAdmin'\nimport Tienda1 from './Tienda1'\nimport ReportesTable from './ReportesTable'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport infoUni from './InfoUni';\n\nconst Admin = ()=>{\n    return(\n        <Router>\n            <div className='container-fluid h-100 mx-0 px-0'>\n            <div className=\"row row-eq-height m-0 px-0 h-100\">\n                <AdminNavBar/>\n                \n                <Switch>\n\n                    <Route path='/admin/tiendas' exact component={TiendaTable}></Route>\n                    <Route path='/admin/tiendas/:id' component={Tienda1}></Route>\n                    <Route path='/admin/universidades/:id' component={infoUni}></Route>\n                    <Route path='/admin/universidades' exact component={UniversidadTable}></Route>\n                    <Route path='/admin/reportes' exact component={ReportesTable}></Route>\n                    <Route path='/admin' exact component={MainAdmin}></Route>\n\n                </Switch>\n                \n            </div>\n            </div>\n        </Router>\n    )\n}\n\nexport default Admin;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m29.597 44.936c.03.029.061.058.092.085.748.649 1.686.973 2.622.973.938 0 1.875-.324 2.623-.973.039-.034.077-.07.113-.107l19.777-20.085c1.148-1.148 1.488-2.859.867-4.359-.621-1.501-2.072-2.47-3.695-2.47h-39.992c-1.623 0-3.074.969-3.695 2.469s-.281 3.211.878 4.37zm22.399-22.936-19.686 19.993-20.306-19.993z\"\n});\n\nvar SvgDropdown = function SvgDropdown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer\",\n    enableBackground: \"new 0 0 64 64\",\n    height: 512,\n    viewBox: \"0 0 64 64\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDropdown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown.76d2151c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8 c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2 c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8 c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1 c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8 c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5 l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6 c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1 l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1 C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9 c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8 c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42 c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8 c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8 c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2 c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42 c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6 c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1 c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8 c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7 c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001 z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgConfiguracion = function SvgConfiguracion(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 478.703 478.703\",\n    style: {\n      enableBackground: \"new 0 0 478.703 478.703\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgConfiguracion, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/configuracion.ec23fc06.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m51 16.414 7.707-7.707-1.414-1.414-6.293 6.293-2.293-2.293-1.414 1.414z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m21 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m17 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m13 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m29 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m37 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m9 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m25 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m33 13h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m63 11c0-5.514-4.486-10-10-10-3.262 0-6.154 1.577-7.981 4h-41.019c-1.654 0-3 1.346-3 3v34c0 1.654 1.346 3 3 3h18.402l.039.078c.366.731.559 1.548.559 2.364v4.108c0 1.074.252 2.151.73 3.113l2.27 4.571v3.721l18 .047v-3.669l1.6-2.133c.903-1.204 1.4-2.696 1.4-4.2v-8h9c1.654 0 3-1.346 3-3v-23.019c2.423-1.827 4-4.719 4-7.981zm-10-8c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm-7.981 14h-38.019v-6h36c0 2.253.758 4.326 2.019 6zm-.019 36c0 1.075-.355 2.14-1 3l-2 2.667v2.331l-14-.038v-2.195l-2.479-4.992c-.341-.687-.521-1.455-.521-2.223v-4.108c0-1.125-.266-2.252-.77-3.259l-1.165-2.33c-.042-.085-.065-.182-.065-.277 0-.341.278-.618.714-.618 2.915 0 5.286 2.372 5.286 5.287v1.713 2h2v-2-1.713-15.245c0-.551.449-1 1-1s1 .449 1 1v9 4h2v-4c0-.551.449-1 1-1s1 .449 1 1v4h2v-4c0-.551.449-1 1-1s1 .449 1 1v2 2h2v-2c0-.551.449-1 1-1s1 .449 1 1zm12-11c0 .551-.449 1-1 1h-9v-1c0-1.654-1.346-3-3-3-.395 0-.77.081-1.116.22-.345-1.275-1.501-2.22-2.884-2.22-.771 0-1.468.301-2 .78-.532-.48-1.229-.78-2-.78-.352 0-.686.072-1 .184v-6.184c0-1.654-1.346-3-3-3s-3 1.346-3 3v10.257c-1.341-1.411-3.245-2.299-5.381-2.299-1.443 0-2.618 1.174-2.619 2.618 0 .404.096.809.276 1.172l.127.252h-17.403c-.551 0-1-.449-1-1v-34c0-.551.449-1 1-1h39.841c-.279.636-.497 1.304-.639 2h-38.202v10h42.025c1.669 1.25 3.733 2 5.975 2 1.422 0 2.774-.303 4-.841z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m11 21c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm0 10c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m21 27h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m21 35h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m29 27h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m37 27h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m37 35h6v-6h-6zm2-4h2v2h-2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m45 37h10v-14h-10zm2-12h6v10h-6z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m5 41h12v-6h-12zm2-4h8v2h-8z\"\n}));\n\nvar SvgPanel = function SvgPanel(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_5\",\n    enableBackground: \"new 0 0 64 64\",\n    height: 512,\n    viewBox: \"0 0 64 64\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPanel, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/panel.45e491e5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M330.667,192c5.888,0,10.667-4.779,10.667-10.667v-128C341.333,23.936,317.419,0,288,0H53.333C23.915,0,0,23.936,0,53.333 v384c0,29.397,23.915,53.333,53.333,53.333H288c29.419,0,53.333-23.936,53.333-53.333v-128c0-5.888-4.779-10.667-10.667-10.667 S320,303.445,320,309.333v128c0,17.643-14.357,32-32,32H53.333c-17.643,0-32-14.357-32-32v-384c0-17.643,14.357-32,32-32H288 c17.643,0,32,14.357,32,32v128C320,187.221,324.779,192,330.667,192z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M480,234.667H138.667c-5.888,0-10.667,4.779-10.667,10.667S132.779,256,138.667,256H480 c5.888,0,10.667-4.779,10.667-10.667S485.888,234.667,480,234.667z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M487.531,237.824l-64-64c-4.16-4.16-10.923-4.16-15.083,0c-4.16,4.16-4.16,10.923,0,15.083l56.448,56.448l-56.448,56.448 c-4.16,4.16-4.16,10.923,0,15.083c2.091,2.069,4.821,3.115,7.552,3.115c2.731,0,5.461-1.045,7.531-3.093l64-64 C491.691,248.747,491.691,241.984,487.531,237.824z\"\n})));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgCerrarsesion = function SvgCerrarsesion(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 490.667 490.667\",\n    style: {\n      enableBackground: \"new 0 0 490.667 490.667\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCerrarsesion, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cerrarsesion.ed7d9081.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M475.425,200.225L262.092,4.669c-6.951-6.359-17.641-6.204-24.397,0.35L36.213,200.574 c-3.449,3.348-5.399,7.953-5.399,12.758v280.889c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.959,17.778-17.778 v-130.37h82.963v130.37c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.953,17.778-17.778V213.333 C481.185,208.349,479.099,203.597,475.425,200.225z M445.629,476.444H333.037v-130.37c0-9.819-7.959-17.778-17.778-17.778H196.741 c-9.819,0-17.778,7.959-17.778,17.778v130.37H66.37V220.853L250.424,42.216l195.206,178.939V476.444z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgHome = function SvgHome(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHome, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/home.d6468156.svg\";\nexport { ForwardRef as ReactComponent };","import React, {Fragment, useState, useContext} from 'react';\nimport { UserContext } from '../../UserContext';\nimport {useHistory} from 'react-router-dom';\nimport './TiendaNavBar.css';\nimport {ReactComponent as Dropdown} from './icons/dropdown.svg';\nimport {ReactComponent as Settings} from './icons/configuracion.svg';\nimport {ReactComponent as Panel} from './icons/panel.svg';\nimport {ReactComponent as Logout} from './icons/cerrarsesion.svg';\nimport {ReactComponent as Home} from './icons/home.svg';\nimport {Link} from 'react-router-dom';\n\n\nconst TiendaNavBar = ()=>{\n    return(\n        <Fragment>\n            <NavBar>\n                    \n                <NavItem icon={<Dropdown/>} >\n                    <DropdownMenu/>\n                </NavItem>\n            </NavBar>\n        </Fragment>\n    )\n}\n\nfunction NavBar(props) {\n    return (\n        <nav className=\"navbar\">\n            <div className=\"leftNav\">\n                <Link to=\"/panel\">\n                    <NavItem icon={<Home/>} />\n                </Link>\n            </div>\n            <div className=\"centerNav\">\n                    <a>\n                        <h1>Tiendas Universidad</h1>\n                    </a>\n            </div>\n            <ul className=\"navbar-nav\">\n                { props.children }\n            </ul>\n        </nav>\n    );\n}\n\nfunction NavItem(props) {\n\n    const [open, setOpen] = useState(false);\n\n    return (\n        <li className=\"nav-item\">\n            <a   className=\"icon-button\" onClick={() => setOpen(!open)}>\n                {props.icon}\n            </a>\n            <div style={{display: 'contents'}} onClick={() => setOpen(!open)}>\n                {open && props.children}\n            </div>\n        </li>\n    );\n}\n\nfunction DropdownMenu(){\n    const {user, setUser} = useContext(UserContext);\n    const history = useHistory();\n    const logout = ()=>{\n        localStorage.removeItem('token.tuw')\n        alert('Hiciste logout')\n        setUser(null);\n        history.push('/')\n    }\n\n    function DropdownItem(props){\n        return(\n            <a className=\"menu-item\" onClick={props.func}>\n                <span className=\"icon-button\">{props.leftIcon}</span>\n\n                {props.children}\n            </a>\n        );\n    }\n\n    return(\n        <div className=\"dropdown-nav\">\n            <Link to=\"/panel\">\n                <DropdownItem \n                leftIcon={<Panel/>}>\n                    Mi panel\n                </DropdownItem>\n            </Link>\n            <Link>\n                <DropdownItem\n                leftIcon={<Settings/>}>\n                    Configuracion\n                </DropdownItem>\n            </Link>\n            <Link >\n                <DropdownItem func={()=>logout()}\n                leftIcon={<Logout/>}>\n                    Cerrar Sesion\n                </DropdownItem>\n            </Link>\n        </div>\n    );\n}\n\nexport default TiendaNavBar;","import React, {Fragment, useContext, useState, useEffect, fetchitems} from 'react';\nimport {Link} from 'react-router-dom';\nimport './MenuTienda.css';\nimport { UserContext } from '../../UserContext'\nimport {Modal, Button} from 'react-bootstrap';\n\n\nconst InfoStripe = (props)=>{\n\n\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    const [link, setLink] = useState();\n\n    useEffect(()=>{\n      let isMounted = true;\n      if(isMounted){\n        console.log(props.id_stripe)\n          fetchStripeID(props.id_stripe)\n          .then(json=>{\n            if(json.stripe===true){\n\n            }else{\n                console.log(json)\n                setLink(json.accountLink.url)\n                handleShow()\n          }})\n      }\n      return ()=>isMounted=false;\n    }, [])\n\n    const fetchStripeID = async ()=>{\n        const dbData = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/stripeInfo/accountLink/${props.id_tienda}`);\n        const json = await dbData.json();\n        return json;\n    }\n  \n    return (\n      <>\n        \n  \n        <Modal show={show} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Termina tu registro</Modal.Title>\n          </Modal.Header>\n          <Modal.Body className=\"text-center\">\n              <p className=\"text-left\">Para empezar con tus ventas en linea debes registrarte en Stripe para recibir\n              tus pagos bancarios, llena el formulario y comienza a vender tus productos. De no terminar este registro no podrás\n              vender tus productos.\n              </p>\n              <a href={link}>\n                <button className=\"btn btn-lg btn-primary text-light my-5\">\n                Conectar con Stripe\n                  </button>\n                  </a>\n\n          </Modal.Body>\n          <Modal.Footer>\n            \n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n}\n\nexport default InfoStripe;","import React, { Fragment } from 'react';\nimport {CardElement} from '@stripe/react-stripe-js';\nimport '../Cliente/CardSectionStyles.css'\n\nconst CARD_ELEMENT_OPTIONS = {\n  style: {\n    base: {\n      color: \"#32325d\",\n      fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n      fontSmoothing: \"antialiased\",\n      fontSize: \"16px\",\n      \"::placeholder\": {\n        color: \"#aab7c4\",\n      },\n    },\n    invalid: {\n      color: \"#fa755a\",\n      iconColor: \"#fa755a\",\n    },\n  },\n};\n\nfunction CardSub() {\n  return (\n    <Fragment>\n      <h4 className=\"w-75 my-4 mx-auto\">Porfavor, ingresa tu información bancaria para terminar con el proceso</h4>\n    <label htmlFor=\"card\">\n      Información Bancaria\n    </label>\n    <CardElement id=\"card\" className=\"my-4\" options={CARD_ELEMENT_OPTIONS} />\n    </Fragment>\n  );\n};\n\nexport default CardSub;","import React , {useContext, Fragment, useState} from 'react';\nimport {useStripe, useElements, CardElement} from '@stripe/react-stripe-js';\nimport { UserContext } from '../../UserContext'\nimport {Spinner, Table} from 'react-bootstrap';\nimport CardSub from './CardSub';\n\nexport default function SubscriptionForm(props) {\n  const stripe = useStripe();\n  const elements = useElements();\n  const {user, setUser} = useContext(UserContext)\n  const [processing, setProcessing] = useState(null)\n  const [success, setSuccess] = useState()\n  const [error, setError] = useState()\n  const [orden, setOrden] = useState(null)\n\n\n  const handleSubmit = async (event) => {\n    // We don't want to let default form submission happen here,\n    // which would refresh the page.\n    setProcessing(true);\n    event.preventDefault();\n    if (!stripe || !elements) {\n      // Stripe.js has not yet loaded.\n      // Make sure to disable form submission until Stripe.js has loaded.\n      return;\n    }\n    \n    const info = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/stripe/customer/${user.id}`);\n    const customerId = await info.json();\n    console.log(customerId)\n    \n    \n      const result = await stripe.createPaymentMethod({\n            type: \"card\",\n            card: elements.getElement(CardElement),\n            billing_details: {\n                name: user.nombre,\n            },\n    })\n    \n      if (result.error) {\n        // Show error to your customer (e.g., insufficient funds)\n        setProcessing(false);\n        setError(result.error.message)\n        console.log(result.error.message);\n      } else \n       {\n           createSubscription({\n            customerId: customerId.customer_id,\n            paymentMethodId: result.paymentMethod.id,\n            priceId: \"price_1HrF5VK9hN8J4SbU6bunPrdI\"\n           })\n        console.log(\"success\")\n        console.log(result)   \n    }\n  }  \n  \n\n  async function createSubscription({customerId, paymentMethodId, priceId}){\n      const datos = await fetch(\"https://tiendas-unison-web.herokuapp.com/api/v1/stripe/create-subscription\",\n      {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json',\n          },\n          body: JSON.stringify({\n            customerId: customerId,\n            paymentMethodId: paymentMethodId,\n            priceId: \"price_1HrC6IK9hN8J4SbUnGpManU8\",\n            id_usuario: user.id,\n            plan: props.plan\n          })\n      })\n      console.log(props.plan)\n      const result = await datos.json()\n      if(result.error){\n          setProcessing(false)\n          setError(result.error)\n          return\n      }else{\n        console.log(result)\n        setSuccess(true)\n          setProcessing(false)\n          return {\n            paymentMethodId: paymentMethodId,\n            priceId: \"price_1HrC6IK9hN8J4SbUnGpManU8\",\n            subscription: result,\n          };\n          \n      }\n  }\n\n\n\n  return (\n    <Fragment>\n\n      {success ?\n      <Fragment>\n      <div className=\"text-center py-5\">\n      <h2 className=\"text-dark\">¡Tu suscripción se realizó con exito !</h2>\n      <p>Tu proceso de activación se realizó exitosamente</p>\n      </div>\n      </Fragment>\n      :\n      <Fragment>\n        <div className=\"text-center\">\n            <form onSubmit={handleSubmit}>\n                <CardSub disabled={processing}/>\n                {error ? <p className=\"text-danger\">{error}</p> : null}\n                {processing ? \n                <div> \n                  <p>Realizando compra...</p><Spinner animation=\"border\" variant=\"primary\" /> \n                </div>\n                :\n                <button className=\"btn btn-lg btn-primary\" disabled={!stripe || processing}>Confirmar orden</button>\n                }            \n                </form>\n        </div>\n        </Fragment>\n      }\n      </Fragment>\n\n  );\n}\n","import {Modal, Button, Container, Card, Row, Col} from 'react-bootstrap';\nimport React, {Fragment, useState, useContext, useEffect} from 'react';\n\n\n\nconst BillingPlan = (props)=>{\n\n    const handleClick = (plan)=>{\n        props.setStep(props.step+1);\n        props.setPlan(plan)\n    }\n\n    \n    return(\n    \n    <Container>\n        <Modal.Title>Estas a un solo paso!</Modal.Title>\n        <h6 className=\"my-4\">\n            Para completar la activación de tu cuenta debes escoger un\n            plan de suscripción, de lo contrario tu tienda no será mostrada a los clientes</h6>\n              <Row>\n                <Col>\n                <Card>\n                  <Card.Header>Plan Mensual</Card.Header>\n                  <Card.Body>\n                    <Card.Title><h2>$100 al mes</h2></Card.Title>\n                    <ul className=\"my-2\">\n                        <li>Vende tus productos en linea</li>\n                        <li>Sin limitaciones</li>\n                        <li>Tarifa fija</li>\n                      </ul>\n                    <Card.Text className=\"text-left\">\n                      \n                      <span className=\"text-muted\">* Obtendrás el plan de 30 dias gratis, \n                      despues de la fecha limite los cargos se harán automaticamente</span>\n                    </Card.Text>\n                    <Button variant=\"primary\" onClick={()=>handleClick(1)}>Seleccionar</Button>\n                  </Card.Body>\n                </Card>\n                </Col>\n                <Col>\n                <Card>\n                  <Card.Header>Prueba 30 días</Card.Header>\n                  <Card.Body>\n                    <Card.Title><h2>$0</h2></Card.Title>\n                    <ul className=\"my-2\">\n                        <li>Vende tus productos en linea</li>\n                        <li>Sin limitaciones</li>\n                        <li>Tarifa fija</li>\n                      </ul>\n                    <Card.Text className=\"text-left\">\n                    \n                      <span className=\"text-muted\">\n                        * Obtendrás el plan de 30 dias gratis y al vencer, tu cuenta\n                      se desactivará hasta que pagues</span>\n                    </Card.Text>\n                    <Button variant=\"primary\" onClick={()=>handleClick(2)}>Seleccionar</Button>\n                  </Card.Body>\n                </Card></Col>\n              </Row>\n            </Container>\n    )\n}\n\nexport default BillingPlan;","\nimport React, {Fragment, useState, useContext, useEffect} from 'react';\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport {Modal, Button, Container, Card, Row, Col} from 'react-bootstrap';\nimport SubscriptionForm from './SubscriptionForm'\nimport BillingPlan from './BillingPlan'\n\nconst stripePromise = loadStripe(\"pk_test_51HoJ01K9hN8J4SbUqEiL2Amsb8RleP8IsJYQndlu4PcDJ1vVRC7dCX2wOKvO1WSGQ0NCvxejBlDxiFVjb6mippAO00wL2DOUxs\");\n\n\nconst options = {\n    locale: \"es-MX\"\n  }\n  const BillingInfo = (props)=>{\n\n    const [plan, setPlan] = useState();\n    const [show, setShow] = useState(false);\n    const [step, setStep] = useState(1);\n    const handleClose = () => props.setShow(false);\n    const handleShow = () => props.setShow(true);\n    const [link, setLink] = useState();\n\n    useEffect(()=>{\n      let isMounted = true;\n      if(isMounted){\n        console.log(props.id_stripe)\n          fetchSubscripcion()\n          .then(json=>{\n            if(json.status_code==404){\n              console.log(json)\n              console.log(json.message);\n              handleShow();\n            }else{\n              console.log(json)\n                handleSubscripcion(json);\n          }})\n      }\n      return ()=>isMounted=false;\n    }, [])\n\n    const handleSubscripcion = (json)=>{\n      props.setSubscripcion(json.subscripcion)\n      console.log(json.subscripcion)\n    }\n\n    const fetchSubscripcion = async ()=>{\n        const dbData = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/stripe/subscripcion/${props.id_tienda}`);\n        const json = await dbData.json();\n        return json;\n    }\n\n\n    const handleComponent = ()=>{\n      switch(step){\n        case 1:\n          return <BillingPlan setStep={setStep} setPlan={setPlan} step={step}/>\n          break;\n        case 2:\n          return <SubscriptionForm plan={plan}/>\n          break;\n        case 3:\n          return (<Fragment>\n          <div className=\"text-center py-5\">\n          <h2 className=\"text-dark\">¡Tu suscripción se realizó con exito !</h2>\n          <p>Tu proceso de activación se realizó exitosamente</p>\n          </div>\n          </Fragment>)\n          break;\n        \n          default:\n              return null\n      }\n    }\n\n    return (\n      <Elements options={options} stripe={stripePromise}>\n      <Fragment>\n      <Modal size=\"lg\" className=\"text-center\" centered show={props.show} onHide={handleClose}>\n          <Modal.Header className=\"text-center\" closeButton>\n          <h3 className=\"text-center\">Plan de subscripción</h3>\n          </Modal.Header>\n          <Modal.Body className=\"text-center\">\n            {handleComponent()}\n          </Modal.Body>\n          <Modal.Footer>\n            \n          </Modal.Footer>\n        </Modal>\n        </Fragment>\n        </Elements>\n    );\n  }\n\n  export default BillingInfo;","import React, {Fragment, useContext, useState, useEffect} from 'react';\nimport './Opciones.css';\nimport {Link} from 'react-router-dom';\n\nimport Banner from 'react-js-banner'\nimport { UserContext } from '../../UserContext'\nimport {useHistory} from \"react-router-dom\";\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport InfoStripe from './InfoStripe';\nimport BillingInfo from './BillingInfo';\n\nconst Opciones = ()=> {\n    return(\n\n        <Fragment>\n            <Items/>\n\n        </Fragment>\n    );\n}\n\nfunction Items() {\n\n    let history = useHistory()\n    const [items, setItems] = useState([])\n    const {user, setUser} = useContext(UserContext);\n    const [days, setDays] = useState(null);\n    const [tiendaID, setID] = useState(null);\n    const [subscripcion, setSubscripcion] = useState()\n    const [show, setShow] = useState(false);\n\n    useEffect(()=>{\n        let isMounted = true;\n        if(isMounted){\n            fetchitems()\n            .then(json=>{\n                setItems(json.items);\n                setDays(json.days);\n                setID(json.items[0]['id'])\n            })\n        }\n        return ()=>{isMounted=false};\n        \n    }, []);\n\n    const fetchitems = async (id)=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendafecha/${user.id}`);\n        const items = await data.json();\n        console.log(items)\n        let finaldate = new Date();\n        let today = new Date(Date.now())\n        console.log(\"today:\", today)\n        let subdate = new Date(items[0].fechaSub)\n        finaldate.setDate(subdate.getDate())\n        console.log(\"subdate\", subdate)\n        console.log(\"finaldate\", finaldate)\n        let diffTime = Math.abs(finaldate - today);\n        let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        console.log(diffDays)\n        const json = {\n            items: items,\n            days: diffDays\n        }\n        return json\n    };\n\n    const eliminar = async (id)=>{\n        try{\n            const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/${id}`,\n            {\n                method: \"DELETE\",\n            });\n            //setItems(items.filter(item => item.id !== id));\n            localStorage.removeItem('token.tuw')\n            alert('Hasta la proxima')\n            setUser(null);\n            history.push(\"/\")\n        }catch(err){\n            console.error(err)\n        }\n    }\n\n\n    const checkSubscription = ()=>{\n        if(subscripcion){\n            if(subscripcion.status == \"trialing\" && subscripcion.cancel_at_period_end===true){\n                return <Banner title={`Usted se encuentra en periodo de prueba`} />\n            }else{\n                return null\n            }\n        }else{\n            return null\n        }\n    }\n\n    return(\n        <div className=\"mainContainer\">\n\n            {checkSubscription()}\n           \n            {/* <Banner title= {date} visibleTime={3000}/> */}\n\n\n\n\n            <div className=\"itemsContainer\">\n                <button className=\"boton\">Cuenta</button>\n                <Link to='/panel/Menu'>\n                <button className=\"boton\">Menu</button>\n                </Link>\n                <Link to=\"/panel/misReportes\">\n                <button className=\"boton\">Mis Reportes</button>\n                </Link>\n            </div>\n            <hr />\n            <div className=\"itemsContainer\">\n\n                <Link to='panel/MiInfo'>\n                    <button className=\"boton\">Mi información</button>\n                </Link>\n\n\n                <Link to='panel/Pedidos'>\n                    <button className=\"boton\">Pedidos</button>\n                 </Link>\n\n                <Link to=\"panel/misVentas\">\n                <button className=\"boton\">Ventas</button>\n\n                </Link>\n\n                \n            </div>\n            <hr />\n            <div className=\"itemsContainer\">\n                {/* <Link to='panel/Tarjeta'> */}\n                    <button className=\"boton\">Tarjeta</button>\n                {/* </Link> */}\n                <button className=\"boton\" data-toggle=\"modal\" href=\"#Modal\">Baja</button>\n                <button className=\"boton\">Ayuda</button>\n            </div>\n            <div id=\"Modal\" class=\"modal fade\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                            <h4 class=\"modal-title\">¿Estás seguro?</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p>¿Seguro que quieres darte te baja?</p>\n                            <p class=\"text-warning\"><small>Si lo borras, nunca podrás recuperarlo.</small></p>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                            <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" onClick={()=>eliminar(user.id)}>Eliminar</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {tiendaID ? \n            <Fragment>\n                <BillingInfo id_tienda={tiendaID} show={show} setShow={setShow} setSubscripcion={setSubscripcion}/>\n\n            {show?null:\n             <InfoStripe id_tienda={tiendaID} />\n            }\n            </Fragment>\n            : null}\n        </div>\n\n\n    );\n}\n\nexport default Opciones;\n","import firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCZaotWZ2BLiFfqi6AL2aedToh4VFO3iUo\",\n  authDomain: \"tiendas-unison.firebaseapp.com\",\n  databaseURL: \"https://tiendas-unison.firebaseio.com\",\n  projectId: \"tiendas-unison\",\n  storageBucket: \"tiendas-unison.appspot.com\",\n  messagingSenderId: \"858069233922\",\n  appId: \"1:858069233922:web:87453b828ab16d9d32921b\",\n  measurementId: \"G-R12NY2YB84\"\n};\n\nfirebase.initializeApp(firebaseConfig)\n\nconst storage = firebase.storage();\n\nexport {storage, firebase as default } ;\n","import React, {Fragment, useContext, useEffect, useState} from 'react';\nimport {GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow, InfoBox} from 'react-google-maps';\nimport {Link} from 'react-router-dom';\nimport { UserContext } from '../../UserContext';\nimport {compose, withProps} from 'recompose';\nimport MapStyles from '../MapStyles';\nimport {Modal, Button} from 'react-bootstrap';\n\n\nfunction Map(props){\n\n  \n    const options ={\n        styles: MapStyles,\n        disableDefaultUI: true,\n    }\n\n\n    return(\n\n        <GoogleMap\n        defaultZoom={16} \n        defaultCenter={{\n            lat: parseFloat(props.info['ubicacion.lat']),\n            lng: parseFloat(props.info['ubicacion.lng'])\n        }}\n        options={options}\n        onClick={props.onMapClick}\n        >\n        {props.editable ?\n        <Marker\n        position={{\n            lat: parseFloat(props.info.lat),\n            lng: parseFloat(props.info.lng)\n        }}\n        />\n        :\n        <Marker\n        position={{\n            lat: parseFloat(props.info['ubicacion.lat']),\n            lng: parseFloat(props.info['ubicacion.lng'])\n        }}\n        />\n        }\n        \n \n               \n               \n        </GoogleMap>\n    )\n}\nconst MyMapComponent = withScriptjs(withGoogleMap(Map))\n\nconst MiUbicacion = (props)=>{\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    // const [markerPosition, setMarkerPosition] = useState({\n    //   lat: props.info['ubicacion.lat'],\n    //   lng: props.info['ubicacion.lng']\n    // })\n\n    \n   \n    const Guardar = ()=>{\n        handleClose();\n        props.Guardar();\n    }\n    return(\n        \n        <div>\n    <MyMapComponent\n  googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo`}\n  loadingElement={<div style={{ height: `100%` }} />}\n  containerElement={<div style={{ height: `400px` }} />}\n  mapElement={<div style={{ height: `100%` }} />}\n    info={props.info}\n    onMapClick={null}\n    editable={false}\n/>\n<button className=\"btn btn-primary mx-2 my-4\" onClick={handleShow}>Editar Ubicacion</button>\n<Modal show={show} onHide={handleClose}>\n    <Modal.Header closeButton>\n        <Modal.Title>Editar Ubicacion</Modal.Title>\n    </Modal.Header>\n    <Modal.Body>\n        Haz clic en el mapa para seleccionar la ubicacion de tu tienda\n        <MyMapComponent\n        googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo`}\n        loadingElement={<div style={{ height: `100%` }} />}\n        containerElement={<div style={{ height: `400px` }} />}\n        mapElement={<div style={{ height: `100%` }} />}\n            info={props.markerPosition}\n            editable={true}\n            onMapClick={props.setLocation}\n        />\n    </Modal.Body>\n    <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n        Cancelar\n        </Button>\n        <Button variant=\"primary\" onClick={Guardar}>\n        Guardar\n        </Button>\n    </Modal.Footer>\n</Modal>\n</div>\n\n\n\n    )\n}\n\nexport default MiUbicacion;","import React, {Fragment, useEffect, useState, useContext} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport TiendaNavBar from './TiendaNavBar';\nimport {Link} from 'react-router-dom';\nimport { UserContext } from '../../UserContext'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport './MiInfo.css';\nimport {storage} from '../../firebase'\nimport MiUbicacion from './MiUbicacion';\n\n\nfunction MiInfo(){\n    // const [image, setImage] = useState(null);\n    const [url, setUrl] = useState(\"\");\n    const [progress, setProgress] = useState(0);\n    const [markerPosition, setMarkerPosition] = useState({\n    \n    })\n    \n\n    const handleChange = async e => {\n      if (e.target.files[0]){\n        handleUpload(e.target.files[0])\n      }\n    };\n\n    const TipoTienda = () => {\n      switch (items.id_tipo_tienda) {\n        case 1:\n          return 'Cooperativa';\n          break;\n        case 2:\n          return 'Puesto';\n          break;\n        case 3:\n          return 'Cafeteria';\n          break;\n        default:\n          return 'esta mal';\n\n      }\n    }\n\n    \n\n  const GuardarUbi = async()=>{\n      try{\n          const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/ubicacion/${items['id']}`,\n          {\n              method: \"PUT\",\n              headers: {\"Content-Type\":\"application/json\"},\n              body: JSON.stringify(markerPosition)\n\n          });\n          const result = await response.json();\n          if(result.status){\n              console.log(result)       \n              setItems({...items, 'ubicacion.lat': markerPosition.lat, 'ubicacion.lng': markerPosition.lng})    \n          }\n    }catch(err){\n        console.error(err)\n\n    }\n  }\n\n  const setLocation = (e)=>{\n      const latLng = e.latLng;\n      let latitud = latLng.lat()\n      let longitud = latLng.lng()\n      let coordinates = {\n          lat: latitud,\n          lng: longitud\n      }\n      console.log(coordinates)\n      setMarkerPosition(coordinates)\n      // props.handleLocation(coordinates)\n  }\n\n    const handleUpload = (file) => {\n      const uploadTask = storage.ref(`images/${file.name}`).put(file);\n      uploadTask.on(\n        \"state_changed\",\n        snapshot => {\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          setProgress(progress);\n        },\n        error => {\n          console.log(error);\n        },\n        () => {\n          storage\n            .ref(\"images\")\n            .child(file.name)\n            .getDownloadURL()\n            .then(url => {\n              setUrl(url)\n            });\n          }\n        );\n    };\n\n  let history = useHistory()\n  const [data, setData] = useState({\n    nombre: '',\n    horario: '',\n    tarjeta: '',\n    id_tipo_tienda: '',\n    url_imagen: ''\n\n  });\n\n  const [items, setItems] = useState([])\n  const {user, setUser} = useContext(UserContext);\n  useEffect(()=>{\n      let isMounted = true;\n      if(isMounted){\n        fetchitems()\n        .then(json=>{\n          setItems(json);\n          setMarkerPosition({ lat: json['ubicacion.lat'], lng: json['ubicacion.lng']})\n          setData(json)\n        })    \n      } \n      return ()=>{isMounted=false}\n      \n  }, []);\n\n  const fetchitems = async ()=>{\n\n      const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendainfo/${user.id}`);\n      const json = await data.json();\n     return json[0];\n\n  };\n\n  const anchorStyle = {\n    backgroundColor: \"#29698f\"\n  }\n\n  const updateField = e => {\n    setData({\n      ...data,\n      [e.target.name]: e.target.value\n    });\n  }\n\n\n\n\n  const Guardar = async (id)=>{\n\n      if (data.nombre==\"\"){\n        data.nombre = items.nombre\n      }\n      if (data.horario==\"\") {\n        data.horario = items.horario\n      }\n      if (data.tarjeta!==\"\") {\n        if(data.tarjeta==\"no\" || data.tarjeta==\"No\" ){\n            data.tarjeta = 0\n        }else if (data.tarjeta==\"si\" || data.tarjeta==\"Si\") {\n              data.tarjeta = 1\n        }\n      }else if (data.tarjeta ==\"\") {\n        data.tarjeta = items.tarjeta\n      }\n\n      if (data.id_tipo_tienda!==\"\") {\n        if(data.id_tipo_tienda==\"cooperativa\" || data.id_tipo_tienda==\"Cooperativa\"){\n            data.id_tipo_tienda = 1\n        }else if (data.id_tipo_tienda==\"puesto\" || data.id_tipo_tienda==\"Puesto\") {\n              data.id_tipo_tienda = 2\n        }else if (data.id_tipo_tienda==\"cafeteria\" || data.id_tipo_tienda==\"Cafeteria\") {\n              data.id_tipo_tienda = 3\n        }\n      }else if (data.id_tipo_tienda == \"\") {\n        data.id_tipo_tienda = items.id_tipo_tienda\n      }\n\n      if (data.url_imagen==\"\") {\n        if (url == \"\") {\n          data.url_imagen = items.url_imagen\n        }else {\n          data.url_imagen = url\n        }\n\n      }\n      const body = data;\n      console.log(data);\n      try{\n            const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/${user.id}`,\n            {\n                method: \"PUT\",\n                headers: {\"Content-Type\":\"application/json\"},\n                body: JSON.stringify(body)\n\n            });\n            fetchitems();\n\n\n      }catch(err){\n          console.error(err)\n\n      }\n  }\n\n\n\n\n    return(\n        <Fragment>\n\n\n          <div class=\"container\">\n\n                  <div class=\"row\">\n                      <div class=\"col-md-6\">\n                          <div class=\"card\">\n\n                            <div className=\"top container-item izq\">\n                                <Link to=\"/panel\">\n                                <a className=\"atras izq\" href=\"\">\n                                    <h6 className=\"izq\">← Atras</h6>\n                                </a>\n                                </Link>\n                                <h6 className=\"izq\">| Mi información</h6>\n                            </div>\n\n                            <div class=\"card-body\">\n                              \n                              <div class=\"card-title mb-4\">\n                                  <div class=\"justify-content-start\">\n                                  <h2 class=\"d-block\" >Mi Información</h2>\n                                          <hr/>\n                                      <h2 class=\"d-block\">{items.nombre}</h2>\n                                      <div class=\"image-container\">\n                                          <img className=\"rounded\" src={items.url_imagen ||\"https://via.placeholder.com/300x300\"} id=\"imgProfile\"   width=\"100%\" height=\"100%\"/>\n                                      </div>\n\n                                      \n                                      <div class=\"ml-auto\">\n                                          <input type=\"button\" class=\"btn btn-primary d-none\" id=\"btnDiscard\" value=\"Discard Changes\" />\n                                    </div>\n\n                                  </div>\n                                </div>\n                              </div>\n                              </div>\n                              </div>\n\n\n                              <div class=\"col-6\">      \n\n                                    <ul class=\"nav nav-tabs mb-4\" id=\"myTab\" role=\"tablist\">\n                                      <li class = \"nav-item mx-4 px-2\">\n                                        <a class=\"nav-link active mx-4\" id=\"MyInfo-tab\" data-toggle=\"tab\" href=\"#MyInfo\" role=\"tab\" aria-controls=\"MyInfo\" aria-selected=\"true\">Perfil</a>\n                                      </li>\n                                      <li class = \"nav-item mx-4 px-2\">\n                                        <a class=\"nav-link mx-4\" id=\"MapaInfo-tab\" data-toggle=\"tab\" href=\"#MapaInfo\" role=\"tab\" aria-controls=\"MapaInfo\" aria-selected=\"false\">Mapa</a>\n                                      </li>\n                                    </ul>\n\n\n                                    <div class=\"tab-content mx-2\" id=\"myTabContent\">\n                                        <div class=\"tab-pane fade show active\" id=\"MyInfo\" role=\"tabpanel\" aria-labelledby=\"MyInfo-tab\">\n                                          <div className=\"container text-center\">\n                                          <table className=\"table table-striped text-left\">\n\n                                              <tbody>\n                                                <tr>\n                                                      <tr><th>Nombre tienda</th>\n                                                            <td>{items.nombre}</td>\n                                                      </tr>\n                                                      <tr><th>Horario</th>\n                                                            <td>{items.horario}</td>\n                                                      </tr>\n                                                      <tr><th>Acepta tarjeta</th>\n                                                            <td>{items.tarjeta ? 'Si':'No'}</td>\n                                                      </tr>\n                                                      <tr><th>Tipo de tienda</th>\n                                                            <td>{TipoTienda()}</td>\n                                                      </tr>\n                                                  </tr>\n                                            </tbody>\n                                          </table>\n                                          \n                                          <button type=\"button\" className=\"btn btn-primary mx-auto\" data-toggle=\"modal\" href=\"#Editar\">Editar Mi Informacion</button>\n                                          </div>\n                                        </div>\n\n\n                                        <div class=\"tab-pane fade text-center\" id=\"MapaInfo\" role=\"tabpanel\" aria-labelledby=\"MapaInfo-tab\">\n                                          <MiUbicacion info={items} Guardar={GuardarUbi} setLocation={setLocation} markerPosition={markerPosition}/>\n                                        </div>\n                                    </div>                             \n\n                          </div>\n                      </div>\n             \n            </div>\n            <div id=\"Editar\" class=\"modal fade\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                            <h4 class=\"modal-title\">Editar Mi Información</h4>\n                        </div>\n                        <div class=\"modal-body\">\n\n                            <form>\n                            <div className=\"form-group my-2\">\n                              <label for=\"nombre\">Nombre de Tienda</label>\n                                <input\n                                id=\"nombre\"\n                                type=\"text\"\n                                name=\"nombre\"\n                                className=\"form-control\"\n                                value={data.nombre}\n                                onChange={updateField}\n                                ></input>\n                              </div>\n\n                              <div className=\"form-group my-2\">\n                              <label for=\"horario\">Horario</label>\n                                <input\n                                    id=\"horario\"\n                                    type=\"text\"\n                                    name=\"horario\"\n                                    className=\"form-control\"\n                                    value={data.horario}\n                                    onChange={updateField}\n                                    ></input>\n                              </div>\n                              \n                              <div className=\"form-group my-2\">\n                              <label for=\"tarjeta\">Acepta tarjeta?</label>\n                              {/* <p><small>Si/No</small></p> */}\n                                <input\n                                    id=\"tarjeta\"\n                                    type=\"text\"\n                                    name=\"tarjeta\"\n                                    className=\"form-control\"\n                                    value={data.tarjeta}\n                                    onChange={updateField}\n                                    ></input>\n                              </div>\n                              \n                              <div className=\"form-group my-2\">\n                              <label for=\"id_tipo_tienda\">Tipo de tienda</label>\n                              {/* <p><small>Cooperativa/Puesto/Cafeteria</small></p> */}\n                                <input\n                                    id=\"id_tipo_tienda\"\n                                    type=\"text\"\n                                    name=\"id_tipo_tienda\"\n                                    className=\"form-control\"\n                                    value={data.id_tipo_tienda}\n                                    onChange={updateField}\n                                    ></input>\n                              </div>\n                              <div className=\"form-group my-2\">\n                                <label htmlFor=\"profilePicture\">Subir Imagen</label>\n\n                                <div>\n                                  <input\n                                      id=\"id_tipo_tienda\"\n                                      type=\"text\"\n                                      name=\"id_tipo_tienda\"\n                                      className=\"form-control\"\n\n                                      onChange={updateField}\n                                      ></input>\n                                  </div>\n                                </div>\n                                <div className=\"form-group\">\n                                <label>Subir Imagen</label>\n                                  <div>\n                                    <input type=\"file\" id=\"profilePicture\" name=\"file\" onChange={handleChange} />\n                                    <br/>\n                                    <progress value={progress} max=\"100\"/>\n                                    <br/>\n                                    {/* <button onClick={handleUpload}>UPLOAD</button> */}\n                                  </div>\n                              </div>\n                              </form>\n                        </div>\n                        \n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                            <button type=\"button\" class=\"btn btn-success\" data-dismiss=\"modal\" onClick={()=>Guardar(user.id)}>Guardar</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n                        \n               \n        </Fragment>\n    )\n}\n\nexport default MiInfo;\n","import React, {Fragment, useContext, useState, useEffect, fetchitems} from 'react';\nimport {Link} from 'react-router-dom';\nimport './MenuTienda.css';\nimport { UserContext } from '../../UserContext'\n\nconst MenuTienda = ()=> {\n\n    return(\n\n        <Fragment>\n            <Arriba/>\n        </Fragment>\n    );\n}\n\nfunction Arriba() {\n\n    const {user, setUser} = useContext(UserContext);\n    \n    const [items, setItems] = useState([]);\n\n    useEffect(() =>{\n        fetchitems();\n    }, []);\n\n    const fetchitems = async (id) => {\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/${user.id}`);\n        const  it= await data.json();\n        setItems(it[0]);\n    }\n\n    return(\n        <div className=\"mainContainer\">\n            <div className=\"top-container\">\n                <div className=\"top-container-item izq\">\n                    <Link to=\"/panel\">\n                    <a className=\"atras izq\" href=\"\">\n                        <h6 className=\"izq\">← Atras</h6>\n                    </a>\n                    </Link>\n                    <h6 className=\"izq\">| Menú</h6>\n                </div>\n                <div className=\"top-container-item\">\n                    <h4>{items.nombre}</h4>\n                    <img alt=\"Imagen de perfil\" src={items.url_imagen||\"https://via.placeholder.com/300x300\"} className=\"imagen\"></img>\n                </div>\n                <div className=\"top-container-item der\">\n                    <Link to='/panel/Menu/EditarMenu'>\n                        <button  className=\"btn btn-info der\">Editar Menú</button>\n                    </Link>\n                </div>\n                <div className=\"container m\">\n                    <select class=\"custom-select\" id=\"ordenar\">\n                        <option selected>Ordenar por</option>\n                        <option value=\"1\">Precio</option>\n                        <option value=\"2\">Calificación</option>\n                    </select>\n                </div>\n            </div>\n            <hr/>\n            <Menu />\n        </div>\n    );\n}\n\nfunction Menu() {\n\n    const {user, setUser} = useContext(UserContext);\n    const [productos, setProductos] = useState([]);\n\n\n    useEffect(() =>{\n        fetchitems();\n    }, []);\n\n    const fetchitems = async (id) => {\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/${user.id}`);\n        const  it= await data.json();\n        const data2 = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/${it[0].id}`);\n        const it2 = await data2.json();\n        setProductos(it2);\n    }\n    \n\n\n    if(productos.length > 0) {\n        return(\n            <div className=\"menu-container\">\n                <div className=\"row\">\n                    {productos.map(producto => (\n                        <div className=\"menuItem\">\n                            <img alt={\"Imagen de producto: \" + producto.nombre} src={producto.url_imagen||\"https://via.placeholder.com/300x300\"} className=\"productoImagen\"></img>\n                            <p className=\"nomargin\">{producto.nombre}</p>\n                            <p className=\"nomargin\">${Number.parseFloat(producto.precio).toFixed(2)}</p>\n                        </div>\n                    ))}\n                    \n                    \n                </div>\n                \n            </div>\n        );\n    } else {\n        return(\n            <div className=\"menu-container\">\n                <div className=\"row\">\n                    <div className=\"menuItem\">\n                        <p className=\"nomargin\">Aun no ha agregado ningun producto.</p>\n                    </div>\n                </div>\n                \n            </div>\n        );\n    }\n}\n\nexport default MenuTienda;","import React, {Fragment, useState, useEffect, fetchitems, useContext, Component} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport './EditarMenu.css';\nimport { UserContext } from '../../UserContext'\nimport {storage} from '../../firebase'\nimport { render } from \"react-dom\" ;\n\nclass EditarMenu extends Component {\n    constructor (props) {\n        super(props);\n        this.state={\n            name: \"productos\"\n        }\n    }\n    render(){\n\n        return(\n\n            <Fragment>\n                <div className=\"mainContainer\">\n                    <div className=\"top-container\">\n                        <div className=\"top-container-item izq\">\n                            <Link to=\"/panel/Menu\">\n                            <a className=\"atras izq\" href=\"\">\n                                <h6 className=\"izq\">← Atras</h6>\n                            </a>\n                            </Link>\n                            <h6 className=\"izq\">| Menú</h6>\n                        </div>\n\n                        <div className=\"top-container-item der\">\n                            <Link to='/panel/Menu/EditarMenu/AgregarProducto'>\n                                <button  className=\"btn btn-success der\">Agregar producto</button>\n                            </Link>\n                        </div>\n                    </div>\n                    <div className=\"container tabla\">\n                        <Tabla/>\n                    </div>\n                </div>\n            </Fragment>\n        );\n    }\n}\n\nfunction Tabla() {\n    const {user, setUser} = useContext(UserContext);\n    const [items, setItems] = useState([]);\n\n    useEffect(() =>{\n        fetchitems();\n    });\n\n\n\n\n    const fetchitems = async (id) => {\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/${user.id}`);\n        const  it= await data.json();\n        const data2 = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/${it[0].id}`);\n        const it2 = await data2.json();\n        setItems(it2);\n    }\n    if (items.length > 0) {\n        return(\n            <div>\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\">Nombre</th>\n                    <th scope=\"col\">Precio</th>\n                    <th scope=\"col\">Categoria</th>\n                    <th scope=\"col\">Accion</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {items.map(item => (\n                    <tr>\n                    <td>{item.nombre}</td>\n                    <td>${Number.parseFloat(item.precio).toFixed(2)}</td>\n                    <td>{item.categoria}</td>\n                    <td>\n                        <Editar item={item}/>\n                        <Eliminar item={item}/>\n                    </td>\n                    </tr>\n                    ))}\n                </tbody>\n            </table>\n\n\n            </div>\n        );\n    } else {\n        return(\n            <div className=\"text-center\">\n                <h4 >Aun no ha agregado ningun producto.</h4>\n            </div>\n        );\n    }\n}\n\nfunction Editar(props) {\n    return(\n        <Fragment>\n            <a href={\"#editar\" + props.item.id} role=\"button\" className=\"btn btn-info mr\" data-toggle=\"modal\">\n                Editar\n            </a>\n            <ModalEditar item={props.item}/>\n        </Fragment>\n    );\n}\n\nfunction Eliminar (props){\n\n    return(\n        <Fragment>\n            <a href={\"#eliminar\" + props.item.id} role=\"button\" className=\"btn btn-danger\" data-toggle=\"modal\">\n                Eliminar\n            </a>\n            <Modal item={props.item}></Modal>\n\n        </Fragment>\n\n    );\n\n}\n\nfunction ModalEditar(props){\n\n    const [url, setUrl] = useState(\"\");\n    const [progress, setProgress] = useState(0);\n\n    const handleChange = e => {\n      if (e.target.files[0]){\n        handleUpload(e.target.files[0]);\n      }\n    };\n\n    const handleUpload = (file) => {\n      const uploadTask = storage.ref(`images/${file.name}`).put(file);\n      uploadTask.on(\n        \"state_changed\",\n        snapshot => {\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          setProgress(progress);\n        },\n        error => {\n          console.log(error);\n        },\n        () => {\n          storage\n            .ref(\"images\")\n            .child(file.name)\n            .getDownloadURL()\n            .then(url => {\n              setUrl(url)\n              console.log(url)\n            });\n          }\n        );\n    }\n\n    const [data, setData] = useState({\n        nombre: props.item.nombre,\n        id_tienda: props.item.id_tienda,\n        precio: props.item.precio,\n        categoria: props.item.categoria,\n        url_imagen: props.item.url_imagen,\n        descripcion: props.item.descripcion\n    });\n\n\n    const updateField = e => {\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        });\n    }\n\n\n    let history = useHistory();\n\n    const seCancela = () =>{\n        setData({\n            nombre: props.item.nombre,\n            id_tienda: props.item.id_tienda,\n            precio: props.item.precio,\n            categoria: props.item.categoria,\n            url_imagen: props.item.url_imagen,\n            descripcion: props.item.descripcion\n        });\n        setProgress(0)\n        setUrl(\"\")\n        console.log(props.item.url_imagen)\n    }\n\n    const editarClick = async(idProducto,idTienda) => {\n\n        // if (data.url_imagen==\"\") {\n        //     if (url == \"\") {\n        //       data.url_imagen = props.item.url_imagen\n        //     }\n\n        // } else {\n        //     data.url_imagen = url;\n        // }\n\n        if (url==\"\") {\n            data.url_imagen= props.item.url_imagen\n        } else {\n            data.url_imagen = url;\n\n        }\n        setProgress(0)\n        setUrl(\"\")\n\n        if (data.nombre!==\"\" && data.precio !==\"\" && data.categoria!=\"\") {\n            const body = data;\n            const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/editarProducto/${props.item.id}`, {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(body)\n            })\n        }\n    }\n\n    return(\n        <div id={\"editar\" + props.item.id} class=\"modal fade\">\n            <div class=\"modal-dialog modal-lg\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"modal-title\">Editar</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <form className=\"\">\n\n                            <div className=\"form-group row\">\n                                <label for=\"nombre\" className=\"col-sm-2 col-form-label\">Nombre:</label>\n                                <div className=\"col-sm-10\">\n                                    <input type=\"text\" className=\"form-control\" id=\"nombre\" name=\"nombre\" value={data.nombre} onChange={updateField}></input>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label for=\"precio\" className=\"col-sm-2 col-form-label\">Precio:</label>\n                                <div className=\"col-sm-10\">\n                                    <input type=\"number\" className=\"form-control\" id=\"precio\" name=\"precio\" value={data.precio} onChange={updateField} min=\"0\"></input>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label for=\"categoria\" className=\"col-sm-2 col-form-label\">Categoría:</label>\n                                <div className=\"col-sm-10\">\n                                    <input type=\"text\" className=\"form-control\" id=\"categoria\" name=\"categoria\" value={data.categoria} onChange={updateField}></input>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label for=\"imagen\" className=\"col-sm-2 col-form-label\">Imagen:</label>\n                                <div className=\"col-sm-10\">\n                                    <input type=\"file\" id=\"imagen\" name=\"file\" onChange={handleChange}></input>\n                                    <br/>\n                                        <progress value={progress} max=\"100\"/>\n                                    <br/>\n                                </div>\n                                <div className=\"col-sm-10 text-center\">\n                                    <img alt={\"Imagen del producto: \" + props.item.nombre} src={url||data.url_imagen||\"https://via.placeholder.com/300x300\"} className=\"imagenP\"></img>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label for=\"descripcion\" className=\"col-sm-2 col-form-label\">Descripción:</label>\n                                <div className=\"col-sm-10\">\n                                    <textarea className=\"form-control\" id=\"descripcion\" rows=\"5\" name=\"descripcion\" value={data.descripcion} onChange={updateField}></textarea>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" onClick={seCancela}>Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-info\" data-dismiss=\"modal\"  onClick={editarClick}>Editar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction Modal(props){\n\n\n    let history = useHistory();\n\n\n    const eliminarClick = async(idProducto,idTienda) => {\n        const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/eliminarProducto/${props.item.id}/${props.item.id_tienda}`, {\n            method: \"DELETE\"\n        });\n    }\n\n    return(\n        <div id={\"eliminar\" + props.item.id} class=\"modal fade\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                        <h4 class=\"modal-title\">¿Estás seguro?</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <p>¿Seguro que quieres borrar {props.item.nombre}?</p>\n                        <p class=\"text-warning\"><small>Si lo borras, nunca podrás recuperarlo.</small></p>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\"  onClick={eliminarClick}>Eliminar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default EditarMenu;\n","import React, {Fragment, useState, useContext, useEffect} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport './AgregarProducto.css';\nimport { UserContext } from '../../UserContext'\nimport { Component } from 'react';\nimport { render } from '@testing-library/react';\nimport {storage} from '../../firebase'\n\n\nclass AgregarProducto extends Component {\n\n    constructor (props) {\n        super(props);\n        this.state={\n            name: \"agregar producto\"\n        }\n    }\n\n\n    render(){\n        return(\n\n            <Fragment>\n                <div className=\"mainContainer h\">\n                    <div className=\"top-container\">\n                        <div className=\"top-container-item izq\">\n                            <Link to=\"/panel/Menu/EditarMenu\">\n                            <a className=\"atras izq\" href=\"/\">\n                                <h6 className=\"izq\">← Atras</h6>\n                            </a>\n                            </Link>\n                            <h6 className=\"izq\">| Agregar Producto</h6>\n                        </div>\n                    </div>\n                    <div class=\"mainContainer alinear\">\n                        <Formulario />\n                        \n                        \n                    </div>\n                </div>\n            </Fragment>\n        );\n\n    }\n    \n\n    \n}\n\n\nfunction Formulario () {\n\n    const [url, setUrl] = useState(\"\");\n    const [progress, setProgress] = useState(0);\n\n    const handleChange = e => {\n      if (e.target.files[0]){\n        handleUpload(e.target.files[0]);\n      }\n    };\n\n    const handleUpload = (file) => {\n      const uploadTask = storage.ref(`images/${file.name}`).put(file);\n      uploadTask.on(\n        \"state_changed\",\n        snapshot => {\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          setProgress(progress);\n        },\n        error => {\n          console.log(error);\n        },\n        () => {\n          storage\n            .ref(\"images\")\n            .child(file.name)\n            .getDownloadURL()\n            .then(url => {\n              setUrl(url)\n              console.log(url)\n            });\n          }\n        );\n    }\n\n    let history = useHistory();\n\n\n    const [data, setData] = useState({\n        nombre: '',\n        id_tienda: '',\n        precio: '',\n        categoria: 'Comida',\n        url_imagen: '',\n        descripcion: ''\n    });\n\n    const {user, setUser} = useContext(UserContext);\n    const [items, setItems] = useState([]);\n\n    useEffect(() =>{\n        fetchitems();\n    }, []);\n\n    const fetchitems = async (id) => {\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/${user.id}`);\n        const  it= await data.json();\n        setItems(it[0]);\n        console.log(items);\n    }\n\n\n    const updateField = e => {\n    setData({\n        ...data,\n        [e.target.name]: e.target.value\n    });\n    }\n    console.log(data);\n\n    const onSubmitForm = async e => {\n\n        \n        data.url_imagen = url;\n        \n        e.preventDefault();\n        if (data.nombre!==\"\" && data.precio !==\"\" && data.categoria!=\"\") {\n            const body = data;\n            const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/nuevoProducto', {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(body)\n            })\n            history.push(\"/panel/Menu/EditarMenu\");\n        }\n    }\n\n    data.id_tienda = items.id;\n\n    return(\n        <Fragment>\n            <form className=\"formulario\" onSubmit={onSubmitForm}>\n                \n                <div className=\"form-group row\">\n                    <label for=\"nombre\" className=\"col-sm-2 col-form-label\">Nombre:</label>\n                    <div className=\"col-sm-10\">\n                        <input type=\"text\" className=\"form-control\" id=\"nombre\" name=\"nombre\" value={data.nombre} onChange={updateField}></input>\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label for=\"precio\" className=\"col-sm-2 col-form-label\">Precio:</label>\n                    <div className=\"col-sm-10\">\n                        <input type=\"number\" className=\"form-control\" id=\"precio\" name=\"precio\" value={data.precio} onChange={updateField} min=\"0\"></input>\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label for=\"categoria\" className=\"col-sm-2 col-form-label\">Categoría:</label>\n                    <div className=\"col-sm-10\">\n                        <select class=\"form-control form-control-sm\" id=\"categoria\" name=\"categoria\" value={data.categoria} onChange={updateField}>\n                            <option>Comida</option>\n                            <option>Postre</option>\n                            <option>Botana</option>\n                        </select>\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label for=\"imagen\" className=\"col-sm-2 col-form-label\">Imagen:</label>\n                    <div className=\"col-sm-10\">\n                        <input type=\"file\" id=\"imagen\" name=\"file\" onChange={handleChange}></input>\n                        <br/>\n                            <progress value={progress} max=\"100\"/>\n                        <br/>\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label for=\"descripcion\" className=\"col-sm-2 col-form-label\">Descripción:</label>\n                    <div className=\"col-sm-10\">\n                        <textarea className=\"form-control\" id=\"descripcion\" rows=\"5\" name=\"descripcion\" value={data.descripcion} onChange={updateField}></textarea>\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <div className=\"col-sm-10 m-auto\">\n                        <Link to=\"/panel/Menu/EditarMenu\">\n                            <button className=\"btn btn-danger ml float-right\">Cancelar</button>\n                        </Link>\n                        <button className=\"btn btn-success float-right\" type=\"submit\">Guardar</button>\n                    </div>\n                </div>\n                \n            </form>\n            <div className=\"imagenContainer align-top\">\n                <img alt=\"imagen del producto\" src={url||data.url_imagen||\"https://via.placeholder.com/300x300\"} className=\"imagenP\"></img>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default AgregarProducto;","import React, {Fragment, useState, useContext, useEffect} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport './AgregarProducto.css';\nimport { UserContext } from '../../UserContext'\nimport { Component } from 'react';\nimport { render } from '@testing-library/react';\n\n\nclass EditarProducto extends Component {\n\n    constructor (props) {\n        super(props);\n        this.state={\n            name: \"agregar producto\"\n        }\n    }\n\n\n    render(){\n        const { match: {params } } = this.props;\n        return(\n\n            <Fragment>\n                <div className=\"mainContainer h\">\n                    <div className=\"top-container\">\n                        <div className=\"top-container-item izq\">\n                            <Link to=\"/panel/Menu/EditarMenu\">\n                            <a className=\"atras izq\" href=\"/\">\n                                <h6 className=\"izq\">← Atras</h6>\n                            </a>\n                            </Link>\n                            <h6 className=\"izq\">| Editar Producto</h6>\n                        </div>\n                    </div>\n                    <div class=\"mainContainer alinear\">\n                        <Formulario id={params.id}></Formulario>\n                        <div className=\"imagenContainer align-top\">\n                            <div className=\"imagenP\"></div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </Fragment>\n        );\n\n    }\n}\n\nfunction Formulario(props) {\n    let history = useHistory();\n\n    const [data, setData] = useState({\n        nombre: '',\n        id_tienda: '',\n        precio: '',\n        categoria: '',\n        imagen: '',\n        descripcion: ''\n    });\n\n    const {user, setUser} = useContext(UserContext);\n    const [producto, setProducto] = useState([]);\n\n    useEffect(() =>{\n        fetchitems();\n    }, []);\n\n    const fetchitems = async (idTienda, idProducto) => {\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/miTienda/${user.id}`);\n        const  it= await data.json();\n        const data2 = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/productosTienda/${it[0].id}/${props.id}`);\n        const it2 = await data2.json();\n        setProducto(it2[0]);\n        data.nombre = it2[0].nombre;\n    }\n\n\n\n    const updateField = e => {\n    setData({\n        ...data,\n        [e.target.name]: e.target.value\n    });\n    }\n\n    const onSubmitForm = async e => {\n\n        \n        e.preventDefault();\n        if (data.nombre!==\"\" && data.precio !==\"\" && data.categoria!=\"\") {\n            const body = data;\n            const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/editarProducto/${producto.id}`, {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(body)\n            })\n            history.push(\"/panel/Menu/EditarMenu\");\n        }\n    }\n\n    console.log(data);\n    \n    data.id_tienda=producto.id_tienda;\n    return(\n        <form className=\"formulario\" onSubmit={onSubmitForm}>\n            \n            <div className=\"form-group row\">\n                <label for=\"nombre\" className=\"col-sm-2 col-form-label\">Nombre:</label>\n                <div className=\"col-sm-10\">\n                    <input type=\"text\" className=\"form-control\" id=\"nombre\" name=\"nombre\" value={data.nombre} onChange={updateField}></input>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <label for=\"precio\" className=\"col-sm-2 col-form-label\">Precio:</label>\n                <div className=\"col-sm-10\">\n                    <input type=\"number\" className=\"form-control\" id=\"precio\" name=\"precio\" value={data.precio} onChange={updateField} min=\"0\"></input>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <label for=\"categoria\" className=\"col-sm-2 col-form-label\">Categoría:</label>\n                <div className=\"col-sm-10\">\n                    <input type=\"text\" className=\"form-control\" id=\"categoria\" name=\"categoria\" value={data.categoria} onChange={updateField}></input>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <label for=\"imagen\" className=\"col-sm-2 col-form-label\">Imagen:</label>\n                <div className=\"col-sm-10\">\n                    <input type=\"file\" className=\"form-control-file\" id=\"imagen\" name=\"imagen\" value={data.imagen} onChange={updateField}></input>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <label for=\"descripcion\" className=\"col-sm-2 col-form-label\">Descripción:</label>\n                <div className=\"col-sm-10\">\n                    <textarea className=\"form-control\" id=\"descripcion\" rows=\"5\" name=\"descripcion\" value={data.descripcion} onChange={updateField}></textarea>\n                </div>\n            </div>\n            <div className=\"form-group row\">\n                <div className=\"col-sm-10 m-auto\">\n                    <Link to=\"/panel/Menu/EditarMenu\">\n                        <button className=\"btn btn-danger ml float-right\">Cancelar</button>\n                    </Link>\n                    <button className=\"btn btn-success float-right\" type=\"submit\">Guardar</button>\n                </div>\n            </div>\n            \n        </form>\n        );\n}\n\n\nexport default EditarProducto;","import React, {Fragment, useEffect, useState, useContext} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport { UserContext } from '../../UserContext'\nimport TiendaNavBar from './TiendaNavBar';\nimport {Link} from 'react-router-dom';\nimport './MenuTienda.css';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport { Modal, Button, Card, Accordion } from \"react-bootstrap\";\n\n\nconst Tarjeta = () => {\n\n  return (<Fragment>\n    <InfoBancaria/>\n  </Fragment>);\n}\n\nfunction InfoBancaria() {\n  let history = useHistory()\n  const [items, setItems] = useState([])\n  const {user, setUser} = useContext(UserContext);\n\n  const fetchitems = async (id)=>{\n      const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${user.id}`);\n      const  it= await data.json();\n      setItems(it[0]);\n  };\n\n  useEffect(()=>{\n      fetchitems();\n  }, []);\n\n  const updateField = e => {\n    setData({\n      ...data,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  const [data, setData] = useState({\n    nombre_titular:'',\n    num_tarjeta: '',\n    exp_date: '',\n    cvv: '',\n    cpp: ''});\n\n    function validarcpp(cpp) {\n      const regex_cpp = new RegExp(/\\d{5}/);\n      if (!regex_cpp.test(cpp) ) {\n        return alert('Introduce un codigo postal valido de 5 digitos ');\n      }\n    }\n    function validarnum(num_tarjeta) {\n      const regex_numtarjeta = new RegExp(/(\\d{4} *\\d{4} *\\d{4} *\\d{4})/);\n      if(!regex_numtarjeta.test(num_tarjeta)) {\n         return alert('Introduce un numero de tarjeta valido de 16 digitos ');\n      }\n    }\n    function validarexo(exp_date) {\n      const regex_expdate =  new RegExp(/(\\d{2})\\/?(\\d{2})/);\n      if(!regex_expdate.test(exp_date)){\n        return alert('Introduce bien el mes/año');\n      }\n    }\n\n    function validarcvv(cvv) {\n      const regex_cvv = new RegExp(/\\d{3}/);\n      if (!regex_cvv.test(cvv)) {\n        return alert('Introduce el código de 3 digitos ');\n      }\n    }\n\n    const GuardarNueva = async (id)=>{\n      if (validarnum(data.num_tarjeta) != true) {\n      }\n      if (validarexo(data.exp_date) != true ) {\n      }\n      if (validarcvv(data.cvv) != true) {\n      }\n      if (validarcpp(data.cpp) != true ) {\n      }\n      if (data.num_tarjeta !==\"\" && data.exp_date != \"\" && data.nombre_titular != \"\" && data.cvv != \"\" && data.cpp != \"\") {\n      } \n        try{\n              const body = data;\n              const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${user.id}`,\n              {\n                  method: \"POST\",\n                  headers: {\"Content-Type\":\"application/json\"},\n                  body: JSON.stringify(body)\n              });\n              fetchitems();\n        }catch(err){\n            console.error(err)\n        }\n\n    }\n  return (\n    <>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"card\">\n            <div className=\"top container-item izq\">\n              <Link to=\"/panel\">\n                <a className=\"atras izq\" href=\"\">\n                  <h6 className=\"izq\">← Atras</h6>\n                </a>\n              </Link>\n              <h6 className=\"izq\">| Tarjeta</h6>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"card-title mb-4\">\n                <div class=\"d-flex\">\n                  <div class=\"userData ml-3 ml-3\">\n                    <h2 class=\"d-block\">Información Bancaria</h2>\n                    <hr/>\n                  </div>\n                </div>\n              </div>\n              \n              <div class=\"row\">\n                <hr/>\n                <button type=\"button\" class=\"btn btn-info\" data-toggle=\"modal\" href=\"#Agregar\">Agregar Nueva Información Bancaria</button>\n                </div>\n                <Info/>\n              </div>\n              \n            </div>\n          </div>\n        </div>\n\n      <div id=\"Agregar\" class=\"modal fade\">\n\n          <div class=\"modal-dialog\">\n              <div class=\"modal-content\">\n                  <div class=\"modal-header\">\n                      <h4 class=\"modal-title\">Información Bancaria</h4>\n                      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                  </div>\n                  <div class=\"modal-body\">\n                        <label for=\"nombre\">Titular de la tarjeta</label>\n                        <div>\n                          <input\n                          class=\"form-control\"\n                          id=\"nombre_titular\"\n                          type=\"text\"\n                          name=\"nombre_titular\"\n                          value={data.nombre_titular}\n                          onChange={updateField}\n                          ></input>\n                        </div>\n                        <label for=\"num_tarjeta\">Número de tarjeta</label>\n                        <p><small>Ingresa un número de tarjeta de 16 digitos </small></p>\n                         <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"num_tarjeta\"\n                              type=\"tel\"\n                              name=\"num_tarjeta\"\n                              value={data.num_tarjeta}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                        <label for=\"exp_date\">Fecha Expiración</label>\n                        <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"exp_date\"\n                              type=\"tel\"\n                              name=\"exp_date\"\n                              placeholder=\"MM / YY\"\n                              value={data.exp_date}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                        <label for=\"cvv\">Cvv</label>\n                        <p><small> Código de 3 digitos de la parte trasera de tu tarjeta</small></p>\n                        <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"cvv\"\n                              type=\"tel\"\n                              name=\"cvv\"\n                              value={data.cvv}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                        <label for=\"cpp\">Código Postal</label>\n                        <div>\n                          <input\n                              class=\"form-control\"\n                              id=\"cpp\"\n                              type=\"text\"\n                              name=\"cpp\"\n                              value={data.cpp}\n                              onChange={updateField}\n                              ></input>\n                        </div>\n                  </div>\n                  <div class=\"modal-footer\">\n                      <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                      <button type=\"button\" class=\"btn btn-success\" data-dismiss=\"modal\"onClick={()=>GuardarNueva(user.id)}>Guardar</button>\n                  </div>\n              </div>\n          </div>\n      </div>\n      \n  </div>\n</>\n)}\n\nfunction Info() {\n  const {user, setUser} = useContext(UserContext);\n  const [infobank, setInfobank] = useState([]);\n  const [data, setData] = useState({\n    nombre_titular:'',\n    num_tarjeta: '',\n    exp_date: '',\n    cvv: '',\n    cpp: ''});\n    const updateField = e => {\n      setData({\n        ...data,\n        [e.target.name]: e.target.value\n      });\n    }\n  useEffect(() =>{\n      fetchitems();\n  }, []);\n\n\n  const fetchitems = async (id)=>{\n      const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${user.id}`);\n      const  it= await data.json();\n      setInfobank(it);\n  };\n\n  const Editar = async (infobanks)=>{\n    console.log(infobanks);\n    try{\n          console.log(\"ESTO ES DATA \", data);\n          const body = data;\n          const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${infobanks.id}`,\n          {\n              method: \"PUT\",\n              headers: {\"Content-Type\":\"application/json\"},\n              body: JSON.stringify(body)\n          });\n          fetchitems();\n    }catch(err){\n      console.log(err);\n        console.error(err)\n    }\n  }\n\n  if(infobank ==null || infobank.length ==0) {\n        return(\n          <>\n            <div className=\"menu-container\">\n                <div className=\"row\">\n                    <div className=\"menuItem\">\n                        <p className=\"nomargin\">Aun no ha agregado ninguna tarjeta.</p>\n                    </div>\n                </div>\n            </div>\n            </>\n        );}\n\n    if (infobank.length > 0) {\n      return(\n          <>\n                  {infobank.map(infobanks => (\n                      <div>\n                        <Accordion>\n                          <Card>\n                            <Card.Header>\n                              <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n                                Tarjeta\n                              </Accordion.Toggle>\n                            </Card.Header>\n                            <Accordion.Collapse eventKey=\"0\">\n                              <Card.Body>\n                                <p><b>Titular: </b>{infobanks.nombre_titular}</p>\n                                <p><b>Numero Tarjeta:</b> {infobanks.num_tarjeta}</p>\n                                <p><b>Fecha expiración:</b> {infobanks.exp_date}</p>\n                                <p><b>CVV:</b> {infobanks.cvv}</p>\n                                <p><b>CPP:</b> {infobanks.cpp}</p>\n                                <CAMBIAR infobanks={infobanks}/>\n                              </Card.Body>\n                            </Accordion.Collapse>\n                          </Card>\n                        </Accordion>\n                      </div>\n                  ))}\n          </>\n      );\n    }}\n\n    function CAMBIAR(props){\n      return(\n        <>\n        <a href={\"#editar\" + props.infobanks.id} role=\"button\" className=\"btn btn-primary btn-sm\" data-toggle=\"modal\">\n        Editar\n        </a>\n        <ModalEDITAR infobanks={props.infobanks}/>\n        </>\n      )\n    }\n\n    function ModalEDITAR(props){\n        let history = useHistory();\n        const [data, setData] = useState({})\n        const updateField = e => {\n          setData({\n            ...data,\n            [e.target.name]: e.target.value\n          });\n        }\n      useEffect(() =>{\n          fetchitems();\n      }, []);\n\n\n      const fetchitems = async (id)=>{\n          const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${props.infobanks.id}`);\n          const  it= await data.json();\n      };\n\n        function validarcpp(cpp) {\n          const regex_cpp = new RegExp(/\\d{5}/);\n          if (!regex_cpp.test(cpp) ) {\n            return alert('Introduce un codigo postal valido de 5 digitos ');\n          }\n        }\n        function validarnum(num_tarjeta) {\n          const regex_numtarjeta = new RegExp(/(\\d{4} *\\d{4} *\\d{4} *\\d{4})/);\n          if(!regex_numtarjeta.test(num_tarjeta)) {\n             return alert('Introduce un numero de tarjeta valido de 16 digitos ');\n          }\n        }\n        function validarexo(exp_date) {\n          const regex_expdate =  new RegExp(/(\\d{2})\\/?(\\d{2})/);\n          if(!regex_expdate.test(exp_date)){\n            return alert('Introduce bien el mes/año');\n          }\n        }\n\n        function validarcvv(cvv) {\n          const regex_cvv = new RegExp(/\\d{3}/);\n          if (!regex_cvv.test(cvv)) {\n            return alert('Introduce el código de 3 digitos ');\n          }\n        }\n\n        const GuardarInfoBank = async (id)=>{\n          console.log(\"PROPS INFOBANKS ID\", props.infobanks.id);\n          if (data.num_tarjeta != \"\") {\n            if (validarnum(data.num_tarjeta) != true) {\n            }\n          }\n          if (data.exp_date !='') {\n            if (validarexo(data.exp_date) != true ) {\n            }\n          }\n          if (data.cvv != '') {\n            if (validarcvv(data.cvv) != true) {\n            }\n          }\n          if (data.cpp != '') {\n            if (validarcpp(data.cpp) != true ) {\n            }\n          }\n\n                try{\n\n                      const body = data;\n                      const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/infobanco/${props.infobanks.id}`,\n                      {\n                          method: \"PUT\",\n                          headers: {\"Content-Type\":\"application/json\"},\n                          body: JSON.stringify(body)\n                      });\n\n                }catch(err){\n                    console.error(err)\n                }\n\n        }\n\n      return(\n        <div id={\"editar\" + props.infobanks.id} class=\"modal fade\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"modal-title\">Editar</h4>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div class=\"modal-body\">\n                      <label for=\"nombre\">Titular de la tarjeta</label>\n                      <div>\n                        <input\n                        class=\"form-control\"\n                        id=\"nombre_titular\"\n                        type=\"text\"\n                        name=\"nombre_titular\"\n                        value={data.nombre_titular}\n                        onChange={updateField}\n                        ></input>\n                      </div>\n                      <label for=\"num_tarjeta\">Número de tarjeta</label>\n                      <p><small>Ingresa un número de tarjeta de 16 digitos eg. 5555 5555 5555 5555</small></p>\n                       <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"num_tarjeta\"\n                            type=\"text\"\n                            name=\"num_tarjeta\"\n                            value={data.num_tarjeta}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                      <label for=\"exp_date\">Fecha Expiración</label>\n                      <p><small>eg. 04/28</small></p>\n                      <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"exp_date\"\n                            type=\"text\"\n                            name=\"exp_date\"\n                            placeholder=\"MM / YY\"\n                            value={data.exp_date}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                      <label for=\"cvv\">Cvv</label>\n                      <p><small> Código de 3 digitos de la parte trasera de tu tarjeta</small></p>\n                      <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"cvv\"\n                            type=\"text\"\n                            name=\"cvv\"\n                            placeholders={data.cvv}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                      <label for=\"cpp\">Código Postal</label>\n                      <div>\n                        <input\n                            class=\"form-control\"\n                            id=\"tel\"\n                            type=\"text\"\n                            name=\"cpp\"\n                            value={data.cpp}\n                            onChange={updateField}\n                            ></input>\n                      </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" >Cerrar</button>\n                        <button type=\"button\" class=\"btn btn-success\" data-dismiss=\"modal\"onClick={()=>GuardarInfoBank()} >Editar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n    }\nexport default Tarjeta;\n","import React, {Fragment, useEffect, useState, useContext} from 'react';\nimport { UserContext } from '../../UserContext';\nimport {Modal, Button} from 'react-bootstrap';\n\n\nconst MisReportes = () =>{\n    const [dataReportes, setDataReportes] = useState([]);\n    const {user, setUser} = useContext(UserContext);\n\n\n\n    useEffect(()=>{\n        let isMounted = true;\n        if(isMounted){\n          fetchReportes()\n          .then(json=>{\n            setDataReportes(json);\n          })    \n        } \n        return ()=>{isMounted=false}\n        \n    }, []);\n\n    const fetchReportes = async()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/reporte_tienda/usuario/${user.id}`);\n        const json = await data.json();\n        return json.result[0].tienda.reporte_tiendas;\n    }\n\n    \n    const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n    \n    return(\n        <Fragment>\n            {dataReportes ?\n            <Fragment>\n                <div className=\"container my-4\">\n                    <h1 className=\"text-center text-dark my-4\">Mis Reportes \n                    <span><button className=\"btn btn-sm btn-primary float-right\" onClick={handleShow}>Contacta al admin</button></span>\n                    </h1>\n\n                    <p><strong>Reportes totales:{dataReportes.length}</strong></p>\n                    <table className=\"table table-striped\">\n                    <thead>\n                        <th>ID</th>\n                        <th>Id Usuario</th>\n                        <th>Reporte</th>\n                    </thead>\n                    <tbody>\n                    {dataReportes.map(item=>(\n                \n                        <tr>\n                        <td>{item.id}</td>\n                        <td>{item.id_usuario}</td>\n                        <td>Descripcion</td>\n                        <td>\n                        </td>\n                        </tr>\n                        \n                    ))}\n                        \n                    </tbody>\n                    </table>\n                    </div>\n                    <Modal show={show} onHide={handleClose}>\n                        <Modal.Header closeButton>\n                        <Modal.Title>Contacta al admin</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body><p>Puedes contactar por medio de correo o llamda telefónica, este revisará tus reportes\n                            yen caso de ser un malentendido eliminará los reportes.</p>\n                            <label for=\"correo\">Correo</label>\n                            <p id=\"correo\">admin@tiendasuniversitarias.mx</p>\n                            <label for=\"tel\">Telefono</label>\n                            <p id=\"tel\">6624284910</p>\n                        </Modal.Body>\n                        <Modal.Footer>\n                        \n                        <Button variant=\"primary\" onClick={handleClose}>\n                            Entendido\n                        </Button>\n                        </Modal.Footer>\n                    </Modal>\n        </Fragment>\n        : <h1 className=\"text-center\"> Usted no tiende reportes</h1>}\n        </Fragment>\n    )\n}\n\nexport default MisReportes;","import React, {Fragment, useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport { Component } from 'react';\nimport { render } from '@testing-library/react';\nimport StripeCheckout from 'react-stripe-checkout'\nimport { toast } from 'react-toastify'\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport { UserContext } from '../../UserContext'\n\n\nimport {Modal, Button} from 'react-bootstrap';\n\n\n\nconst Pedidos = ()=>{\n\n\n        return(\n\n            <Fragment>\n                <div className=\"mainContainer h\">\n                    <div className=\"top-container\">\n                        <div className=\"container\">\n                            <h2>Pedidos pendientes</h2>\n                            <div className=\"container mt-4\">\n                                <Tabla/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Fragment>\n        );\n\n}\n\n\nfunction Tabla () {\n\n    const {user, setUser} = useContext(UserContext);\n    const [items, setItems] = useState([]);\n    const [variasTiendas, setVariasTiendas] = useState(false)\n    const handleClose = () => setVariasTiendas(false)\n    const handleShow = () => setVariasTiendas(true);\n\n    useEffect(() =>{\n        fetchitems()\n    });\n    \n    const fetchitems = async ()=>{\n        const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/pedidos/${user.id}`)\n        const json = await data.json();\n        // console.log(json.result)\n        setItems(json.result)\n        console.log(items)\n    }\n    \n\n    \n\n        return(\n            <Fragment>\n                <Fragment>\n                <table className=\"table\">\n                            <thead>\n                                <tr>\n                                <th scope=\"col\">Productos / Cantidad</th>\n                                <th scope=\"col\">Nombre de cliente</th>\n                                <th scope=\"col\">Fecha</th>\n                                <th scope=\"col\">Acción</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {items.map(item => \n                                    <tr className=\"fjcc\">\n                                        {item.orden_items.map(orden => \n                                        <div>\n                                            <td className=\"fjcc2\">{orden.producto.nombre}</td>\n                                            <td className=\"fjcc2\">{orden.cantidad}</td>\n                                        </div>\n                                        )}\n                                        <td>{item.usuario.nombre}</td>\n                                        <td>{item.fecha}</td>\n                                        <td><Entregar orden={item} /></td>\n                                    </tr>\n                            )}\n                            </tbody>\n                    </table>\n                    <hr/>\n                            \n                \n                        <Modal show={variasTiendas} onHide={handleClose}>\n                            <Modal.Header closeButton>\n                            <Modal.Title>Aviso</Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                <p>\n                                    Has agregado productos de tiendas distintas, \n                                    por lo que se generará una orden por cada \n                                    tienda cuando realices la compra.\n                                </p>\n\n                            </Modal.Body>\n                            <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                                Cerrar\n                            </Button>\n                            \n                            </Modal.Footer>\n                        </Modal>\n                        </Fragment>\n            </Fragment>\n        );\n} \n\nasync function handleToken(token)  {\n  //console.log(token,  addresses);\n\n}\n\n\n\nfunction Entregar (props){\n\n    return(\n        <Fragment>\n            <a href={\"#eliminar\" + props.orden.id} role=\"button\" className=\"btn btn-info btn-sm\" data-toggle=\"modal\">\n               Entregar\n            </a>\n            <ModalDelete orden={props.orden}></ModalDelete>\n\n        </Fragment>\n\n    );\n\n}\n\n\nfunction ModalDelete(props){\n\n\n\n\n    const eliminarClick = async() => {\n        const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/tiendas/entregar/${props.orden.id}`, {\n            method: \"PUT\"\n        });\n        \n    }\n\n    return(\n        <div id={\"eliminar\" + props.orden.id} className=\"modal fade\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h4 className=\"modal-title\">Confirmación de entrega de pedido</h4>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <p>Entregar pedido al cliente: {props.orden.usuario.nombre} {props.orden.id}</p>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Cerrar</button>\n                        <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\"  onClick={eliminarClick}>Confirmar</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Pedidos;\n","import React, {Fragment, useEffect, useState, useContext} from 'react';\nimport { UserContext } from '../../UserContext';\nimport {Modal, Button, Form, Container, Row, Col} from 'react-bootstrap';\nimport { VictoryBar, VictoryChart, VictoryAxis, VictoryTheme, VictoryZoomContainer } from 'victory';\n\n\nconst GraficaVenta = (props)=>{\n    const [ventadiaria, setVentadiaria] = useState()\n    const[dias, setDias]=useState(30)\n    const [datos, setDatos] = useState()\n\n    const setDiasMes = ()=>{\n        let dias = [];\n        switch(props.month){\n            case 1,3,5,7,9,11:\n                for(let i=1; i<31; i++){\n                    dias.push(i)\n                }\n                break;\n            case 4,6,8,10,12:\n                for(let i=1; i<32; i++){\n                    dias.push(i)\n                }\n                break;\n            case 2:\n                for(let i=1; i<29; i++){\n                    dias.push(i)\n                }\n                break;\n                \n        }\n        return dias\n    }\n\n    const arrangeData = (data)=>{\n        let arrayDatos = []\n        let arrayDias = []\n        data.map(orden=>{\n            if(!(arrayDias.includes(orden.fecha))){\n                arrayDias.push(orden.fecha)\n        }})\n        console.log(arrayDias)\n        arrayDias.map(fecha=>{\n            let totalDiario = 0\n            data.map(orden=>{\n                if(fecha==orden.fecha){\n                    if(orden.amount){\n                    totalDiario += orden.amount\n                    }\n                }\n                })\n            arrayDatos.push({x: new Date(fecha).getDate(), y: totalDiario/100})\n        })\n        console.log(arrayDatos)\n        return arrayDatos\n    }\n\n    const setTickDates = ()=>{\n        let dates = []\n        const d = new Date()\n        const año = d.getFullYear()\n        switch(props.month){\n            case 1,3,5,7,9,11:\n                for(let i=1; i<31; i++){\n                    dates.push(new Date(año, props.month, i).getDate())\n                }\n                break;\n            case 4,6,8,10,12:\n                for(let i=1; i<32; i++){\n                    dates.push(new Date(año, props.month, i).getDate())\n                }\n                break;\n            case 2:\n                for(let i=1; i<29; i++){\n                    dates.push(new Date(año, props.month, i).getDate())\n                }\n                break;\n                \n        }\n        console.log(dates)\n        return dates\n    }\n\n    const totalVendido = ()=>{\n        let total = 0\n        ventadiaria.map(venta=>{\n            total += venta.y\n        })\n        return total;\n    }\n\n    const calculaPromedio = ()=>{\n        let promedio = 0\n        let suma = 0\n        ventadiaria.map(venta=>{\n            suma+=venta.y\n        })\n        promedio = suma/ventadiaria.length\n        return promedio\n    }\n\n    const obtenMayor = ()=>{\n        let mayor = 0;\n        ventadiaria.map(venta=>{\n            if(venta.y>mayor){\n                mayor = venta.y\n            }\n        })\n        return mayor;\n    }\n\n    const fetchVentas = async()=>{\n        const datos = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/ventas/${props.month}/${props.id}`)\n        const json = await datos.json()\n        return json.ventas\n    }\n\n    useEffect(()=>{\n        let isMounted = true;\n        if(isMounted){\n            fetchVentas()\n            .then(json=>{\n                setDatos(json)\n                const data = arrangeData(json)\n                setVentadiaria(data)\n            })\n            \n        }\n        return ()=>isMounted=false;\n    },[props.month])\n\n    const style = {\n        backgroundColor: \"#29698f\"\n    }\n\n    return(\n        <Fragment>\n            {ventadiaria?\n            <Container style={style} className=\"py-2 rounded\">\n                <Row>\n                    <Col className=\"border text-left py-4 bg-light mx-2 rounded px-4\">\n                    <h3 className=\"my-4\">Informacion de Ventas</h3>\n                    <div className=\"my-2\">\n                    <h5>Cantidad de ventas realizadas</h5>\n                    <p>{datos.length}</p>\n                    </div>\n                    <div className=\"my-2\">\n                    <h5>Total vendido</h5>\n                    <p>${totalVendido()}</p>\n                    </div>\n                    <div className=\"my-2\">\n                        <h5>Promedio diario</h5>\n                        <p>${calculaPromedio()}</p>\n                    </div>\n                    </Col>\n                    <Col className=\"bg-light mx-2 rounded\">\n                    <VictoryChart domainPadding={10} \n                    containerComponent={<VictoryZoomContainer zoomDomain={{x: [5, 35], y: [0, obtenMayor()]}}/>}\n                    animate={{\n                    duration: 1000,\n                    onLoad: { duration: 500 }\n                    }}\n                    scale={{ x: \"time\" }} theme={VictoryTheme.material}>\n                    <VictoryAxis\n                        // tickValues specifies both the number of ticks and where\n                        // they are placed on the axis\n                        tickValues={setTickDates()}\n                        tickFormat={(x) => {\n                                if(x%5===0){\n                                    return (x +`/${props.month}`) ;\n                                }\n                                else{\n                                    return\n                                }\n                              \n                        }}\n                            \n                        />\n                        <VictoryAxis\n                        dependentAxis\n                        // tickFormat specifies how ticks should be displayed\n                        tickFormat={(x) => (`$${x}`)}\n                        />\n                    <VictoryBar\n                    barWidth={4}\n                    data={ventadiaria}\n                    style={{ data: { fill: \"#FF9500\" } }}\n                    ></VictoryBar>\n                    </VictoryChart>\n                    </Col>\n                </Row>\n            </Container>\n            : null}\n        </Fragment>\n    )\n}\n\nexport default GraficaVenta;","import React, {Fragment, useEffect, useState, useContext} from 'react';\nimport { UserContext } from '../../UserContext';\nimport {Modal, Button, Form} from 'react-bootstrap';\nimport GraficaVenta from './GraficaVenta';\n\n\nconst VentanaVentas = ()=>{\nconst [month, setMonth] = useState(11)\nconst [ventas, setVentas] = useState()\nconst {user, setUser} = useContext(UserContext);\n\n\nuseEffect(()=>{\n    let isMounted = true;\n    if(isMounted){\n        fetchVentas()\n        .then(json=>{\n            console.log(json)\n            setVentas(json);\n        })\n    }\n    return ()=>isMounted=false\n}, [month])\n\nconst fetchVentas = async()=>{\n    const datos = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/ventas/${month}/${user.id}`)\n    const json = await datos.json()\n    return json\n}\n\nconst getMonth = ()=>{\n    //oBTENER EL MES Y PONERLO COMO DEFAULT\n}\n\nreturn (\n    <Fragment>\n    <div className=\"text-center my-4\">\n    <h2>Mis ventas</h2>\n    <Form.Group controlId=\"exampleForm.ControlSelect1\" className=\"w-50 mx-auto\">\n    <Form.Label>Selecciona el mes</Form.Label>\n    <Form.Control as=\"select\" defaultValue=\"12\" onChange={e=>setMonth(e.target.value)}>\n      <option value=\"1\">Enero</option>\n      <option value=\"2\">Febrero</option>\n      <option value=\"3\">Marzo</option>\n      <option value=\"4\">Abril</option>\n      <option value=\"5\">Mayo</option>\n      <option value=\"6\">Junio</option>\n      <option value=\"7\">Julio</option>\n      <option value=\"8\">Agosto</option>\n      <option value=\"9\">Septiembre</option>\n      <option value=\"10\">Octubre</option>\n      <option value=\"11\">Noviembre</option>\n      <option value=\"12\">Diciembre</option>\n    </Form.Control>\n  </Form.Group>\n    <hr/>\n    {ventas ? \n    <div>\n        <GraficaVenta ventas={ventas} month={month} id={user.id}></GraficaVenta>\n    </div>\n    : \n    null}\n    </div>\n    </Fragment>\n)\n}\n\nexport default VentanaVentas;","import React, {Fragment} from 'react';\nimport TiendaNavBar from './TiendaNavBar';\nimport Opciones from './Opciones';\nimport MiInfo from './MiInfo';\nimport MenuTienda from './MenuTienda';\nimport EditarMenu from './EditarMenu';\nimport AgregarProducto from './AgregarProducto';\nimport EditarProducto from './EditarProducto';\nimport Tarjeta from './Tarjeta';\nimport MisReportes from './MisReportes';\n\nimport Pedidos from './Pedidos';\n\nimport VentanaVentas from './VentanaVentas'\n\n\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nconst Panel = ()=>{\n    return(\n\n            <Router>\n            <TiendaNavBar/>\n                <Switch>\n                    <Route path=\"/panel/Menu/EditarMenu/AgregarProducto\" exact component={AgregarProducto}></Route>\n                    <Route path=\"/panel/Menu/EditarMenu\" exact component={EditarMenu}></Route>\n                    <Route path=\"/panel\" exact component={Opciones}></Route>\n                    <Route path=\"/panel/MiInfo\" exact component={MiInfo}></Route>\n                    <Route path=\"/panel/Menu\" exact component={MenuTienda}></Route>\n                    <Route path=\"/panel/Menu/EditarMenu/EditarProducto/:id\" exact component={EditarProducto}></Route>\n                    <Route path=\"/panel/Tarjeta\" exact component={Tarjeta}></Route>\n                    <Route path=\"/panel/misReportes\" exact component={MisReportes}></Route>\n                    <Route path=\"/panel/Pedidos\" exact component={Pedidos}></Route>\n                    <Route path=\"/panel/misVentas\" exact component={VentanaVentas}></Route>\n\n                </Switch>\n            </Router>\n\n\n\n    )\n}\n\nexport default Panel;\n","import React, {Fragment} from 'react';\nimport {Link} from 'react-router-dom';\n\nconst LandingNav = ()=>{\n  \n    const style={\n        maxWidth: \"30px\",\n        maxHeight: \"30px\"\n    }\n    const navStyle={\n        position: \"absolute\",\n        left: \"50%\",\n        transform: \"translatex(-50%)\"\n    }\n\n    return(\n        <Fragment>\n        <nav class=\"navbar py-auto my-auto center\">\n            <div className=\"container-fluid-nav text-center\" style={navStyle}>\n            <Link to=\"/\">\n            <a className=\"mx-auto text-center text-light\">\n                <img src=\"/Unioncarrito.png\" style={style} alt=\"\" className=\"mx-2\" loading=\"lazy\"/>\n                Tiendas Universidad\n            </a>\n            </Link>\n            </div>\n        </nav>\n        </Fragment>\n    )\n}\n\nexport default LandingNav;","import React, {Fragment, useState, useMemo, useContext} from 'react'\nimport Registro from '../Landing-Registro/Registro'\nimport {useHistory} from \"react-router-dom\";\nimport { UserContext } from '../../UserContext'\nimport Facebook from './Facebook'\nimport {Router, Switch, Route} from 'react-router-dom';\nimport Home from '../Cliente/Home';\nimport Admin from '../Admin/Admin';\nimport Panel from '../Tienda/Panel'\nimport LandingNav from '../Landing-Registro/LandingNav';\n\n// const Login = ()=>{\n//   const {user, setUser} = useContext(UserContext);\n//   if(user!==null && user.isLoggedIn){\n//     return <LoginFactory></LoginFactory>\n//   }else{\n//     return <LoginForm></LoginForm>\n//   }\n// }\nconst LoginForm = () => {\n\n  const {user, setUser} = useContext(UserContext);\n\n\n  let history = useHistory()\n  const [data, setData] = useState({\n      email: '',\n      contra: ''\n  });\n\n\n  const [alert, setAlert] = useState([])\n\n  const updateField = e =>{\n    e.preventDefault()\n      setData({\n          ...data,\n          [e.target.name]: e.target.value\n      });\n  }\n\n  const onSubmitForm = async e =>{\n\n      e.preventDefault();\n      try{\n          const body = data;\n          console.log(body);\n          const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/usuario/login',\n          {\n              method: \"POST\",\n              headers: {\"Content-Type\": \"application/json\"},\n              body: JSON.stringify(body)\n          })\n          .then(async resp =>{\n              const result = await resp.json()\n              if(result.error){\n                  console.log(result.error)\n                  history.push(\"/home\")\n              }else{\n                \n                  localStorage.setItem(\"token.tuw\", result.user.token)\n                  setUser(result.user);\n                  history.push(\"/\")\n\n              }\n          })\n      }catch(err){\n        console.log(err)\n      }\n  }\n\n  return (\n  <Fragment>\n    <LandingNav></LandingNav>\n    <div className=\"row m-0\">\n        \n        <div className=\"col-md-4 m-auto\">\n    <div className=\"container bg-color rounded-lg text-light my-2 pb-2\">\n      <h1 className=\"text-center my-5 pt-5\">Login</h1>\n\n        <form className=\"my-2 text-center mx-auto\" onSubmit={onSubmitForm}>\n        <div className=\"form-group text-left\">\n          <label for=\"email\">Email address</label>\n          <input\n            className=\"form-control\"\n            id=\"email\"\n            type=\"text\"\n            name=\"email\"\n            value={data.email}\n            onChange={updateField}\n            ></input>\n        </div>\n        <div className=\"form-group text-left\">\n          <label for=\"contra\">Password</label>\n          <input\n            className=\"form-control\"\n            id=\"contra\"\n            type=\"password\"\n            name= \"contra\"\n            value={data.contra}\n            onChange={updateField}\n\n            ></input>\n          <small id=\"olvidada\" class=\"form-text text-light\">\n            <a href=\"olvidarcontra\">¿Olvidaste tu contraseña?</a>\n          </small>\n        </div>\n        <button className=\"btn btn-lg btn-warning my-4\" type='submit'>Login</button>\n      </form>\n\n      \n      <div className=\"text-center\">\n\n      <Facebook></Facebook>\n      </div>\n      </div>\n      <Registro></Registro>\n\n        </div>\n        \n\n\n    </div>\n\n  </Fragment>)\n}\n\nconst LoginFactory = ()=>{\n  const {user, setUser} = useContext(UserContext);\n\n    switch (user.tipo) {\n      case 'cliente':\n        return(\n          <Router>\n            <UserContext.Provider value={user}>\n              <Switch>\n                <Route path=\"/home\" component={Home}/>\n              </Switch>\n            </UserContext.Provider>\n          </Router>\n          );\n          break;\n      case 'admin':\n        return(\n          <Router>\n            <UserContext.Provider value={user}>\n              <Switch>\n                <Route path=\"/admin\" component={Admin}/>\n              </Switch>\n            </UserContext.Provider>\n          </Router>\n          );\n          break;\n      case 'tienda':\n        return(\n          <Router>\n            <UserContext.Provider value={user}>\n              <Switch>\n                <Route path=\"/tienda\" component={Panel}/>\n              </Switch>\n            </UserContext.Provider>\n          </Router>\n          );\n          break;\n      case 'default':\n        return(\n          <Router>\n            <UserContext.Provider value={user}>\n              <Switch>\n                <Route path=\"/home\" component={Home}/>\n              </Switch>\n            </UserContext.Provider>\n          </Router>\n          );\n          break;\n    }\n}\nexport default LoginForm;\n","import React, {Fragment, useCallback} from 'react';\nimport {Link} from 'react-router-dom';\n\n\nconst Errorflash = ()=> {\n    \n    return(\n        <Fragment>\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n            No debe haber campos vacios\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default Errorflash;\n","import React, { Component, Fragment } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { InputLabel } from '@material-ui/core';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Errorflash from '../Errorflash';\nimport LandingNav from '../Landing-Registro/LandingNav';\n\n\n\n\nexport class RegGen extends Component {\n\n constructor(props){\n   super(props)\n   this.state={universidades:[]}\n }\n  \n\n  async componentWillMount(){\n    const response = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidadesvalidadas`)\n    const json = await response.json()\n    this.setState({ universidades: json });\n    console.log(response)\n    console.log(json)\n    console.log(this.state.universidades)\n  }\n\n\n  continue = e => {\n    e.preventDefault();\n    if(this.props.values.contra == this.props.values.contraConfirm){\n      this.props.nextStep();\n    }else{\n      console.log(this.props.values.contra)\n      console.log(this.props.values.contraConfirm)\n      alert(\"Tus contraseñas no coinciden!\")\n    }\n\n  };\n\n\n\n    showHide(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n            type: this.state.type === 'input' ? 'password' : 'input'\n        })\n    }\n\n\n  render() {\n    const { values, handleChange, handleMouseDownPassword, } = this.props;\n\n    return (\n      <MuiThemeProvider>\n        <>\n          {/* <Dialog\n            open\n            fullWidth\n            maxWidth='sm'\n          > */}\n            <LandingNav></LandingNav>\n            <div className=\"row my-4\">\n              <div className=\"col-md-3\"></div>\n              <div className=\"col-md-6\">\n              <div className=\"container bg-color rounded-lg text-light\">\n                <h1 className=\"text-center my-10 pt-5\">Registrate aqui</h1>\n                <div>\n\n                </div>\n                <form className=\"my-5 text-center mx-auto\">\n                    <div className=\"form-group text-left\">\n                        <label for=\"name\">Nombre</label>\n                        <input className=\"form-control\" id=\"name\" defaultValue={values.nombre} onChange={handleChange('nombre')} type=\"text\"></input>\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                        <label for=\"email\">Email address</label>\n                        <input className=\"form-control\" id=\"email\" onChange={handleChange('email')}\n              defaultValue={values.email} type=\"email\"></input>\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                        <label for=\"pwd\">Contraseña</label>\n                        <input id=\"pwd\" className=\"form-control\" type=\"password\" defaultValue={values.contra} onChange={handleChange('contra')}></input>\n                    </div>\n                    <div className=\"form-group text-left\">\n                        <label for=\"pwd2\">Confirma contraseña</label>\n                        <input id=\"pwd2\" className=\"form-control\"  onChange={handleChange('contraConfirm')}\n              defaultValue={values.contraConfirm} type=\"password\"></input>\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                        <label for=\"tel\">Telefono</label>\n                        <input className=\"form-control\" id=\"telefono\" onChange={handleChange('telefono')}\n              defaultValue={values.telefono} type=\"tel\"></input>\n                    </div>\n                    <div className=\"form-group text-left\">\n                      <label for=\"inputUni\">universidad</label>\n                      <select id=\"inputUni\" className=\"form-control\" onChange={handleChange('universidad')}>\n                      <option selected>Selecciona universidad</option>\n                       {this.state.universidades.map(uni=>(\n                         <option key={uni.id} value={uni.id}>{uni.nombre}</option>\n                       ))}\n                      </select>\n                    </div>\n                    {/* <div className=\"form-group text-left\">\n                        <label for=\"Universidad\">Universidad</label>\n                        <input className=\"form-control\" onChange={handleChange('universidad')} id=\"Universidad\" type=\"text\"></input>\n                    </div> */}\n\n                    <button className=\"btn btn-lg btn-warning my-4\" onClick={this.continue}>Siguiente</button>\n\n                </form>\n            </div>\n            </div>\n            <div className=\"col-md-3\"></div>\n            </div>\n\n{/*\n            /* <AppBar title=\"Registrate aqui\" />\n            <TextField\n              label=\"Nombre\"\n              onChange={handleChange('nombre')}\n              defaultValue={values.nombre}\n              margin=\"normal\"\n              fullWidth\n            />\n\n            <br />\n            <TextField\n              placeholder=\"Email\"\n              label=\"Email\"\n              onChange={handleChange('email')}\n              defaultValue={values.email}\n              margin=\"normal\"\n              fullWidth\n            />\n            <br />\n\n            <TextField\n              placeholder=\"contra\"\n              label=\"Contrasena\"\n              type= \"password\"\n              margin=\"normal\"\n              fullWidth\n            />\n\n\n           <br />\n            <TextField\n              placeholder=\"confirma contra\"\n              label=\"Confirma contrasena\"\n              type=\"password\"\n              onChange={handleChange('contra')}\n              defaultValue={values.contra}\n              margin=\"normal\"\n              fullWidth\n            />\n            <br />\n\n            <TextField\n              placeholder=\"telefono\"\n              label=\"Telefono\"\n              onChange={handleChange('telefono')}\n              defaultValue={values.telefono}\n              margin=\"normal\"\n              fullWidth\n            />\n            <br />\n\n\n            <InputLabel id=\"uni-label\">Universidad</InputLabel>\n              <Select\n              placeholder=\"universidad\"\n              label=\"Universidad\"\n              id=\"uni\"\n              onChange={handleChange('universidad')}\n              >\n              <MenuItem value={'UNI SON'}>Universidad Sonora</MenuItem>\n              <MenuItem value={'UNI vizca'}>Uni viscaya</MenuItem>\n              <MenuItem value={'TEC'}>TEC</MenuItem>\n            </Select>\n            <br />\n            <div className=\"my-4\">\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={this.continue}\n            >Siguiente</Button>\n            </div> */}\n\n          {/* </Dialog> */}\n        </>\n      </MuiThemeProvider>\n\n    );\n  }\n}\n\nexport default RegGen;\n","import React, { Component, useState } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport { InputLabel } from '@material-ui/core';\nimport LandingNav from '../Landing-Registro/LandingNav';\n\n\n\n\nexport class RegTienda extends Component {\n  continue = e => {\n    e.preventDefault();\n    this.props.nextStep();\n  };\n\n  back = e => {\n    e.preventDefault();\n    this.props.prevStep();\n  };\n\n  handleUpload = e => {\n    if (e.target.files[0]){\n      this.props.handleUpload(e.target.files[0])\n    }\n  };\n\n\n  render() {\n      const { values, handleChange} = this.props;\n\n    return (\n\n      <MuiThemeProvider>\n        <>\n          {/* <Dialog\n            open\n            fullWidth\n            maxWidth='sm'\n          > */}\n          <LandingNav></LandingNav>\n            <div className=\"row my-4\">\n              <div className=\"col-md-3\"></div>\n              <div className=\"col-md-6\">\n            <div className=\"container w-30 bg-color rounded-lg text-light\">\n                <h1 className=\"text-center my-10 pt-5\">Registra tu Tienda</h1>\n\n                <form className=\"my-5 text-center mx-auto\">\n                    <div className=\"form-group text-left\">\n                        <label for=\"Name_tienda\">Nombre de Tienda</label>\n                        <input className=\"form-control\"  onChange={handleChange('nombretienda')}\n              defaultValue={values.nombretienda} id=\"Name_tienda\" type=\"text\"></input>\n                    </div>\n\n                    <div className=\"form-group text-left\" onChange={handleChange('tipo_tienda')}>\n                        <label for=\"Tipo_tienda\">Tipo de Tienda</label>\n                        <div class=\"form-check\">\n                          <input  className=\"form-check-input\" id=\"cooperativa\" type=\"radio\" value=\"1\"></input>\n                          <label for= \"cooperativa\" className=\"form-check-label\">Cooperativa</label>\n                        </div>\n                          <div class=\"form-check\">\n                          <input className=\"form-check-input\" id=\"puesto\" type=\"radio\" value=\"2\"></input>\n                            <label for= \"puesto\" className=\"form-check-label\">Puesto</label>\n                          </div>\n                          <div class=\"form-check\">\n                          <input className=\"form-check-input\" id=\"cafeteria\" type=\"radio\" value=\"3\"></input>\n                            <label for= \"cafeteria\" className=\"form-check-label\">Cafetería</label>\n                          </div>\n\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                        <label for=\"Horario\">Horario</label>\n                        <input id=\"Horario\" className=\"form-control\" onChange={handleChange('horario')} type=\"text\"></input>\n                    </div>\n                    \n                    <div className=\"form-group text-left\">\n                        <label for=\"url_imagen\">Subir Imagen Tienda</label>\n                          <input type=\"file\" id=\"url_imagen\" onChange={ this.handleUpload }\n                defaultValue={values.url_imagen} className=\"form-control\"></input>\n\n\n\n\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                    <label>Aceptan tarjeta</label>\n                    <div name = 'tar'  onChange={handleChange('tarjeta')} className=\"form-group text-left\">\n                        <label for= \"Tarjeta_Si\">Si</label>\n                        <input  id=\"Tarjeta_Si\" type=\"radio\" value=\"true\"></input>\n                        <label for= \"Tarjeta_No\">No</label>\n                        <input id=\"Tarjeta_No\" type=\"radio\" value=\"false\"></input>\n                    </div>\n                    </div>\n                    <div>\n                      <small>*Tiene un mes de prueba a partir de ese plazo se le hara un cobro a su tarjeta</small>\n                    </div>\n                    <div className=\"container text-center\">\n                    <button className=\"btn btn-lg btn-warning my-4 mx-5\" onClick={this.back}>Atras</button>\n                    <button className=\"btn btn-lg btn-warning my-4 mx-5\" onClick={this.continue}>Siguiente</button>\n                    </div>\n                </form>\n            </div>\n            </div>\n            <div className=\"col-md-3\"></div>\n            </div>\n            {/* <AppBar title=\"Detalles de la tienda\" />\n            <TextField\n              required\n              placeholder=\"Nombre tienda\"\n              label=\"Nombre tienda\"\n              onChange={handleChange('nombre_tienda')}\n              defaultValue={values.nombre_tienda}\n              margin=\"normal\"\n              fullWidth\n            />\n            <br />\n          <InputLabel id=\"tienda-label\">Tipo de tienda</InputLabel>\n            <Select\n            required\n             placeholder=\"tipo de tienda\"\n             label=\"Tipo de tienda\"\n             id=\"tienda\"\n             onChange={handleChange('tipo_tienda')}\n             >\n            <MenuItem value={'Puestos'}>Puesto</MenuItem>\n            <MenuItem value={'Cafeteria'}>Cafeteria</MenuItem>\n            <MenuItem value={'Cooperativa'}>Cooperativa</MenuItem>\n            </Select>\n            <br />\n            <TextField\n              required\n              placeholder=\"universidad\"\n              label=\"universidad\"\n              onChange={handleChange('universidad')}\n              defaultValue={values.universidad}\n              margin=\"normal\"\n              fullWidth\n            />\n            <br />\n\n            <TextField\n              required\n              placeholder=\"img tienda\"\n              label=\"imagen\"\n              onChange={handleChange('url_imagen')}\n              defaultValue={values.url_imagen}\n              margin=\"normal\"\n              fullWidth\n            />\n\n             <br />\n\n            <label>Aceptan tarjeta:</label>\n            <RadioGroup required aria-label=\"tarjeta\" name=\"tarjeta1\" onChange={handleChange('tarjeta')}>\n            <FormControlLabel value=\"true\" control={<Radio />} label=\"Si\" />\n            <FormControlLabel value=\"false\" control={<Radio />} label=\"No\" />\n            </RadioGroup>\n\n            <Button\n              color=\"secondary\"\n              variant=\"contained\"\n              onClick={this.back}\n            >Atras</Button>\n\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={this.continue}\n            >Siguiente</Button> */}\n          {/* </Dialog> */}\n        </>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default RegTienda;\n","import React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport { List, ListItem, ListItemText } from '@material-ui/core/';\nimport Button from '@material-ui/core/Button';\nimport LandingNav from '../Landing-Registro/LandingNav';\n\n\n\nexport class Confirm extends Component {\n  submit = e => {\n    e.preventDefault();\n    // PROCESS FORM //\n    this.props.submit();\n  };\n\n\n  back = e => {\n    e.preventDefault();\n    this.props.prevStep();\n  };\n\n  render() {\n      const {\n          values: { nombre, email, telefono, contra, uni_nombre, nombretienda, tipo_tienda, img_tienda, tarjeta, horario }\n    } = this.props;\n    return (\n      <MuiThemeProvider>\n        <>\n          {/* <Dialog\n            open\n            fullWidth\n            maxWidth='sm'\n          > */}\n          <LandingNav></LandingNav>\n            <div className=\"row my-4\">\n              <div className=\"col-md-3\"></div>\n              <div className=\"col-md-6\">\n             <div className=\"container bg-color rounded py-4\">\n               <h1 className=\"my-4 text-center\"> Confirma tus datos</h1>\n            <ul class=\"list-group list-group-flush bg-primary text-light\">\n              <li class=\"list-group-item bg-color\">\n                <h5>Nombre</h5>\n                <p>{nombre}</p>\n              </li>\n              <li class=\"list-group-item bg-color\">\n                <h5>Email</h5>\n                <p>{email}</p>\n              </li>\n              \n              <li class=\"list-group-item bg-color\">\n                <h5>Telefono</h5>\n                <p>{telefono}</p>\n              </li>\n              <li class=\"list-group-item bg-color\">\n                <h5>Universidad</h5>\n                <p>{uni_nombre}</p>\n              </li>\n              <li class=\"list-group-item bg-color\">\n                <h5>Nombre de la tienda</h5>\n                <p>{nombretienda}</p>\n              </li>\n              <li class=\"list-group-item bg-color\">\n                <h5>Tipo de tienda</h5>\n                <p>{tipo_tienda}</p>\n              </li>\n              <li class=\"list-group-item bg-color\">\n                <h5>Imagen</h5>\n                <p>{img_tienda}</p>\n              </li>\n              <li class=\"list-group-item bg-color\">\n                <h5>Aceptan tarjeta?</h5>\n                <p>{tarjeta}</p>\n              </li>\n              <li class=\"list-group-item bg-color\">\n                <h5>Horario</h5>\n                <p>{horario}</p>\n              </li>\n            </ul>\n            <div className=\"container text-center my-4\">\n            <button className=\"btn btn-lg btn-warning rounded mx-4\" onClick={this.back}>Atras</button>\n            <button className=\"btn btn-lg btn-warning rounded mx-4\" onClick={this.submit}>Confirmar y continuar</button>\n            </div>\n            </div>\n            </div>\n            <div className=\"col-md-3\"></div>\n            </div>\n            {/* <AppBar title=\"Confirma tus datos\" />\n            <List>\n              <ListItem>\n                <ListItemText primary=\"Nombre\" secondary={nombre} />\n              </ListItem>\n              <ListItem>\n                <ListItemText primary=\"Email\" secondary={email} />\n              </ListItem>\n              <ListItem>\n                <ListItemText primary=\"Contrasena\" secondary={contra} />\n              </ListItem>\n              <ListItem>\n                <ListItemText primary=\"Telefono\" secondary={telefono} />\n              </ListItem>\n              <ListItem>\n                <ListItemText primary=\"Universidad\" secondary={universidad} />\n              </ListItem>\n              <ListItem>\n                <ListItemText primary=\"Nombre de la tienda\" secondary={nombre_tienda} />\n                </ListItem>\n              <ListItem>\n                <ListItemText primary=\"Tipo de tienda\" secondary={tipo_tienda} />\n              </ListItem>\n              <ListItem>\n                <ListItemText primary=\"Imagen tienda *url de la imagen\" secondary={img_tienda} />\n              </ListItem>\n\n              <ListItem>\n                <ListItemText primary=\"Aceptan tarjeta\" secondary={tarjeta} />\n              </ListItem>\n\n\n            </List>\n            <br />\n\n            <Button\n              color=\"secondary\"\n              variant=\"contained\"\n              onClick={this.back}\n            >Atras</Button>\n\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={this.continue}\n            >Confirma & Continua</Button> */}\n          {/* </Dialog> */}\n        </>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default Confirm;\n","import React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport {Link} from 'react-router-dom';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\n\nexport class Success extends Component {\n  continue = e => {\n    e.preventDefault();\n    // PROCESS FORM //\n    this.props.nextStep();\n  };\n\n  back = e => {\n    e.preventDefault();\n    this.props.prevStep();\n  };\n\n  render() {\n    return (\n      <MuiThemeProvider>\n        <>\n          <Dialog\n            open\n            fullWidth\n            maxWidth='sm'\n          >\n            <AppBar title=\"Success\" />\n            <h1 className=\"text-dark text-center my-4\">Tu cuenta ha sido registrada</h1>\n            <p className=\"text-center\">Revisa tu correo y confirma tu cuenta</p>\n            <Link to=\"/login\" className=\"mx-auto\">\n            <button className=\"btn btn-lg btn-primary mx-auto my-4\">Iniciar Sesión</button>\n            </Link>\n          </Dialog>\n        </>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default Success;\n","import React, { Component, Fragment, useState, useEffect } from 'react';\nimport {compose, withProps} from 'recompose';\nimport { Marker, withGoogleMap, withScriptjs, GoogleMap } from 'react-google-maps';\nimport LandingNav from '../Landing-Registro/LandingNav'\n\nconst MapReg = (props)=>{\n\nconst [markerPosition, setMarkerPosition] = useState(props.values.coordinates || null)\nconst [markerShown, setMarkerShown] = useState(true)\nconst [center, setCenter] = useState();\n\nuseEffect(()=>{\n    let isMounted = true;\n    fetchuniversidad()\n    .then(json=>{\n        if(isMounted) setCenter(json)\n    });\n    return ()=>isMounted=false;\n}, []);\n\nconst fetchuniversidad = async ()=>{\n    if(props.values.universidad){\n    const data = await fetch(`https://tiendas-unison-web.herokuapp.com/api/v1/universidades/ubi/${props.values.universidad}`);\n    const json = await data.json();\n    const ubicacion = {\n        lat: parseFloat(json.lat),\n        lng: parseFloat(json.lng)\n    }\n    console.log(ubicacion)\n    return ubicacion;\n    }else{\n    alert(\"Primero ingrese una universidad\")\n    return;\n    }\n    \n};\n\n\n  const back = e => {\n    e.preventDefault();\n    props.prevStep();\n  };\n\n  const next = e => {\n    e.preventDefault();\n    props.nextStep();\n  };\n\nconst Map = compose(\n    withProps({\n        googleMapURL: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo`,\n        loadingElement: <div style={{height: \"100%\"}}/>,\n        containerElement: <div style={{height: \"450px\"}}/>,\n        mapElement: <div style={{height: \"100%\"}}/>\n    }),\n    withScriptjs,\n    withGoogleMap\n)((props)=>\n<GoogleMap \ndefaultZoom={17} \ndefaultCenter={markerPosition || center}\nonClick={setLocation}\n>\n<Marker position={markerPosition}></Marker>\n{markerShown && <Marker position={markerPosition}/>}\n</GoogleMap>\n);\n\nconst setLocation = (e)=>{\n    const latLng = e.latLng;\n    let latitud = latLng.lat()\n    let longitud = latLng.lng()\n    let coordinates = {\n        lat: latitud,\n        lng: longitud\n    }\n    console.log(latitud)\n    console.log(longitud)\n    setMarkerPosition(latLng)\n    setMarkerShown(true)\n    props.handleLocation(coordinates)\n\n}\n\nreturn(\n    <Fragment>\n    <LandingNav></LandingNav>\n    <div className=\"row my-4\">\n        <div className=\"col-md-2\"></div>\n        <div className=\"col-md-8\">\n            <div className=\"container bg-color rounded-lg text-light\">\n                <h1 className=\"text-center my-10 pt-2\">Establece tu ubicacion</h1>\n            </div>\n            <Map></Map>\n            <div className=\"container text-center\">\n                <button className=\"btn btn-lg btn-warning my-4 mx-5\" onClick={back}>Atras</button>\n                <button className=\"btn btn-lg btn-warning my-4 mx-5\" onClick={next}>Siguiente</button>\n            </div>\n        </div>\n        <div className=\"col-md-2\"></div>\n        </div>\n    </Fragment>\n)\n\n}\n\nexport default MapReg;","import React, { Component, useState } from 'react';\nimport RegistroGeneral from './RegGen';\nimport RegTienda from './RegTienda';\nimport Confirm from './Confirm';\nimport Success from './Success';\nimport RegGen from './RegGen';\nimport {useHistory} from \"react-router-dom\";\nimport {storage} from '../../firebase';\nimport MapReg from './MapReg';\n\n\nexport class UserForm extends Component {\n    state = {\n      step: 1,\n      nombre: '',\n      email: '',\n      contra: '',\n      contraConfirm: '',\n      telefono: '',\n      universidad: '',\n      nombretienda: '',\n      horario: '',\n      tipo_tienda: '',\n      url_imagen: '',\n      tarjeta: '',\n      uni_nombre: '',\n      coordinates: null,\n      lat: null,\n      lng: null\n    };\n\n\n  // Proceed to next step\n  nextStep = () => {\n    const { step } = this.state;\n    this.setState({\n      step: step + 1\n    });\n  };\n\n  // Go back to prev step\n  prevStep = () => {\n    const { step } = this.state;\n    this.setState({\n      step: step - 1\n    });\n  };\n\n  // Handle fields change\n  handleChange = input => e => {\n    if(input=='universidad'){\n      this.setState({\n        universidad: e.target.value,\n        uni_nombre: e.target.options[e.target.selectedIndex].text,\n        coordinates: null,\n        lat: null,\n        lng: null\n      });\n      \n    }\n    this.setState({ [input]: e.target.value });\n  };\n\n  handleLocation = (coordinates)=>{\n    this.setState({coordinates: coordinates,\n      lat: coordinates.lat,\n    lng: coordinates.lng})\n    \n  }\n\n  handleUpload = (file) => {\n\n\n    const uploadTask = storage.ref(`images/${file.name}`).put(file);\n    uploadTask.on(\n      \"state_changed\",\n      snapshot => {\n\n      },\n      error => {\n        console.log(error);\n      },\n      () => {\n        storage\n          .ref(\"images\")\n          .child(file.name)\n          .getDownloadURL()\n          .then(url => {\n            this.setState({url_imagen: url})\n            console.log(url)\n          });\n        }\n      );\n  }\n\n  checkempty = ()=>{\n    let empty;\n    console.log(this.state)\n    Object.values(this.state).map((value, index)=>{\n      if(value==''){\n        if(!(index==9)){\n          empty = true;\n        console.log(index);\n        }\n        \n      }\n    });\n    return empty;\n  }\n\n  submit = async () =>{\n    if(this.checkempty()){\n      alert('Llena todos los campos')\n    }else{\n    try{\n      const body = this.state;\n      console.log(JSON.stringify(body))\n      const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/tiendas',\n      {\n          method: \"POST\",\n          headers: {\"Content-Type\": \"application/json\"},\n          body: JSON.stringify(body)\n      })\n      .then(async resp =>{\n          const result = await resp.json()\n          console.log(result)\n          if(result.error){\n              console.log(result.error)\n              console.log(result)\n              console.log(result)\n              this.props.history.push(\"/\")\n          }else{\n            console.log(result.status)\n              console.log(result.message)\n              this.props.history.push(\"/\")\n          }\n      })\n  this.nextStep()\n  }catch(err){\n    console.log(err)\n    console.log('algo salio mal')\n  }\n}\n  }\n\n\n  handleMouseDownPassword = (event) => {\n    this.event.preventDefault();\n  };\n\n  render() {\n      const { step } = this.state;\n      const { nombre, email, contra, contraConfirm, telefono, universidad, nombretienda, tipo_tienda, url_imagen, tarjeta, horario, uni_nombre, latitud, longitud, coordinates } = this.state;\n      const values = { nombre, email, contra, contraConfirm, telefono, universidad, nombretienda, tipo_tienda, url_imagen, tarjeta, horario, uni_nombre, latitud, longitud, coordinates };\n\n    switch (step) {\n      case 1:\n        return (\n          <RegGen\n            nextStep={this.nextStep}\n            handleChange={this.handleChange}\n            values={values}\n            universidades={this.state.universidades}\n          />\n        );\n      case 2:\n        return (\n          <RegTienda\n            nextStep={this.nextStep}\n            prevStep={this.prevStep}\n            handleChange={this.handleChange}\n            handleUpload={this.handleUpload}\n            values={values}\n          />\n        );\n        case 3:\n          return(\n            <MapReg nextStep={this.nextStep}\n            prevStep={this.prevStep}\n            values={values}\n            handleLocation={this.handleLocation}\n            />\n          )\n      case 4:\n        return (\n          <Confirm\n            submit={this.submit}\n            prevStep={this.prevStep}\n            values={values}\n          />\n        );\n      case 4:\n        return <Success />;\n\n    }\n  }\n}\n\nexport default UserForm;\n","import React, {Fragment, useEffect, useState} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport Errorflash from '../Errorflash';\nimport LandingNav from './LandingNav';\n\n  const RegistroGeneral = ()=>{\n\n    let history = useHistory();\n    const [data, setData] = useState({\n      nombre: '',\n      email: '',\n      contra: '',\n      contra1:\"\",\n      tel: '',\n      universidad: ''\n    });\n\n    const [unis, setUnis] = useState([]);\n    useEffect(()=>{\n      fetchUniversidades()\n    }, [])\n\n    const fetchUniversidades = async ()=>{\n      const data = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/universidadesvalidadas')\n      const json = await data.json();\n      console.log(json)\n      setUnis(json);\n    }\n\n    const [error, setError] = useState(false)\n\n\n    const updateField = e => {\n      setData({\n        ...data,\n        [e.target.name]: e.target.value\n      });\n    }\n\n    function validar(contra) {\n      if (contra == data.contra1) {\n        const re = new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\\w\\s]).{8,}$/);\n        const isOk = re.test(contra);\n        if(!isOk) {\n            return alert('Contraseña invalida: no cumple con los requisitos de seguridad!');\n        }\n      } else {\n        return alert ('Contraseñas no coinciden')\n      }\n\n    }\n\n  const onSubmitForm = async e => {\n    e.preventDefault();\n    try {\n      if ( validar(data.contra) != true) {\n\n      }\n      if (data.nombre!==\"\" && data.email !==\"\" && data.contra!=\"\" && data.tel!==\"\" && data.universidad!==\"\") {\n        const body = data;\n        const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/usuarios', {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(body)\n        }).then(async resp => {\n          const result = await resp.json()\n          if (result.error) {\n            console.log(result.error)\n            history.push(\"/\")\n          } else {\n            history.push(\"/\")\n          }\n        })\n      }\n      else{\n\n        setError(true)\n        console.log(error)\n      }\n\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n\n    return(\n        <Fragment>\n          <LandingNav></LandingNav>\n            <div className=\"container bg-color w-50 rounded-lg my-4 text-light\">\n                <h1 className=\"text-center my-10 pt-5\">Registrate aqui</h1>\n                <div className=\"my-2\">\n                  {error ? <Errorflash/> : '' }\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-3\"></div>\n                  <div className=\"col-md-6\">\n                  <form className=\"my-5 text-center mx-auto\" onSubmit={onSubmitForm}>\n                    <div className=\"form-group text-left\">\n                        <label for=\"name\">Nombre</label>\n                          <input\n                          className=\"form-control\"\n                          id=\"username\"\n                          type=\"text\"\n                          name=\"nombre\"\n                          value={data.nombre}\n                          onChange={updateField}\n                          ></input>\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                        <label for=\"email\">Email address</label>\n                        <input\n                          className=\"form-control\"\n                          id=\"email\"\n                          type=\"email\"\n                          name= \"email\"\n                          value={data.email}\n                          onChange={updateField}\n                          ></input>\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                      <label for=\"contra1\">Contra</label>\n                        <p class=\"text-warning\"><small> *Minimo 8 caracteres, una mayuscula, una minuscula, un caracter especial y un número.</small></p>\n                      <input\n                        className=\"form-control\"\n                        id=\"contra1\"\n                        type=\"password\"\n                        name=\"contra1\"\n                        value={data.contra1}\n                        onChange={updateField}\n                        ></input>\n                    </div>\n                    <div className=\"form-group text-left\">\n                        <label for=\"contra\">Confirma contraseña</label>\n                          <input\n                            className=\"form-control\"\n                            id=\"contra\"\n                            type=\"password\"\n                            name= \"contra\"\n                            value={data.contra}\n                            onChange={updateField}\n                            ></input>\n                    </div>\n\n                    <div className=\"form-group text-left\">\n                        <label for=\"tel\">Telefono</label>\n                          <input\n                            className=\"form-control\"\n                            id=\"tel\"\n                            type=\"tel\"\n                            name= \"tel\"\n                            value={data.tel}\n                            onChange={updateField}\n                            ></input>\n                    </div>\n                    <div className=\"form-group text-left\">\n                      <label for=\"universidad\">Universidad</label>\n                      <select id=\"universidad\" name=\"universidad\" className=\"form-control\" onChange={updateField}>\n                      <option selected>Selecciona universidad</option>\n                       {unis.map(uni=>(\n                         <option key={uni.id} value={uni.id}>{uni.nombre}</option>\n                       ))}\n                      </select>\n                    </div>\n                    {/* <div className=\"form-group text-left\">\n                        <label for=\"universidad\">Universidad</label>\n                        <input\n                          className=\"form-control\"\n                          id=\"universidad\"\n                          type=\"text\"\n                          name= \"universidad\"\n                          value={data.universidad}\n                          onChange={updateField}></input>\n                    </div> */}\n                    <button className=\"btn btn-lg btn-warning my-4\" type=\"submit\">Registrar</button>\n\n                </form>\n                  </div>\n                  <div className=\"col-md-3\"></div>\n\n                </div>\n\n            </div>\n        </Fragment>\n    )\n}\n\nexport default RegistroGeneral;\n","import React, {Fragment, useCallback, useContext, useEffect, useState, useRef} from 'react';\nimport usePlacesAutocomplete, {getGeocode, getLatLng} from 'use-places-autocomplete';\nimport {Combobox, ComboboxOption, ComboboxInput, ComboboxPopover, ComboboxList} from '@reach/combobox';\nimport {GoogleMap, useLoadScript, Marker} from '@react-google-maps/api'\nimport \"@reach/combobox/styles.css\"\nimport MapStyles from '../MapStyles';\n\n// const Map = (props)=>{\n//     const options ={\n//         styles: MapStyles,\n//         disableDefaultUI: true,\n//     }\n\n\n//     return(\n//         <Fragment>\n        \n//         <GoogleMap\n//         defaultZoom={5} \n//         defaultCenter={{lat: 29.08254818, lng: -110.96178531}}\n//         options={options}\n//         onClick={props.onMapClick}\n//         >\n//         {props.markerPosition && \n//         <Marker\n//         position={props.markerPosition}\n//         />\n//         }\n//         </GoogleMap>\n\n//         </Fragment>\n//     )\n    \n\n// }\n\n// const MyMapComponent = withScriptjs(withGoogleMap(Map))\n\n// const loadGMaps = (callback) => {\n//     const existingScript = document.getElementById('googleMaps');\n//     if (!existingScript) {\n//       const script = document.createElement('script');\n//       script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo&libraries-places';\n//       script.id = 'googleMaps';\n//       document.body.appendChild(script);\n//       script.onload = () => { \n//         if (callback) callback();\n//       };\n//     }\n//     if (existingScript && callback) callback();\n//   };\nconst libraries = [\"places\"]\n\nconst MapaUni= (props)=>{\n    const mapRef = useRef()\n    const onMapLoad = useCallback((map)=>{\n        mapRef.current = map;\n    }, [])\n\n    const [markerPosition, setMarkerPosition] = useState()\n\n    const panTo = useCallback(({lat, lng})=>{\n        mapRef.current.panTo({lat, lng})\n        mapRef.current.setZoom(16)\n    }, [])\n    \n    const mapContainerStyle = {\n        width: \"100%\",\n        height: \"100%\"\n    }\n    const center = {\n        lat: 23.634501, \n        lng:  -102.552784\n    }\n    const options ={\n                styles: MapStyles,\n                disableDefaultUI: true,\n            }\n   \n    const {isLoaded, loadError} = useLoadScript({\n        googleMapsApiKey: 'AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo',\n        libraries,\n    })\n    if(loadError) return \"Error loading map\";\n    if(!isLoaded) return \"loading\"\n    const style=\n    {\n        width: \"100%\",\n        height: \"400px\"\n    }\n\n    return(\n        <Fragment>\n            <Search panTo={panTo} setMarkerPosition={props.setMarkerPosition} setData={props.setData}/>\n            <div style={style}>\n            <GoogleMap mapContainerStyle={mapContainerStyle} \n            zoom={5} \n            center={props.markerPosition || center}\n            options={options}\n            onClick={props.onMapClick}\n            onLoad={onMapLoad}\n            >\n\n                {props.markerPosition && <Marker position={props.markerPosition}/>}\n            </GoogleMap>\n            </div>\n        {/* <Search/>\n        <MyMapComponent\n        googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcUw9PQsvW0euSqylR6x4rCBXLpFn6VCo`}\n        loadingElement={<div style={{ height: `100%` }} />}\n        containerElement={<div style={{ height: `400px` }} />}\n        mapElement={<div style={{ height: `100%` }} />}\n        onMapClick={props.onMapClick}\n        markerPosition={props.markerPosition}\n        /> */}\n        </Fragment>\n    )\n\n}\n\nconst Search = ({panTo, setMarkerPosition, setData})=>{\n   \n    const {\n        ready, value, suggestions:{status, data}, setValue, clearSuggestions\n     }= usePlacesAutocomplete({\n         requestOptions: {\n             location: {lat: ()=> 23.634501, lng: ()=>-102.552784},\n             radius: 200 * 1000\n         },\n     })\n     return (\n         <div className=\"my-4 w-100 rounded\">\n             \n     <Combobox className=\"w-100\" \n         onSelect={async (address)=>{\n        setValue(address, false);\n        clearSuggestions();\n         try{\n            const results = await getGeocode({address})\n            const {lat, lng} = await getLatLng(results[0])\n            panTo({lat,lng})\n            console.log(results[0]);\n            setMarkerPosition({\n                lat: lat,\n                lng: lng\n            })\n            const nombre = address\n            const ciudad = results[0]['address_components'][3]['long_name']\n            const estado = results[0]['address_components'][4]['long_name']\n            console.log(ciudad, estado, nombre)\n            const datos = {\n                nombre: nombre,\n                ciudad: ciudad,\n                estado: estado\n            }\n            setData(datos)\n            \n         }catch(err){\n            console.log(err)\n         }\n         }}>\n         <ComboboxInput className=\"w-100 rounded\" value={value} \n         onChange={(e)=> setValue(e.target.value)} \n         disabled={!ready}\n         placeholder=\"Ingresa el nombre de tu universidad\"/>\n         <ComboboxPopover>\n             <ComboboxList>\n             {status ===\"OK\" && \n             data.map(({id, description})=>(\n                 <ComboboxOption key={id} value={description}/>\n             ))}\n             </ComboboxList>\n         </ComboboxPopover>\n \n     </Combobox>\n     \n     </div>\n     )\n \n }\nexport default MapaUni;","import React, {Fragment, useState} from 'react'\nimport {useHistory} from \"react-router-dom\";\nimport Errorflash from '../Errorflash';\nimport LandingNav from './LandingNav';\nimport MapaUni from './MapaUni';\nimport usePlacesAutocomplete, {getGeocode, getLatLng} from 'use-places-autocomplete'\nimport {ComboboxInput, Combobox, ComboboxPopover, ComboboxList, ComboboxOption} from '@reach/combobox'\n\n\nconst RegistroUniversidad = ()=>{\n\n    const [markerPosition, setMarkerPosition] = useState();\n    \n    let history = useHistory()\n    const [data, setData] = useState({\n        nombre: '',\n        ciudad: '',\n        estado: ''\n    });\n\n    const setLocation = (e)=>{\n        const latLng = e.latLng;\n        let latitud = latLng.lat()\n        let longitud = latLng.lng()\n        let coordinates = {\n            lat: latitud,\n            lng: longitud\n        }\n        console.log(coordinates)\n        setMarkerPosition(coordinates)\n    }\n\n    const [alert, setAlert] = useState([])\n    const [error, setError] = useState(false)\n\n    const updateField = e =>{\n        setData({\n            ...data,\n            [e.target.name]: e.target.value\n        });\n    }\n\n    const onSubmitForm = async e =>{\n        e.preventDefault();\n        try{\n            if (data.nombre!==\"\" && data.ciudad !==\"\" && data.estado!==\"\") {\n              const body = {\n                  data: data,\n                  ubi: markerPosition\n              }\n              const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/universidades',\n              {\n                  method: \"POST\",\n                  headers: {\"Content-Type\": \"application/json\"},\n                  body: JSON.stringify(body)\n              })\n              .then(async resp =>{\n                  const result = await resp.json()\n                  console.log(result)\n                  console.log(resp)\n                  if(result.error){\n                      console.log(result.error)\n                      history.push(\"/\")\n                  }else{\n                      history.push(\"/\")\n                  }\n              })\n              .catch(err=>{\n                  console.log(err)\n              })\n            }else{\n                setError(true)\n        console.log(error)\n            }\n        }catch(err){\n            console.log(err)\n        }\n    }\n\n    return(\n        <Fragment>\n            <LandingNav></LandingNav>\n            <div className=\"\"></div>\n            <div className=\"container w-50 my-4 py-2 bg-color rounded-lg text-light\">\n                <h1 className=\"text-center my-10 pt-5\">Registra tu Universidad</h1>\n                <div className=\"my-2\">\n                  {error ? <Errorflash/> : '' }\n                </div>\n                \n                <form className=\"my-5 text-center mx-auto w-75\" onSubmit={onSubmitForm}>\n                    {/* <div className=\"form-group text-left\">\n                        <label for=\"Name_Universidad\">Universidad</label>\n                        <input\n                        className=\"form-control\"\n                        id=\"Name_Universidad\"\n                        type=\"text\"\n                        name=\"nombre\"\n                        value={data.nombre}\n                        onChange={updateField}\n                        ></input>\n                    </div> */}\n                    {/* <div className=\"form-group text-left\">\n                        <label for=\"tel\">Ciudad</label>\n                        <input\n                        className=\"form-control\"\n                        id=\"Ciudad\"\n                        type=\"text\"\n                        name=\"ciudad\"\n                        value={data.ciudad}\n                        onChange={updateField}\n                        ></input>\n                    </div>\n                    <div className=\"form-group text-left\">\n                        <label for=\"Campus\">Estado</label>\n                        <input\n                        className=\"form-control\"\n                        id=\"Campus\"\n                        type=\"text\"\n                        name=\"estado\"\n                        value={data.estado}\n                        onChange={updateField}\n                        ></input>\n                    </div> */}\n                    \n                    <MapaUni setData={setData} onMapClick={setLocation} setMarkerPosition={setMarkerPosition} markerPosition={markerPosition} markerShown='true'></MapaUni>\n                    <button className=\"btn btn-lg btn-warning my-4\" type=\"submit\">Registrar</button>\n                </form>\n            </div>\n        </Fragment>\n    )\n}\nexport default RegistroUniversidad;\n","import React, {Fragment, useState} from 'react'\nimport {useHistory} from \"react-router-dom\";\nimport '../LandingPage.css';\nimport {ToastContainer, toast, Zoom, Bounce } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\"\nimport LandingNav from '../Landing-Registro/LandingNav';\n\n\n    const OlvidarContra  =() =>{\n        const history = useHistory()\n        const [email,setEmail] = useState(\"\")\n\n        const PostData = ()=>{\n            if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n                toast({html: \"invalid email\",classes:\"#c62828 red darken-3\"})\n                return\n            }\n            fetch('https://tiendas-unison-web.herokuapp.com/olvidarcontra   ',{\n                method:\"post\",\n                headers:{\n                    \"Content-Type\":\"application/json\"\n                },\n                body:JSON.stringify({\n                    email\n                })\n            }).then(res=>res.json())\n            .then(data=>{\n               if(data.error){\n                   toast({html: data.error,classes:\"#c62828 red darken-3\"})\n               }\n               else{\n                   toast({html:data.message,classes:\"#43a047 green darken-1\"})\n                   history.push('/')\n               }\n            }).catch(err=>{\n                console.log(err)\n            })\n        }\n       return (\n           <Fragment>\n           <LandingNav></LandingNav>\n        <div className=\"container w-25 my-5 p-3 bg-primary rounded-lg text-light\">\n        <h4 className=\"text-center my-5 pt-5\">Restablece tu contraseña</h4>\n           \n           \n           <div className=\"form-group text-left\">\n                  <label for=\"email\">Email address</label>\n                    <input\n                     className=\"form-control\"\n                     \n                     type=\"text\"\n                     placeholder=\"email\" \n                     value={email}\n                     onChange={(e)=>setEmail(e.target.value)}\n                     \n                     ></input>\n           </div> \n           <button className=\"btn btn-lg btn-warning my-5\" onClick={()=>PostData()} > Enviar correo </button>\n    \n         \n     </div>\n     </Fragment>\n \n    \n       )\n    }\n\nexport default OlvidarContra\n\n// https://www.youtube.com/watch?v=VdVGPov7Yqc  toastify \n/*\nconst OlvidarContra = ()=> {\n        let history = useHistory()\n        const [data, setData] = useState({\n            email: ''\n        });\n\n        const [alert, setAlert] = useState([])\n\n        const updateField = e =>{\n            setData({\n                ...data,\n                [e.target.name]: e.target.value\n            });\n        }\n        const onSubmitForm = async e =>{\n            e.preventDefault();\n            try{\n                const body = data;\n                console.log(body);\n                const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/olvidarcontra',\n                {\n                    method: \"POST\",\n                    headers: {\"Content-Type\": \"application/json\"},\n                    body: JSON.stringify(body)\n                })\n                .then(async resp =>{\n                    const result = await resp.json()\n                    if(result.error){\n                        console.log(result.error)\n                        history.push(\"/home\")\n                    }else{\n                        console.log(result)\n                        history.push(\"/\")\n                    }\n                })\n            }catch(err){\n      \n            }\n        }\n    return(\n        \n        <Fragment>\n        <div className=\"container w-25 p-3 bg-primary rounded-lg text-light\">\n             <h4 className=\"text-center my-5 pt-5\">Restablece tu contraseña</h4>\n\n             <form className=\"my-5 text-center mx-auto\" onSubmit={onSubmitForm}>            \n                    <label for=\"email\">Email address</label>\n                    <input\n                      className=\"form-control\"\n                      id=\"email\"\n                      type=\"email\"\n                      name= \"email\"\n                      value={data.email}\n                      onChange={updateField}\n                      ></input>\n                     <button className=\"btn btn-lg btn-warning my-5\" type=\"submit\">Enviar correo</button>\n\n\n                      </form>\n                \n    </div>\n    \n\n</Fragment>\n)\n}\n\nexport default OlvidarContra; */\n      ","import React, {Fragment, useState} from 'react';\nimport {useParams, useHistory} from 'react-router-dom';\nimport LandingNav from './../Landing-Registro/LandingNav';\n\nconst Restablecer = ()=> {\n    const history = useHistory();\n    const [password, setPassword] = useState(\"\")\n    const {token} = useParams()\n\n    const PostData = async ()=>{\n        console.log('click')\n        await fetch(\"https://tiendas-unison-web.herokuapp.com/new-password\", {\n            method: \"post\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({password, token})\n        })\n        .then(res=>res.json())\n        .then(data=>{\n            console.log(data)\n            if(data.error){\n                console.log(data.error)\n            }else{\n                alert('Tu contraseña cambió exitosamente')\n                history.push('/login')\n            }\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n    return(\n        \n        <Fragment>\n            <LandingNav></LandingNav>\n            <div class = \"restablece\">\n            <div className=\"container w-25 my-5 bg-primary rounded-lg text-light p-4\">\n             \n                    <div className=\"form-group text-left\">\n                        <label for=\"pwd\">Contraseña</label>\n                        <input id=\"pwd\" className=\"form-control\" onChange={(e)=>setPassword(e.target.value)} type=\"password\"></input>\n                    </div>\n                <button className=\"btn btn-lg btn-warning my-4\"  onClick={()=>PostData()}>Reestablecer contraseña</button>\n\n                \n            </div>  \n            </div>\n        </Fragment>\n        \n    );\n}\n\nexport default Restablecer; ","import React, {Fragment, useState, useContext} from 'react';\nimport { UserContext } from '../../UserContext';\nimport '../LandingPage.css';\nimport { Link } from 'react-router-dom';\nimport {useHistory} from \"react-router-dom\";\nimport LandingNav from './LandingNav';\n\n\n\nconst LandingPage = ()=> {\n  let history = useHistory()\n  const {user, setUser} = useContext(UserContext);\n\n//   const [data, setData] = useState({\n//       email: '',\n//       contra: ''\n//   });\n\n//   const [alert, setAlert] = useState([])\n\n//   const updateField = e =>{\n//       setData({\n//           ...data,\n//           [e.target.name]: e.target.value\n//       });\n//   }\n\n//   const onSubmitForm = async e =>{\n\n//     e.preventDefault();\n//     try{\n//         const body = data;\n//         console.log(body);\n//         const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/usuario/login',\n//         {\n//             method: \"POST\",\n//             headers: {\"Content-Type\": \"application/json\"},\n//             body: JSON.stringify(body)\n//         })\n//         .then(async resp =>{\n//             const result = await resp.json()\n//             if(result.error){\n//                 console.log(result.error)\n//                 history.push(\"/home\")\n//             }else{\n//               console.log(result)\n//                 console.log(result.user);\n//                 console.log(result)\n//                 console.log(resp)\n//                 localStorage.setItem(\"token.tuw\", result.user.token)\n//                 setUser(result.user);\n//                 history.push(\"/\")\n\n//             }\n//         })\n//     }catch(err){\n\n//     }\n// }\n\n\n    return(\n        <Fragment>\n\n        <div className = \"row text-center m-0 p-0 h-100\">\n            <div className = \"lpleft text-center mx-auto col-sm-5\">\n                <h1>Tiendas</h1>\n                <h1>Universitarias</h1>\n                <div className=\"row my-4\">\n                    <div className=\"col-sm-8 m-auto\">\n                        <img className=\"d-block mx-auto\" id=\"carrito\" src=\"/Unioncarrito.png\"/>\n                    </div>\n\n\n\n                 </div>\n                 <Link to=\"/registrouniversidad\">\n                <div className = \"badge\">\n                    <div className=\"alert alert-info\" role=\"alert\"> ¿No encuentras tu Universidad?<span className=\"alert-link\">¡Regístrala aquí!</span></div>\n                </div>\n                 </Link>\n            </div>\n\n            <div className= \"lpright col-sm-7 bg-color\">\n\n                <div className=\"container LandingPage\">\n                {/* <div className=\"form-group text-left\">\n                    <form className =\"ini1\" onSubmit={onSubmitForm}>\n                        <div className=\"row\">\n                            <div className=\"col-md-3 mx-auto\">\n                                <div className=\"form-group\">\n                                <label htmlFor=\"email\" className=\"mx-1 text-white\">Email address: </label>\n                                <input\n                                  className=\"form-control-sm\"\n                                  id=\"email\"\n                                  type=\"email\"\n                                  name= \"email\"\n                                  value={data.email}\n                                  onChange={updateField}\n                                  ></input>\n                                </div>\n                            </div>\n                            <div className=\"col-md-3 mx-auto\">\n                                <div className=\"form-group\">\n                                <label htmlFor=\"contra\" className=\"mx-1 text-white\">Password: </label>\n                                <input\n                                  className=\"form-control-sm\"\n                                  type=\"password\"\n                                  id=\"contra\"\n                                  type=\"password\"\n                                  name= \"contra\"\n                                  value={data.contra}\n                                  onChange={updateField}\n                                  ></input>\n                                  <Link to=\"/olvidarcontra\">\n                                <small id=\"olvidada\" className=\"form-text .bg-black\">¿Olvidaste tu contraseña?</small>\n                                </Link>\n                                </div>\n                            </div>\n                            <div className=\"col-md-3 mx-auto\">\n                            <button className=\"btn btn-outline-warning btn-block my-4\" type=\"submit\"><a href=\"#\">Iniciar sesión</a></button>\n                            </div>\n                        </div>\n                    </form>\n                </div> */}\n                    <div className= \"ini3 text-center my-5\">\n                        <div className=\"container py-5\">\n                        <h1>Olvídate del efectivo,</h1>\n                        <h1>compralo en línea.</h1>\n                        <Link to=\"/login\">\n                        <button className=\"btn btn-outline-warning btn-lg mx-4\">Iniciar sesión</button>\n                        </Link>\n                        <Link to=\"/registro\">\n                        <button className=\"btn btn-lg btn-warning mx-4\">Registrate</button>\n                        </Link>\n                    </div>\n                </div>\n                </div>\n\n\n                </div>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default LandingPage;\n","import React, {Fragment} from 'react';\nimport {Link} from 'react-router-dom';\nimport LandingNav from './LandingNav';\n\nconst RegistroTipo = ()=>{\n    return(\n        <Fragment>\n            <LandingNav></LandingNav>\n            <div className=\"container h-100 text-center py-4 bg-light border\">\n            <h1 className=\"display-4 my-5 text-primary py-5\">¿Eres una tienda o un cliente?</h1>\n                <div className=\"row h-100 my-4 py-4\">\n                    <div className=\"col-md-6\">\n                        <Link to=\"/registro/tienda\">\n                        <button className=\"btn bg-color rounded h-25 w-50\"><h1>Tienda</h1></button>\n                        </Link>\n                    </div>\n                    <div className=\"col-md-6\">\n                        <Link to=\"/registro/cliente\">\n                    <button className=\"btn bg-color rounded h-25 w-50\"><h1>Cliente / Alumno</h1></button>\n                    </Link>\n                    </div>\n\n                </div>\n            </div>\n        </Fragment>\n    )\n}\n\nexport default RegistroTipo;","import React, { Fragment, useState, useMemo, useEffect, useLayoutEffect } from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\n\n//componentes\nimport Login from './components/Login/Login'\nimport Registro from './components/Landing-Registro/Registro'\n\nimport Admin from './components/Admin/Admin'\nimport Panel from './components/Tienda/Panel'\nimport MiInfo from './components/Tienda/MiInfo'\n\nimport Home from './components/Cliente/Home';\nimport UserForm from './components/Reg/UserForm'\n\nimport RegistroGeneral from './components/Landing-Registro/RegistroGeneral'\nimport RegistroTienda from './components/Landing-Registro/RegistroTienda'\nimport RegistroUniversidad from './components/Landing-Registro/RegistroUniversidad'\nimport OlvidarContra from './components/Login/OlvidarContra'\nimport Restablecer from './components/Login/Restablecer'\nimport LandingPage from './components/Landing-Registro/LandingPage'\nimport LoginFactory from './components/Factory'\nimport { UserContext } from './UserContext'\nimport RegistroTipo from './components/Landing-Registro/RegistroTipo'\nimport { setObservableConfig } from 'recompose';\n\n\n\nfunction App() {\n\n  const [user, setUser] = useState(null);\n  const value = useMemo(() => ({ user, setUser}), [user, setUser]);\n\n  const storedToken = localStorage.getItem('token.tuw');\n  const [token, setToken] = useState(storedToken || null);\n\n  const checkSignIn = async ()=>{\n      if(token){\n        const response = await fetch('https://tiendas-unison-web.herokuapp.com/api/v1/auth/user',\n              {\n                  method: \"GET\",\n                  headers: {\n                    \"x-auth-token\": token\n                }\n              })\n              .then(async resp=>{\n                const usuario = await resp.json();\n                if(resp.status==400){\n                  localStorage.removeItem('token.utw')\n                }else{\n                setUser(usuario)\n                }\n              })\n      }\n  }\n  // checkSignIn();\n\n  useLayoutEffect(()=>{\n    checkSignIn();\n  }, [])\n\n\n  if (user != null) {\n    console.log(value.user)\n    const usuario = value.user;\n    console.log(usuario)\n    switch (usuario.tipo_usuario) {\n      case 'cliente':\n        return(\n          <UserContext.Provider value={value}>\n          <Home/>\n          </UserContext.Provider>\n          // <Router>\n          //   <UserContext.Provider value={value}>\n          //     <Switch>\n          //     <Route path=\"/\" component={Home}/>\n          //     </Switch>\n          //   </UserContext.Provider>\n          // </Router>\n          );\n          break;\n      case 'admin':\n        return(\n          <Router>\n            <UserContext.Provider value={value}>\n              <Switch>\n              <Route path=\"/admin\" component={Admin}/>\n                <Redirect from=\"/\" to=\"/admin\"/>\n              </Switch>\n            </UserContext.Provider>\n          </Router>\n          );\n          break;\n      case 'tienda':\n        return(\n          <Router>\n            <UserContext.Provider value={value}>\n              <Switch>\n              <Route path=\"/panel\" component={Panel}/>\n                <Redirect from=\"/\" to=\"/panel\"/>\n              </Switch>\n            </UserContext.Provider>\n          </Router>\n          );\n          break;\n          case 'default':\n            return(<h1>Algo esta mal</h1>)\n    }\n\n\n  } else {\n\n    console.log(value);\n\n    return(\n\n      <Router>\n      <Fragment>\n\n          <UserContext.Provider value={value}>\n            <Switch>\n              <Route path=\"/login\" exact component={Login}/>\n              <Route path=\"/registro/tienda\" exact component={UserForm}/>\n              <Route path=\"/registro\" exact component={RegistroTipo}/>\n              <Route path=\"/registro/cliente\" exact component={RegistroGeneral}/>\n              <Route path=\"/registrouniversidad\" exact component={RegistroUniversidad}/>\n              <Route path=\"/olvidarcontra\" exact component={OlvidarContra}/>\n              <Route path=\"/reestablecer/:token\" component={Restablecer}/>\n              <Route path=\"/\" exact component={LandingPage}/>\n\n              <Redirect to=\"/\" />\n            </Switch>\n          </UserContext.Provider>\n      </Fragment>\n      </Router>\n      );\n  }\n\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './App';\n\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}